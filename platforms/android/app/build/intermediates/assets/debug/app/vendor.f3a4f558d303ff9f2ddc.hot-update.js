"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2015/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APP_ROOT_VIEW": () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   "ActionBarComponent": () => (/* binding */ ActionBarComponent),
/* harmony export */   "ActionBarScope": () => (/* binding */ ActionBarScope),
/* harmony export */   "ActionItemDirective": () => (/* binding */ ActionItemDirective),
/* harmony export */   "AndroidFilterComponent": () => (/* binding */ AndroidFilterComponent),
/* harmony export */   "AppHostAsyncView": () => (/* binding */ AppHostAsyncView),
/* harmony export */   "AppHostView": () => (/* binding */ AppHostView),
/* harmony export */   "BasePortalOutlet": () => (/* binding */ BasePortalOutlet),
/* harmony export */   "BaseValueAccessor": () => (/* binding */ BaseValueAccessor),
/* harmony export */   "COMMON_PROVIDERS": () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   "CdkPortal": () => (/* binding */ CdkPortal),
/* harmony export */   "CdkPortalOutlet": () => (/* binding */ CdkPortalOutlet),
/* harmony export */   "CheckedValueAccessor": () => (/* binding */ CheckedValueAccessor),
/* harmony export */   "CommentNode": () => (/* binding */ CommentNode),
/* harmony export */   "ComponentPortal": () => (/* binding */ ComponentPortal),
/* harmony export */   "DEVICE": () => (/* binding */ DEVICE),
/* harmony export */   "DISABLE_ROOT_VIEW_HANDLING": () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   "DateValueAccessor": () => (/* binding */ DateValueAccessor),
/* harmony export */   "DetachedLoader": () => (/* binding */ DetachedLoader),
/* harmony export */   "DomPortal": () => (/* binding */ DomPortal),
/* harmony export */   "ENABLE_REUSABE_VIEWS": () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   "EmulatedRenderer": () => (/* binding */ EmulatedRenderer),
/* harmony export */   "FrameDirective": () => (/* binding */ FrameDirective),
/* harmony export */   "FramePageComponent": () => (/* binding */ FramePageComponent),
/* harmony export */   "FramePageModule": () => (/* binding */ FramePageModule),
/* harmony export */   "FrameService": () => (/* binding */ FrameService),
/* harmony export */   "IOSFilterComponent": () => (/* binding */ IOSFilterComponent),
/* harmony export */   "InjectableAnimationEngine": () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   "InvisibleNode": () => (/* binding */ InvisibleNode),
/* harmony export */   "ItemContext": () => (/* binding */ ItemContext),
/* harmony export */   "ListViewComponent": () => (/* binding */ ListViewComponent),
/* harmony export */   "ModalDialogParams": () => (/* binding */ ModalDialogParams),
/* harmony export */   "ModalDialogService": () => (/* binding */ ModalDialogService),
/* harmony export */   "NAMESPACE_FILTERS": () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   "NATIVESCRIPT_MODULE_PROVIDERS": () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   "NATIVESCRIPT_MODULE_STATIC_PROVIDERS": () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   "NATIVESCRIPT_ROOT_MODULE_ID": () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   "NATIVE_DIALOG_DATA": () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   "NATIVE_DIALOG_DEFAULT_OPTIONS": () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   "NSEmptyOutletComponent": () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   "NSFileSystem": () => (/* binding */ NSFileSystem),
/* harmony export */   "NSLocationStrategy": () => (/* binding */ NSLocationStrategy),
/* harmony export */   "NSRouteReuseStrategy": () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   "NSRouterLink": () => (/* binding */ NSRouterLink),
/* harmony export */   "NSRouterLinkActive": () => (/* binding */ NSRouterLinkActive),
/* harmony export */   "NativeDialogCloseDirective": () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   "NativeDialogConfig": () => (/* binding */ NativeDialogConfig),
/* harmony export */   "NativeDialogModule": () => (/* binding */ NativeDialogModule),
/* harmony export */   "NativeDialogRef": () => (/* binding */ NativeDialogRef),
/* harmony export */   "NativeDialogService": () => (/* binding */ NativeDialogService),
/* harmony export */   "NativeModalRef": () => (/* binding */ NativeModalRef),
/* harmony export */   "NativeScriptAnimationDriver": () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   "NativeScriptAnimationPlayer": () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   "NativeScriptAnimationsModule": () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   "NativeScriptCommonModule": () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   "NativeScriptDocument": () => (/* binding */ NativeScriptDocument),
/* harmony export */   "NativeScriptDomPortalOutlet": () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   "NativeScriptFormsModule": () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   "NativeScriptHttpClientModule": () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   "NativeScriptLoadingService": () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   "NativeScriptModule": () => (/* binding */ NativeScriptModule),
/* harmony export */   "NativeScriptNgSafeEvent": () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   "NativeScriptNgZone": () => (/* binding */ NativeScriptNgZone),
/* harmony export */   "NativeScriptRendererFactory": () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   "NativeScriptRouterModule": () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   "NativeScriptSanitizer": () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   "NativescriptXhrFactory": () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   "NavigationButtonDirective": () => (/* binding */ NavigationButtonDirective),
/* harmony export */   "NgViewRef": () => (/* binding */ NgViewRef),
/* harmony export */   "NsHttpBackEnd": () => (/* binding */ NsHttpBackEnd),
/* harmony export */   "NsTemplatedItem": () => (/* binding */ NsTemplatedItem),
/* harmony export */   "NumberValueAccessor": () => (/* binding */ NumberValueAccessor),
/* harmony export */   "Outlet": () => (/* binding */ Outlet),
/* harmony export */   "PAGE_FACTORY": () => (/* binding */ PAGE_FACTORY),
/* harmony export */   "PageDirective": () => (/* binding */ PageDirective),
/* harmony export */   "PageRoute": () => (/* binding */ PageRoute),
/* harmony export */   "PageRouterOutlet": () => (/* binding */ PageRouterOutlet),
/* harmony export */   "PageService": () => (/* binding */ PageService),
/* harmony export */   "PlatformNamespaceFilter": () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   "Portal": () => (/* binding */ Portal),
/* harmony export */   "PortalModule": () => (/* binding */ PortalModule),
/* harmony export */   "RootCompositeModule": () => (/* binding */ RootCompositeModule),
/* harmony export */   "RootViewProxy": () => (/* binding */ RootViewProxy),
/* harmony export */   "RouterExtensions": () => (/* binding */ RouterExtensions),
/* harmony export */   "START_PATH": () => (/* binding */ START_PATH),
/* harmony export */   "SelectedIndexValueAccessor": () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   "TEMPLATED_ITEMS_COMPONENT": () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   "TabViewDirective": () => (/* binding */ TabViewDirective),
/* harmony export */   "TabViewItemDirective": () => (/* binding */ TabViewItemDirective),
/* harmony export */   "TemplateKeyDirective": () => (/* binding */ TemplateKeyDirective),
/* harmony export */   "TemplatePortal": () => (/* binding */ TemplatePortal),
/* harmony export */   "TextNode": () => (/* binding */ TextNode),
/* harmony export */   "TextValueAccessor": () => (/* binding */ TextValueAccessor),
/* harmony export */   "TimeValueAccessor": () => (/* binding */ TimeValueAccessor),
/* harmony export */   "_NativeDialogBase": () => (/* binding */ _NativeDialogBase),
/* harmony export */   "bootstrapApplication": () => (/* binding */ bootstrapApplication),
/* harmony export */   "createKeyframeAnimation": () => (/* binding */ createKeyframeAnimation),
/* harmony export */   "customFrameComponentFactory": () => (/* binding */ customFrameComponentFactory),
/* harmony export */   "customFrameDirectiveFactory": () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   "customPageFactory": () => (/* binding */ customPageFactory),
/* harmony export */   "customPageFactoryFromFrame": () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   "dashCaseToCamelCase": () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   "defaultNavOptions": () => (/* binding */ defaultNavOptions),
/* harmony export */   "defaultPageFactory": () => (/* binding */ defaultPageFactory),
/* harmony export */   "defaultPageFactoryProvider": () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   "detachViewFromParent": () => (/* binding */ detachViewFromParent),
/* harmony export */   "disableRootViewHanding": () => (/* binding */ disableRootViewHanding),
/* harmony export */   "errorHandler": () => (/* binding */ errorHandler),
/* harmony export */   "extractSingleViewRecursive": () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   "frameMeta": () => (/* binding */ frameMeta),
/* harmony export */   "generateDetachedLoader": () => (/* binding */ generateDetachedLoader),
/* harmony export */   "generateFallbackRootView": () => (/* binding */ generateFallbackRootView),
/* harmony export */   "generateNativeScriptView": () => (/* binding */ generateNativeScriptView),
/* harmony export */   "generateRandomId": () => (/* binding */ generateRandomId),
/* harmony export */   "generateRootLayoutAndProxy": () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   "getFirstNativeLikeView": () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   "getItemViewRoot": () => (/* binding */ getItemViewRoot),
/* harmony export */   "getSingleViewRecursive": () => (/* binding */ getSingleViewRecursive),
/* harmony export */   "getViewClass": () => (/* binding */ getViewClass),
/* harmony export */   "getViewMeta": () => (/* binding */ getViewMeta),
/* harmony export */   "instantiateDefaultStyleNormalizer": () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   "instantiateRendererFactory": () => (/* binding */ instantiateRendererFactory),
/* harmony export */   "instantiateSupportedAnimationDriver": () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   "isBlank": () => (/* binding */ isBlank),
/* harmony export */   "isContentView": () => (/* binding */ isContentView),
/* harmony export */   "isDetachedElement": () => (/* binding */ isDetachedElement),
/* harmony export */   "isInvisibleNode": () => (/* binding */ isInvisibleNode),
/* harmony export */   "isJsObject": () => (/* binding */ isJsObject),
/* harmony export */   "isKnownView": () => (/* binding */ isKnownView),
/* harmony export */   "isLayout": () => (/* binding */ isLayout),
/* harmony export */   "isListLikeIterable": () => (/* binding */ isListLikeIterable),
/* harmony export */   "isPresent": () => (/* binding */ isPresent),
/* harmony export */   "isView": () => (/* binding */ isView),
/* harmony export */   "onAfterLivesync": () => (/* binding */ onAfterLivesync),
/* harmony export */   "onBeforeLivesync": () => (/* binding */ onBeforeLivesync),
/* harmony export */   "once": () => (/* binding */ once),
/* harmony export */   "platformNativeScript": () => (/* binding */ platformNativeScript),
/* harmony export */   "platformNativeScriptDynamic": () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   "postAngularBootstrap$": () => (/* binding */ postAngularBootstrap$),
/* harmony export */   "preAngularDisposal$": () => (/* binding */ preAngularDisposal$),
/* harmony export */   "provideLocationStrategy": () => (/* binding */ provideLocationStrategy),
/* harmony export */   "registerElement": () => (/* binding */ registerElement),
/* harmony export */   "registerNativeScriptViewComponents": () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   "runNativeScriptAngularApp": () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   "throwIfAlreadyLoaded": () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   "throwNoPortalAttachedError": () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   "throwNullPortalError": () => (/* binding */ throwNullPortalError),
/* harmony export */   "throwNullPortalOutletError": () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   "throwPortalAlreadyAttachedError": () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   "throwPortalOutletAlreadyDisposedError": () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   "throwUnknownPortalTypeError": () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/application/application.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@nativescript/core/color/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/utils/macrotask-scheduler.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__("./node_modules/@nativescript/core/utils/mainthread-helper.android.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@angular/core/fesm2015/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@angular/common/fesm2015/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@angular/router/fesm2015/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@angular/forms/fesm2015/forms.mjs");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2015/animations.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@angular/animations/fesm2015/browser.mjs");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@angular/platform-browser/fesm2015/animations.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/common/fesm2015/http.mjs");

















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
CommentNode.id = 0;
class TextNode extends InvisibleNode {
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
TextNode.textChangeEvent = 'textChange';
TextNode.id = 0;
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view === null || view === void 0 ? void 0 : view.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
}
NativeScriptLoadingService.ɵfac = function NativeScriptLoadingService_Factory(t) {
  return new (t || NativeScriptLoadingService)();
};
NativeScriptLoadingService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativeScriptLoadingService,
  factory: NativeScriptLoadingService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
}
NativeScriptDebug.animationsTraceCategory = 'ns-animations';
NativeScriptDebug.rendererTraceCategory = 'ns-renderer';
NativeScriptDebug.viewUtilCategory = 'ns-view-util';
NativeScriptDebug.routerTraceCategory = 'ns-router';
NativeScriptDebug.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
NativeScriptDebug.listViewTraceCategory = 'ns-list-view';
NativeScriptDebug.bootstrapCategory = 'bootstrap';
// TODO: migrate all usage to this - avoids extraneous method executions
NativeScriptDebug.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.isEnabled();
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
}
NativescriptXhrFactory.ɵfac = /* @__PURE__ */function () {
  let ɵNativescriptXhrFactory_BaseFactory;
  return function NativescriptXhrFactory_Factory(t) {
    return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
  };
}();
NativescriptXhrFactory.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativescriptXhrFactory,
  factory: NativescriptXhrFactory.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    var _a;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span) {
      (_a = parent.formattedText) !== null && _a !== void 0 ? _a : parent.formattedText = new _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }

    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }

  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    var _a;
    if ((_a = parent.meta) === null || _a === void 0 ? void 0 : _a.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }

  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    var _a;
    if ((_a = parent.meta) === null || _a === void 0 ? void 0 : _a.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }

    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }

    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};

NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node === null || node === void 0 ? void 0 : node.destroyNode) {
        node === null || node === void 0 ? void 0 : node.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }

  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
}
EmulatedRenderer.ɵfac = function EmulatedRenderer_Factory(t) {
  _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinvalidFactory"]();
};
EmulatedRenderer.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: EmulatedRenderer,
  factory: EmulatedRenderer.ɵfac
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: undefined
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: undefined
    }];
  }, {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
}
CdkPortal.ɵfac = function CdkPortal_Factory(t) {
  return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef));
};
CdkPortal.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CdkPortal,
  selectors: [["", "cdkPortal", ""]],
  exportAs: ["cdkPortal"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }];
  }, null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_componentFactoryResolver, _viewContainerRef, renderer) {
    super();
    this._componentFactoryResolver = _componentFactoryResolver;
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    const ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
}
CdkPortalOutlet.ɵfac = function CdkPortalOutlet_Factory(t) {
  return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
CdkPortalOutlet.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CdkPortalOutlet,
  selectors: [["", "cdkPortalOutlet", ""]],
  inputs: {
    portal: ["cdkPortalOutlet", "portal"]
  },
  outputs: {
    attached: "attached"
  },
  exportAs: ["cdkPortalOutlet"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output
    }]
  });
})();
class PortalModule {}
PortalModule.ɵfac = function PortalModule_Factory(t) {
  return new (t || PortalModule)();
};
PortalModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: PortalModule
});
PortalModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };

    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
// eslint-disable-next-line @angular-eslint/component-class-suffix
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
}
DetachedLoader.ɵfac = function DetachedLoader_Factory(t) {
  return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef));
};
DetachedLoader.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: DetachedLoader,
  selectors: [["DetachedContainer"]],
  viewQuery: function DetachedLoader_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
    }
  },
  ngContentSelectors: _c1,
  decls: 5,
  vars: 0,
  consts: [["loader", ""], ["vc", ""]],
  template: function DetachedLoader_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "Placeholder", null, 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](2, null, 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](4);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef
    }];
  }, {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    var _a;
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(!!((_a = this.page) === null || _a === void 0 ? void 0 : _a.isLoaded));
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
}
PageService.ɵfac = function PageService_Factory(t) {
  return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.ViewBase, 8));
};
PageService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: PageService,
  factory: PageService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_47__.ViewBase,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
}
FramePageComponent.ɵfac = function FramePageComponent_Factory(t) {
  return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
FramePageComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: FramePageComponent,
  selectors: [["FramePage"]],
  inputs: {
    actionBarHidden: "actionBarHidden"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
    useFactory: customFrameComponentFactory,
    deps: [FramePageComponent]
  }, {
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
    useFactory: customPageFactoryFromFrame,
    deps: [FramePageComponent]
  }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 0,
  template: function FramePageComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
}
FrameDirective.ɵfac = function FrameDirective_Factory(t) {
  return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
FrameDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: FrameDirective,
  selectors: [["Frame"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
    useFactory: customFrameDirectiveFactory,
    deps: [FrameDirective]
  }])]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
}
PageDirective.ɵfac = function PageDirective_Factory(t) {
  return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
PageDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: PageDirective,
  selectors: [["Page"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
    useFactory: customPageFactory,
    deps: [PageDirective]
  }, PageService])]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
class FramePageModule {}
FramePageModule.ɵfac = function FramePageModule_Factory(t) {
  return new (t || FramePageModule)();
};
FramePageModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: FramePageModule
});
FramePageModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
}
ActionBarComponent.ɵfac = function ActionBarComponent_Factory(t) {
  return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8));
};
ActionBarComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ActionBarComponent,
  selectors: [["ActionBar"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 0,
  template: function ActionBarComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
// eslint-disable-next-line @angular-eslint/component-class-suffix
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
}
ActionBarScope.ɵfac = function ActionBarScope_Factory(t) {
  return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8));
};
ActionBarScope.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ActionBarScope,
  selectors: [["ActionBarExtension"]],
  decls: 0,
  vars: 0,
  template: function ActionBarScope_Template(rf, ctx) {},
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
}
ActionItemDirective.ɵfac = function ActionItemDirective_Factory(t) {
  return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ActionBarScope, 8));
};
ActionItemDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: ActionItemDirective,
  selectors: [["ActionItem"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
}
NavigationButtonDirective.ɵfac = function NavigationButtonDirective_Factory(t) {
  return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ActionBarScope, 8));
};
NavigationButtonDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NavigationButtonDirective,
  selectors: [["NavigationButton"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}

function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.reattach();
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    var _a;
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !((_a = this._templateMap) === null || _a === void 0 ? void 0 : _a.has('default'))) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
}
ListViewComponent.ɵfac = function ListViewComponent_Factory(t) {
  return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
ListViewComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ListViewComponent,
  selectors: [["ListView"]],
  contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
    }
  },
  viewQuery: function ListViewComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
    }
  },
  hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
        return ctx.onItemLoading($event);
      });
    }
  },
  inputs: {
    items: "items"
  },
  outputs: {
    setupItemView: "setupItemView"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: TEMPLATED_ITEMS_COMPONENT,
    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => ListViewComponent)
  }])],
  decls: 3,
  vars: 0,
  consts: [["loader", ""]],
  template: function ListViewComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "DetachedContainer");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, null, 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    }
  },
  encapsulation: 2,
  changeDetection: 0
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
}
TemplateKeyDirective.ɵfac = function TemplateKeyDirective_Factory(t) {
  return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
};
TemplateKeyDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TemplateKeyDirective,
  selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
  inputs: {
    nsTemplateKey: "nsTemplateKey",
    nsTemplateKeys: "nsTemplateKeys"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Host
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [TEMPLATED_ITEMS_COMPONENT]
      }]
    }];
  }, {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
  }
}
FrameService.ɵfac = function FrameService_Factory(t) {
  return new (t || FrameService)();
};
FrameService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: FrameService,
  factory: FrameService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }

        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: Object.assign({}, queryParams)
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = Object.assign({}, queryParams);
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: Object.assign({}, queryParams)
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }

  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
}
NSLocationStrategy.ɵfac = function NSLocationStrategy_Factory(t) {
  return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](START_PATH, 8));
};
NSLocationStrategy.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSLocationStrategy,
  factory: NSLocationStrategy.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: FrameService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [START_PATH]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    var _a, _b, _c, _d;
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = ((_a = options.viewContainerRef) === null || _a === void 0 ? void 0 : _a.element.nativeElement) || _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = ((_b = options.moduleRef) === null || _b === void 0 ? void 0 : _b.injector) || ((_c = options.viewContainerRef) === null || _c === void 0 ? void 0 : _c.injector) || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
    }
    (_d = this.location) === null || _d === void 0 ? void 0 : _d._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog(Object.assign(Object.assign({}, options), {
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          }));
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once((...args) => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = this.openedModalParams.pop();
        if (this._closed$) {
          this._closed$.next(params);
        }
        yield this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          this.zone.run(() => {
            portalOutlet === null || portalOutlet === void 0 ? void 0 : portalOutlet.dispose();
            detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.instance.detectChanges();
            detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, Object.assign(Object.assign({}, options), {
        closeCallback
      }));
    });
  }
}
ModalDialogService.ɵfac = function ModalDialogService_Factory(t) {
  return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector));
};
ModalDialogService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: ModalDialogService,
  factory: ModalDialogService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }];
  }, null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
}
TabViewDirective.ɵfac = function TabViewDirective_Factory(t) {
  return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TabViewDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TabViewDirective,
  selectors: [["TabView"]],
  inputs: {
    selectedIndex: "selectedIndex"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
}
TabViewItemDirective.ɵfac = function TabViewItemDirective_Factory(t) {
  return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef));
};
TabViewItemDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TabViewItemDirective,
  selectors: [["", "tabItem", ""]],
  inputs: {
    config: ["tabItem", "config"],
    title: "title",
    iconSource: "iconSource",
    textTransform: "textTransform"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: TabViewDirective
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }];
  }, {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.android;
  }
}
AndroidFilterComponent.ɵfac = function AndroidFilterComponent_Factory(t) {
  return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](DEVICE));
};
AndroidFilterComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: AndroidFilterComponent,
  selectors: [["android"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 1,
  consts: [[4, "ngIf"]],
  template: function AndroidFilterComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.show);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.ios;
  }
}
IOSFilterComponent.ɵfac = function IOSFilterComponent_Factory(t) {
  return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](DEVICE));
};
IOSFilterComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: IOSFilterComponent,
  selectors: [["ios"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 1,
  consts: [[4, "ngIf"]],
  template: function IOSFilterComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.show);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {}
NativeScriptCommonModule.ɵfac = function NativeScriptCommonModule_Factory(t) {
  return new (t || NativeScriptCommonModule)();
};
NativeScriptCommonModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptCommonModule
});
NativeScriptCommonModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [ModalDialogService],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_13__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
}
NativeScriptModule.ɵfac = function NativeScriptModule_Factory(t) {
  return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeScriptModule, 12));
};
NativeScriptModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptModule
});
NativeScriptModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
  imports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], function () {
    return [{
      type: NativeScriptModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [NativeScriptModule]
      }]
    }];
  }, null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    var _a;
    (_a = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView()) === null || _a === void 0 ? void 0 : _a._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}

function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done === null || done === void 0 ? void 0 : done();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done === null || done === void 0 ? void 0 : done();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  var _a;
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...((_a = options === null || options === void 0 ? void 0 : options.providers) !== null && _a !== void 0 ? _a : [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}

function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵinternalCreateApplication"])(Object.assign({
    rootComponent
  }, createProvidersConfig(options)));
}
function runNativeScriptAngularApp(options) {
  var _a, _b;
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    var _a;
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    (_a = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView()) === null || _a === void 0 ? void 0 : _a._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && ((_b = (_a = global.NativeScriptGlobals) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b[Zone.__symbol__('addEventListener')])) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_0__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {}
RootCompositeModule.ɵfac = function RootCompositeModule_Factory(t) {
  return new (t || RootCompositeModule)();
};
RootCompositeModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: RootCompositeModule
});
RootCompositeModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: DISABLE_ROOT_VIEW_HANDLING,
    useValue: true
  }, {
    provide: APP_ROOT_VIEW,
    useFactory: generateRootLayoutAndProxy
  }]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _a;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this._isDismissed = false;
    let parentView = ((_a = this._config.viewContainerRef) === null || _a === void 0 ? void 0 : _a.element.nativeElement) || _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once(() => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
      var _b, _c, _d;
      this.stateChanged.next({
        state: 'closing'
      });
      if (!this._isDismissed) {
        (_b = this.modalViewRef.firstNativeLikeView) === null || _b === void 0 ? void 0 : _b.closeModal();
      }
      yield (_c = this.location) === null || _c === void 0 ? void 0 : _c._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if ((_d = this.modalViewRef) === null || _d === void 0 ? void 0 : _d.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.fromEvent)(this.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => this.stateChanged.next({
          state: 'closed'
        }));
      } else {
        this.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    var _a;
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(((_a = this._config.viewContainerRef) === null || _a === void 0 ? void 0 : _a.injector) || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, Object.assign(Object.assign({
      context: null
    }, userOptions), {
      closeCallback: () => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
        var _a;
        yield (_a = this.location) === null || _a === void 0 ? void 0 : _a._closeModalNavigation();
        this.onDismiss.next();
        this.onDismiss.complete();
      }),
      cancelable: !this._config.disableClose
    }));
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, Object.assign(Object.assign({
      context: null
    }, userOptions), {
      closeCallback: () => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
        this._isDismissed = true;
        this._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
        this.onDismiss.next();
        this.onDismiss.complete();
      }),
      cancelable: !this._config.disableClose
    }));
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    var _a, _b, _c;
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame ? this.parentView : ((_b = (_a = this.parentView) === null || _a === void 0 ? void 0 : _a.page) === null || _b === void 0 ? void 0 : _b.frame) || _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
    (_c = this.location) === null || _c === void 0 ? void 0 : _c._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof ngDevMode === 'undefined' || ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
}
_NativeDialogBase.ɵfac = function _NativeDialogBase_Factory(t) {
  _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinvalidFactory"]();
};
_NativeDialogBase.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: _NativeDialogBase
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken
    }, {
      type: NSLocationStrategy
    }];
  }, null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
}
NativeDialogService.ɵfac = function NativeDialogService_Factory(t) {
  return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy, 8));
};
NativeDialogService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativeDialogService,
  factory: NativeDialogService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }, {
      type: NativeDialogConfig,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
      }]
    }, {
      type: NativeDialogService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }]
    }, {
      type: NSLocationStrategy,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return Object.assign(Object.assign({}, defaultOptions), config);
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
}
NativeDialogCloseDirective.ɵfac = function NativeDialogCloseDirective_Factory(t) {
  return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NativeDialogService));
};
NativeDialogCloseDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NativeDialogCloseDirective,
  selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
  hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
        return ctx._onButtonClick();
      });
    }
  },
  inputs: {
    dialogResult: ["native-dialog-close", "dialogResult"],
    _matDialogClose: ["nativeDialogClose", "_matDialogClose"]
  },
  exportAs: ["nativeDialogClose"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], function () {
    return [{
      type: NativeDialogRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: NativeDialogService
    }];
  }, {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {}
NativeDialogModule.ɵfac = function NativeDialogModule_Factory(t) {
  return new (t || NativeDialogModule)();
};
NativeDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeDialogModule
});
NativeDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [NativeDialogService]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.File.exists(path);
  }
}
NSFileSystem.ɵfac = function NSFileSystem_Factory(t) {
  return new (t || NSFileSystem)();
};
NSFileSystem.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSFileSystem,
  factory: NSFileSystem.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = (viewContainerRef === null || viewContainerRef === void 0 ? void 0 : viewContainerRef.injector) || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = (viewContainerRef === null || viewContainerRef === void 0 ? void 0 : viewContainerRef.createComponent(detachedFactory)) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  var _a;
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = ((_a = options.viewContainerRef) === null || _a === void 0 ? void 0 : _a.injector) || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
}
TextValueAccessor.ɵfac = function TextValueAccessor_Factory(t) {
  return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TextValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TextValueAccessor,
  selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
  hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
        return ctx.onTouched();
      })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
}
CheckedValueAccessor.ɵfac = function CheckedValueAccessor_Factory(t) {
  return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
CheckedValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CheckedValueAccessor,
  selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
  hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
}
DateValueAccessor.ɵfac = function DateValueAccessor_Factory(t) {
  return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
DateValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: DateValueAccessor,
  selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
  hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
}
TimeValueAccessor.ɵfac = function TimeValueAccessor_Factory(t) {
  return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TimeValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TimeValueAccessor,
  selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
  hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
}
NumberValueAccessor.ɵfac = function NumberValueAccessor_Factory(t) {
  return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
NumberValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NumberValueAccessor,
  selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
  hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
}
SelectedIndexValueAccessor.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
  return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
SelectedIndexValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: SelectedIndexValueAccessor,
  selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
  hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
class NativeScriptFormsModule {}
NativeScriptFormsModule.ɵfac = function NativeScriptFormsModule_Factory(t) {
  return new (t || NativeScriptFormsModule)();
};
NativeScriptFormsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptFormsModule
});
NativeScriptFormsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_57__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_58__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  getParentElement(element) {
    return element === null || element === void 0 ? void 0 : element.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
NativeScriptAnimationDriver.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_44__.CssAnimationProperty._getPropertyNames(), 'transform'];
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
}
InjectableAnimationEngine.ɵfac = function InjectableAnimationEngine_Factory(t) {
  return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"]));
};
InjectableAnimationEngine.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: InjectableAnimationEngine,
  factory: InjectableAnimationEngine.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT]
      }]
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"]
    }];
  }, null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
function instantiateRendererFactory(renderer, engine, zone) {
  return new _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵAnimationRendererFactory"](renderer, engine, zone);
}
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
}
NativeScriptAnimationsModule.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
  return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeScriptAnimationsModule, 12));
};
NativeScriptAnimationsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptAnimationsModule
});
NativeScriptAnimationsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver,
    useFactory: instantiateSupportedAnimationDriver
  }, {
    provide: _angular_animations__WEBPACK_IMPORTED_MODULE_62__.AnimationBuilder,
    useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵBrowserAnimationBuilder"]
  }, {
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"],
    useFactory: instantiateDefaultStyleNormalizer
  }, {
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"],
    useClass: InjectableAnimationEngine
  }, {
    provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
    useFactory: instantiateRendererFactory,
    deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone]
  }],
  imports: [NativeScriptCommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_62__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone]
      }]
    }]
  }], function () {
    return [{
      type: NativeScriptAnimationsModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }]
    }];
  }, null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_10__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
}
NsHttpBackEnd.ɵfac = function NsHttpBackEnd_Factory(t) {
  return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSFileSystem));
};
NsHttpBackEnd.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NsHttpBackEnd,
  factory: NsHttpBackEnd.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory
    }, {
      type: NSFileSystem
    }];
  }, null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {}
NativeScriptHttpClientModule.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
  return new (t || NativeScriptHttpClientModule)();
};
NativeScriptHttpClientModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptHttpClientModule
});
NativeScriptHttpClientModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [NSFileSystem, NsHttpBackEnd, {
    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
    useExisting: NsHttpBackEnd
  }],
  imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}

const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    var _a;
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && ((_a = cache.peek()) === null || _a === void 0 ? void 0 : _a.key) === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    var _a;
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = (_a = cache.pop()) === null || _a === void 0 ? void 0 : _a.state;
        if (state === null || state === void 0 ? void 0 : state.componentRef) {
          destroyComponentRef(state === null || state === void 0 ? void 0 : state.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
}
NSRouteReuseStrategy.ɵfac = function NSRouteReuseStrategy_Factory(t) {
  return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy));
};
NSRouteReuseStrategy.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSRouteReuseStrategy,
  factory: NSRouteReuseStrategy.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
}
RouterExtensions.ɵfac = function RouterExtensions_Factory(t) {
  return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](FrameService));
};
RouterExtensions.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: RouterExtensions,
  factory: RouterExtensions.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: NSLocationStrategy
    }, {
      type: FrameService
    }];
  }, null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, Object.assign(Object.assign({}, extras), {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    }));
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
}
NSRouterLink.ɵfac = function NSRouterLink_Factory(t) {
  return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
NSRouterLink.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NSRouterLink,
  selectors: [["", "nsRouterLink", ""]],
  inputs: {
    target: "target",
    queryParams: "queryParams",
    fragment: "fragment",
    queryParamsHandling: "queryParamsHandling",
    preserveQueryParams: "preserveQueryParams",
    preserveFragment: "preserveFragment",
    skipLocationChange: "skipLocationChange",
    replaceUrl: "replaceUrl",
    clearHistory: "clearHistory",
    pageTransition: "pageTransition",
    pageTransitionDuration: "pageTransitionDuration",
    params: ["nsRouterLink", "params"]
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: RouterExtensions
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_51__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
}
NSRouterLinkActive.ɵfac = function NSRouterLinkActive_Factory(t) {
  return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
NSRouterLinkActive.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NSRouterLinkActive,
  selectors: [["", "nsRouterLinkActive", ""]],
  contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.links = _t);
    }
  },
  inputs: {
    nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
    nsRouterLinkActive: "nsRouterLinkActive"
  },
  exportAs: ["routerLinkActive"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!(flags === null || flags === void 0 ? void 0 : flags.skipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    var _a;
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (((_a = this.parentContexts.getContext(this.name)) === null || _a === void 0 ? void 0 : _a.outlet) === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    var _a;
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    (_a = this.postNavFunction) === null || _a === void 0 ? void 0 : _a.call(this);
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    var _a;
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    (_a = this.postNavFunction) === null || _a === void 0 ? void 0 : _a.call(this);
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    var _a;
    let children = (_a = this.parentContexts.getContext(this.name)) === null || _a === void 0 ? void 0 : _a.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = Object.assign(Object.assign({}, defaultNavOptions), this.router.getCurrentNavigation().extras || {});
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
}
PageRouterOutlet.ɵfac = function PageRouterOutlet_Factory(t) {
  return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.EnvironmentInjector));
};
PageRouterOutlet.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: PageRouterOutlet,
  selectors: [["page-router-outlet"]],
  outputs: {
    activateEvents: "activate",
    deactivateEvents: "deactivate"
  }
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['name']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['actionBarVisibility']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['isEmptyOutlet']
      }]
    }, {
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [PAGE_FACTORY]
      }]
    }, {
      type: NSRouteReuseStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ViewUtil
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.EnvironmentInjector
    }];
  }, {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
}
NativescriptPlatformLocation.ɵfac = function NativescriptPlatformLocation_Factory(t) {
  return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy));
};
NativescriptPlatformLocation.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativescriptPlatformLocation,
  factory: NativescriptPlatformLocation.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
}
NSEmptyOutletComponent.ɵfac = function NSEmptyOutletComponent_Factory(t) {
  return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page));
};
NSEmptyOutletComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: NSEmptyOutletComponent,
  selectors: [["ns-empty-outlet"]],
  viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
    }
  },
  decls: 1,
  vars: 0,
  consts: [["isEmptyOutlet", "true"]],
  template: function NSEmptyOutletComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "page-router-outlet", 0);
    }
  },
  dependencies: [PageRouterOutlet],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page
    }];
  }, {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule.forChild(routes).providers
    };
  }
}
NativeScriptRouterModule.ɵfac = function NativeScriptRouterModule_Factory(t) {
  return new (t || NativeScriptRouterModule)();
};
NativeScriptRouterModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptRouterModule
});
NativeScriptRouterModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_64__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_65__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_65__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_65__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLmYzYTRmNTU4ZDMwM2ZmOWYyZGRjLmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQzB4QjtBQUMveEI7QUFDc21CO0FBQ3ZrQjtBQUMzQjtBQUMwRztBQUM5RDtBQUNVO0FBQ3REO0FBQ3dIO0FBQ2hHO0FBQ1Q7QUFDSDtBQUNzRjtBQUMvQjtBQUNXO0FBQUE7QUFBQTtBQUFBO0FBQUE7RUFBQTtJQXNQVGdFLDBEQUFFLHlCQXM4R29HO0VBQUE7QUFBQTtBQUFBO0VBQUE7SUF0OEd0R0EsMERBQUUseUJBMjlHd0Y7RUFBQTtBQUFBO0FBL3NIdk0sTUFBTTBGLFlBQVksR0FBSUMsUUFBUSxJQUFLQSxRQUFRLENBQUNDLFdBQVcsQ0FBQ0MsSUFBSTtBQUM1RCxNQUFNQyxhQUFhLFNBQVM3SixvREFBSSxDQUFDO0VBQzdCMkosV0FBVyxDQUFDQyxJQUFJLEdBQUcsRUFBRSxFQUFFO0lBQ25CLEtBQUssRUFBRTtJQUNQLElBQUksQ0FBQ0EsSUFBSSxHQUFHQSxJQUFJO0lBQ2hCLElBQUksQ0FBQ0UsUUFBUSxHQUFHLENBQUM7SUFDakIsSUFBSSxDQUFDQyxRQUFRLEdBQUdOLFlBQVksQ0FBQyxJQUFJLENBQUM7RUFDdEM7RUFDQU8sUUFBUSxHQUFHO0lBQ1AsT0FBUSxHQUFFLElBQUksQ0FBQ0QsUUFBUyxJQUFHLElBQUksQ0FBQ0UsRUFBRyxLQUFJLElBQUksQ0FBQ0wsSUFBSyxFQUFDO0VBQ3REO0FBQ0o7QUFDQSxN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Q047QUFDQSxTQUFTaXdDLHFCQUFxQixDQUFDcnBCLElBQUksRUFBRTtFQUNqQyxJQUFJQSxJQUFJLENBQUNtcUIscUJBQXFCLElBQUlucUIsSUFBSSxDQUFDbW9CLDJCQUEyQixLQUFLLENBQUMsQ0FBQyxFQUFFO0lBQ3ZFbm9CLElBQUksQ0FBQ3VuQixvQkFBb0IsR0FBRyxJQUFJO0VBQ3BDLENBQUMsTUFDSTtJQUNEdm5CLElBQUksQ0FBQ3VuQixvQkFBb0IsR0FBRyxLQUFLO0VBQ3JDO0FBQ0o7QUFDQSxTQUFTbUMsT0FBTyxDQUFDMXBCLElBQUksRUFBRTtFQUNuQkEsSUFBSSxDQUFDK25CLFFBQVEsRUFBRTtFQUNmLElBQUkvbkIsSUFBSSxDQUFDd25CLFFBQVEsRUFBRTtJQUNmeG5CLElBQUksQ0FBQ3duQixRQUFRLEdBQUcsS0FBSztJQUNyQnhuQixJQUFJLENBQUN5bkIsVUFBVSxDQUFDbjdCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDOUI7QUFDSjtBQUNBLFNBQVN1OUIsT0FBTyxDQUFDN3BCLElBQUksRUFBRTtFQUNuQkEsSUFBSSxDQUFDK25CLFFBQVEsRUFBRTtFQUNma0IsV0FBVyxDQUFDanBCLElBQUksQ0FBQztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRXEyRztBQUNyMkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucy1uZy1jb3Vyc2UvLi9ub2RlX21vZHVsZXMvQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL2Zlc20yMDE1L25hdGl2ZXNjcmlwdC1hbmd1bGFyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpMSBmcm9tICdAbmF0aXZlc2NyaXB0L2NvcmUnO1xuaW1wb3J0IHsgVmlldywgTGF5b3V0QmFzZSwgQ29udGVudFZpZXcsIFByb3h5Vmlld0NvbnRhaW5lciwgUGFnZSwgcGxhdGZvcm1OYW1lcywgR3JpZExheW91dCwgQXBwbGljYXRpb24sIFRyYWNlLCBGb3JtYXR0ZWRTdHJpbmcsIFNwYW4sIEFic29sdXRlTGF5b3V0LCBBY3Rpdml0eUluZGljYXRvciwgQnV0dG9uLCBEYXRlUGlja2VyLCBEb2NrTGF5b3V0LCBGcmFtZSwgSHRtbFZpZXcsIEltYWdlLCBMYWJlbCwgTGlzdFBpY2tlciwgTGlzdFZpZXcsIFBsYWNlaG9sZGVyLCBQcm9ncmVzcywgUmVwZWF0ZXIsIFJvb3RMYXlvdXQsIFNjcm9sbFZpZXcsIFNlYXJjaEJhciwgU2VnbWVudGVkQmFyLCBTZWdtZW50ZWRCYXJJdGVtLCBTbGlkZXIsIFN0YWNrTGF5b3V0LCBGbGV4Ym94TGF5b3V0LCBTd2l0Y2gsIFRhYlZpZXcsIFRleHRGaWVsZCwgVGV4dFZpZXcsIFRpbWVQaWNrZXIsIFdlYlZpZXcsIFdyYXBMYXlvdXQsIHVuc2V0VmFsdWUsIHByb2ZpbGUsIGFkZFRhZ2dlZEFkZGl0aW9uYWxDU1MsIGdldFZpZXdCeUlkLCBPYnNlcnZhYmxlLCBBY3Rpb25JdGVtLCBOYXZpZ2F0aW9uQnV0dG9uLCBBY3Rpb25CYXIsIE9ic2VydmFibGVBcnJheSwgVGFiVmlld0l0ZW0sIENvbG9yLCBEZXZpY2UsIFV0aWxzLCByZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTLCBrbm93bkZvbGRlcnMsIEZpbGUsIEtleWZyYW1lQW5pbWF0aW9uLCBhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlciwgcGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucywgQ1NTSGVscGVyLCBlYWNoRGVzY2VuZGFudCwgQ3NzQW5pbWF0aW9uUHJvcGVydHksIHBhdGggfSBmcm9tICdAbmF0aXZlc2NyaXB0L2NvcmUnO1xuaW1wb3J0ICogYXMgaTAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgSW5qZWN0LCBDb21wb25lbnRSZWYsIEluamVjdGFibGUsIFZpZXdFbmNhcHN1bGF0aW9uLCBPcHRpb25hbCwgRWxlbWVudFJlZiwgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgTmdNb2R1bGUsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQXBwbGljYXRpb25SZWYsIEluamVjdG9yLCBWaWV3Q29udGFpbmVyUmVmLCBDb21wb25lbnQsIFZpZXdDaGlsZCwgSW5wdXQsIGluamVjdCwgSXRlcmFibGVEaWZmZXJzLCBDaGFuZ2VEZXRlY3RvclJlZiwgZm9yd2FyZFJlZiwgVGVtcGxhdGVSZWYsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb250ZW50Q2hpbGQsIEhvc3RMaXN0ZW5lciwgSG9zdCwgTk9fRVJST1JTX1NDSEVNQSwgRXJyb3JIYW5kbGVyLCBTa2lwU2VsZiwgybVJTkpFQ1RPUl9TQ09QRSwgUmVuZGVyZXJGYWN0b3J5MiwgQXBwbGljYXRpb25Nb2R1bGUsIFBsYXRmb3JtUmVmLCBOZ01vZHVsZVJlZiwgybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uLCBOZ1pvbmUsIFNhbml0aXplciwgY3JlYXRlUGxhdGZvcm1GYWN0b3J5LCBwbGF0Zm9ybUNvcmUsIENvbnRlbnRDaGlsZHJlbiwgSW5qZWN0RmxhZ3MsIEF0dHJpYnV0ZSwgaXNEZXZNb2RlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBfX2RlY29yYXRlLCBfX3BhcmFtLCBfX21ldGFkYXRhLCBfX2F3YWl0ZXIgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgKiBhcyBpMSQxIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBYaHJGYWN0b3J5LCBMb2NhdGlvblN0cmF0ZWd5LCBDb21tb25Nb2R1bGUsIFZpZXdwb3J0U2Nyb2xsZXIsIMm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIsIERPQ1VNRU5ULCBQbGF0Zm9ybUxvY2F0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IGZpbHRlciwgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgdGFrZSwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCBmcm9tRXZlbnQsIGRlZmVyLCBPYnNlcnZhYmxlIGFzIE9ic2VydmFibGUkMSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0ICogYXMgaTEkMyBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgRGVmYXVsdFVybFNlcmlhbGl6ZXIsIFBSSU1BUllfT1VUTEVULCBOYXZpZ2F0aW9uRW5kLCBBY3RpdmF0ZWRSb3V0ZSwgQ2hpbGRyZW5PdXRsZXRDb250ZXh0cywgUm91dGVyTW9kdWxlLCBSb3V0ZVJldXNlU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IsIEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0ICogYXMgaTEkMiBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zL2Jyb3dzZXInO1xuaW1wb3J0IHsgybVBbmltYXRpb25FbmdpbmUsIMm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciwgQW5pbWF0aW9uRHJpdmVyLCDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMvYnJvd3Nlcic7XG5pbXBvcnQgeyDJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeSwgybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBIdHRwWGhyQmFja2VuZCwgSHR0cFJlc3BvbnNlLCBIdHRwRXJyb3JSZXNwb25zZSwgSHR0cENsaWVudE1vZHVsZSwgSHR0cEJhY2tlbmQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmNvbnN0IGdldENsYXNzTmFtZSA9IChpbnN0YW5jZSkgPT4gaW5zdGFuY2UuY29uc3RydWN0b3IubmFtZTtcbmNsYXNzIEludmlzaWJsZU5vZGUgZXh0ZW5kcyBWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJycpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5ub2RlVHlwZSA9IDE7XG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSBnZXRDbGFzc05hbWUodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ub2RlTmFtZX0oJHt0aGlzLmlkfSktJHt0aGlzLm5hbWV9YDtcbiAgICB9XG59XG5jbGFzcyBDb21tZW50Tm9kZSBleHRlbmRzIEludmlzaWJsZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICAgICAgdGhpcy5tZXRhID0ge1xuICAgICAgICAgICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gQ29tbWVudE5vZGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgQ29tbWVudE5vZGUuaWQgKz0gMTtcbiAgICB9XG59XG5Db21tZW50Tm9kZS5pZCA9IDA7XG5jbGFzcyBUZXh0Tm9kZSBleHRlbmRzIEludmlzaWJsZU5vZGUge1xuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG4gICAgc2V0IHRleHQodCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdDtcbiAgICAgICAgdGhpcy5ub3RpZnkoeyBldmVudE5hbWU6IFRleHROb2RlLnRleHRDaGFuZ2VFdmVudCwgb2JqZWN0OiB0aGlzLCB2YWx1ZTogdCB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gJyc7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tZXRhID0ge1xuICAgICAgICAgICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gVGV4dE5vZGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgVGV4dE5vZGUuaWQgKz0gMTtcbiAgICB9XG4gICAgcmVnaXN0ZXJUZXh0Q2hhbmdlKGNhbGxiYWNrLCBpZCkge1xuICAgICAgICBjb25zdCBjYiA9IChldnQpID0+IGNhbGxiYWNrKGV2dC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNiQXJyID0gdGhpcy5jYWxsYmFja01hcC5nZXQoaWQpIHx8IFtdO1xuICAgICAgICBjYkFyci5wdXNoKGNiKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja01hcC5zZXQoaWQsIGNiQXJyKTtcbiAgICAgICAgdGhpcy5vbigndGV4dENoYW5nZScsIGNiKTtcbiAgICB9XG4gICAgdW5yZWdpc3RlclRleHRDaGFuZ2UoaWQpIHtcbiAgICAgICAgY29uc3QgY2JBcnIgPSB0aGlzLmNhbGxiYWNrTWFwLmdldChpZCkgfHwgW107XG4gICAgICAgIGNiQXJyLmZvckVhY2goKGNiKSA9PiB0aGlzLm9mZigndGV4dENoYW5nZScsIGNiKSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAuZGVsZXRlKGlkKTtcbiAgICB9XG59XG5UZXh0Tm9kZS50ZXh0Q2hhbmdlRXZlbnQgPSAndGV4dENoYW5nZSc7XG5UZXh0Tm9kZS5pZCA9IDA7XG5cbmZ1bmN0aW9uIGlzRGV0YWNoZWRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50Lm1ldGEgJiYgZWxlbWVudC5tZXRhLnNraXBBZGRUb0RvbTtcbn1cbmZ1bmN0aW9uIGlzVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBWaWV3O1xufVxuZnVuY3Rpb24gaXNJbnZpc2libGVOb2RlKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGU7XG59XG5mdW5jdGlvbiBpc0xheW91dCh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlO1xufVxuZnVuY3Rpb24gaXNDb250ZW50Vmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBDb250ZW50Vmlldztcbn1cbmZ1bmN0aW9uIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldywgZXh0cmFjdEZyb21OU1BhcmVudCA9IGZhbHNlKSB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3LmdldENoaWxkQXQoMCkpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFjdEZyb21OU1BhcmVudCkge1xuICAgICAgICBjb25zdCBub2RlID0gdmlldy5wYXJlbnROb2RlO1xuICAgICAgICBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KTtcbiAgICAgICAgdmlldy5wYXJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG5mdW5jdGlvbiBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdmlldyA9PT0gbnVsbCB8fCB2aWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3LnBhcmVudDtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZCkge1xuICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZChwYXJlbnQsIHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpICYmIHBhcmVudC5jb250ZW50ID09PSB2aWV3KSB7XG4gICAgICAgIHBhcmVudC5jb250ZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50Ll9yZW1vdmVWaWV3KHZpZXcpO1xuICAgIH1cbn1cblxuY29uc3QgQVBQX1JPT1RfVklFVyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0QXBwUm9vdFZpZXcnKTtcbmNvbnN0IE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0Um9vdE1vZHVsZUlkJyk7XG5jb25zdCBTVEFSVF9QQVRIID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRTdGFydFBhdGgnKTtcbmNvbnN0IEVOQUJMRV9SRVVTQUJFX1ZJRVdTID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRFbmFibGVSZXVzYWJsZVZpZXdzJyk7XG5jb25zdCBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RGlzYWJsZVJvb3RWaWV3SGFuZGxpbmcnKTtcbmNvbnN0IERFVklDRSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RGV2aWNlJyk7XG5jb25zdCBQQUdFX0ZBQ1RPUlkgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFBhZ2VGYWN0b3J5Jyk7XG5jb25zdCBkZWZhdWx0UGFnZUZhY3RvcnkgPSBmdW5jdGlvbiAoX29wdHMpIHtcbiAgICByZXR1cm4gbmV3IFBhZ2UoKTtcbn07XG5cbmxldCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciA9IGNsYXNzIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XG4gICAgfVxuICAgIHJ1bnNJbihuYW1lc3BhY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuYW5kcm9pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZXNwYWNlID09PSAnaW9zJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmlvcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChuYW1lc3BhY2UpO1xuICAgIH1cbn07XG5QbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSW5qZWN0KERFVklDRSkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0XSlcbl0sIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyKTtcbmNvbnN0IE5BTUVTUEFDRV9GSUxURVJTID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHROYW1lc3BhY2VGaWx0ZXInKTtcblxuY2xhc3MgTmdWaWV3UmVmIHtcbiAgICBjb25zdHJ1Y3RvcihyZWYpIHtcbiAgICAgICAgdGhpcy5yZWYgPSByZWY7XG4gICAgICAgIHRoaXMudmlldyA9IHJlZiBpbnN0YW5jZW9mIENvbXBvbmVudFJlZiA/IHJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50IDogcmVmLnJvb3ROb2Rlcy5maW5kKCh2KSA9PiAhKHYgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgICAgIHRoaXMuZmlyc3ROYXRpdmVMaWtlVmlldyA9IGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodGhpcy52aWV3KTtcbiAgICB9XG4gICAgZGV0YWNoTmF0aXZlTGlrZVZpZXcoKSB7XG4gICAgICAgIGRldGFjaFZpZXdGcm9tUGFyZW50KHRoaXMuZmlyc3ROYXRpdmVMaWtlVmlldyk7XG4gICAgfVxufVxuXG5jbGFzcyBBcHBIb3N0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgICBnZXQgbmdBcHBSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmdBcHBSb290O1xuICAgIH1cbiAgICBzZXQgbmdBcHBSb290KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX25nQXBwUm9vdCA9IHZhbHVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy9AdHMtaWdub3JlXG4gICAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICAgIH1cbiAgICBzZXQgY29udGVudCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5wYXJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnBhcmVudE5vZGUgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmdBcHBSb290ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBncmlkID0gbmV3IEdyaWRMYXlvdXQoKTtcbiAgICAgICAgICAgIGdyaWQuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICBncmlkLmFkZENoaWxkKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5uZ0FwcFJvb3QgPSBncmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgLy8gbWF5YmUgdXNlIHRoaXMgYXBwcm9hY2hcbiAgICAgICAgICAgIC8vIHRoaXMuc2NoZWR1bGVSb290Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2NoZWR1bGVSb290Q2hhbmdlKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lb3V0ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm5nQXBwUm9vdCk7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZTogKCkgPT4gdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IC0xO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBBcHBIb3N0QXN5bmNWaWV3IGV4dGVuZHMgR3JpZExheW91dCB7XG4gICAgY29uc3RydWN0b3IoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xuICAgIH1cbiAgICBnZXQgbmdBcHBSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0IG5nQXBwUm9vdCh2YWx1ZSkge1xuICAgICAgICAvLyBpZ25vcmVkXG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JCA9IG5ldyBCZWhhdmlvclN1YmplY3QoZmFsc2UpO1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JCA9IG5ldyBCZWhhdmlvclN1YmplY3QodHJ1ZSk7XG4gICAgICAgIHRoaXMub25NYWluTW9kdWxlUmVhZHkkID0gdGhpcy5tYWluTW9kdWxlUmVhZHkkLnBpcGUoZmlsdGVyKChyZWFkeSkgPT4gcmVhZHkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGVsYXlzIGRlc3Ryb3lpbmcgdGhpcyBtb2R1bGUgdW50aWwgYG5vdGlmeVJlYWR5VG9EZXN0cm95KClgLlxuICAgICAqIHJlbWVtYmVyIHRvIGNhbGwgYG5vdGlmeVJlYWR5VG9EZXN0cm95KClgIHdoZW4gZG9uZSFcbiAgICAgKi9cbiAgICB3YWl0VW50aWxOb3RpZmllZCgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQubmV4dChmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG5vdGlmaWVzIHRoaXMgbW9kdWxlIGlzIHJlYWR5IHRvIGJlIGRlc3Ryb3llZFxuICAgICAqL1xuICAgIG5vdGlmeVJlYWR5VG9EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5uZXh0KHRydWUpO1xuICAgIH1cbiAgICBpc01haW5Nb2R1bGVSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFpbk1vZHVsZVJlYWR5JC52YWx1ZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmNpb24gaXMgY2FsbGVkIGJ5IHRoZSBib290c3RyYXAgY29kZSB3aGVuIHRoZSBhcHAgaXMgcmVhZHlcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbm90aWZ5TWFpbk1vZHVsZVJlYWR5KCkge1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQubmV4dCh0cnVlKTtcbiAgICB9XG59XG5OYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbk5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgTmF0aXZlU2NyaXB0RGVidWcge1xuICAgIHN0YXRpYyBpc0xvZ0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBUcmFjZS5pc0VuYWJsZWQoKTtcbiAgICB9XG4gICAgc3RhdGljIGFuaW1hdGlvbnNMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByZW5kZXJlckxvZyhtc2cpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobXNnLCBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVuZGVyZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgdmlld1V0aWxMb2cobXNnKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1zZywgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZXJMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlckVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVSZXVzZVN0cmF0ZWd5TG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyBzdHlsZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgVHJhY2UuY2F0ZWdvcmllcy5TdHlsZSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbn1cbk5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5ID0gJ25zLWFuaW1hdGlvbnMnO1xuTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJUcmFjZUNhdGVnb3J5ID0gJ25zLXJlbmRlcmVyJztcbk5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsQ2F0ZWdvcnkgPSAnbnMtdmlldy11dGlsJztcbk5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlclRyYWNlQ2F0ZWdvcnkgPSAnbnMtcm91dGVyJztcbk5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkgPSAnbnMtcm91dGUtcmV1c2Utc3RyYXRlZ3knO1xuTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdUcmFjZUNhdGVnb3J5ID0gJ25zLWxpc3Qtdmlldyc7XG5OYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBDYXRlZ29yeSA9ICdib290c3RyYXAnO1xuLy8gVE9ETzogbWlncmF0ZSBhbGwgdXNhZ2UgdG8gdGhpcyAtIGF2b2lkcyBleHRyYW5lb3VzIG1ldGhvZCBleGVjdXRpb25zXG5OYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkID0gVHJhY2UuaXNFbmFibGVkKCk7XG5cbmNsYXNzIE5hdGl2ZXNjcmlwdFhockZhY3RvcnkgZXh0ZW5kcyBYaHJGYWN0b3J5IHtcbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbn1cbk5hdGl2ZXNjcmlwdFhockZhY3RvcnkuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogbnVsbCwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTmF0aXZlc2NyaXB0WGhyRmFjdG9yeS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSB9KTtcblxuY29uc3QgZnJhbWVNZXRhID0ge1xuICAgIGluc2VydENoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICAvLyBQYWdlIGNhbm5vdCBiZSBhZGRlZCB0byBGcmFtZSB3aXRoIF9hZGRDaGlsZEZyb21CdWlsZGVyICh0aHdvcyBcInVzZSBkZWZhdWx0UGFnZVwiIGVycm9yKVxuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgUGFnZSkge1xuICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRlKHsgY3JlYXRlOiAoKSA9PiBjaGlsZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBhIFBhZ2UgY2FuIGJlIGEgY2hpbGQgb2YgRnJhbWUnKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgZm9ybWF0dGVkU3RyaW5nTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LnNwYW5zLmluZGV4T2YobmV4dCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMuc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMucHVzaChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuc3BhbnMuaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQuc3BhbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgdGV4dEJhc2VNZXRhID0ge1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBGb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICAoX2EgPSBwYXJlbnQuZm9ybWF0dGVkVGV4dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gbmV3IEZvcm1hdHRlZFN0cmluZygpKTtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZ01ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LmZvcm1hdHRlZFRleHQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoIXBhcmVudC5mb3JtYXR0ZWRUZXh0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBGb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZm9ybWF0dGVkVGV4dCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmdNZXRhLnJlbW92ZUNoaWxkKHBhcmVudC5mb3JtYXR0ZWRUZXh0LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuY29uc3QgZWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IGNhbWVsQ2FzZVNwbGl0ID0gLyhbYS16MC05XSkoW0EtWl0pL2c7XG5jb25zdCBkZWZhdWx0Vmlld01ldGEgPSB7IHNraXBBZGRUb0RvbTogZmFsc2UgfTtcbmZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudChlbGVtZW50TmFtZSwgcmVzb2x2ZXIsIG1ldGEpIHtcbiAgICBjb25zdCBlbnRyeSA9IHsgcmVzb2x2ZXIsIG1ldGEgfTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZSwgZW50cnkpO1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCksIGVudHJ5KTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZS5yZXBsYWNlKGNhbWVsQ2FzZVNwbGl0LCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpLCBlbnRyeSk7XG59XG5mdW5jdGlvbiBnZXRWaWV3Q2xhc3MoZWxlbWVudE5hbWUpIHtcbiAgICBjb25zdCBlbnRyeSA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnROYW1lKSB8fCBlbGVtZW50TWFwLmdldChlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIGtub3duIGNvbXBvbmVudCBmb3IgZWxlbWVudCAke2VsZW1lbnROYW1lfS5gKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LnJlc29sdmVyKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYENvdWxkIG5vdCBsb2FkIHZpZXcgZm9yOiAke2VsZW1lbnROYW1lfS4ke2V9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Vmlld01ldGEobm9kZU5hbWUpIHtcbiAgICBjb25zdCBlbnRyeSA9IGVsZW1lbnRNYXAuZ2V0KG5vZGVOYW1lKSB8fCBlbGVtZW50TWFwLmdldChub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICByZXR1cm4gKGVudHJ5ICYmIGVudHJ5Lm1ldGEpIHx8IGRlZmF1bHRWaWV3TWV0YTtcbn1cbmZ1bmN0aW9uIGlzS25vd25WaWV3KGVsZW1lbnROYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRNYXAuaGFzKGVsZW1lbnROYW1lKSB8fCBlbGVtZW50TWFwLmhhcyhlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpIHtcbiAgICBjb25zdCBhY3R1YWxOb2RlcyA9IG5vZGVzLmZpbHRlcigobm9kZSkgPT4gIShub2RlIGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSkpO1xuICAgIGlmIChhY3R1YWxOb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWl0YWJsZSB2aWV3cyBmb3VuZCBpbiBsaXN0IHRlbXBsYXRlISBgICsgYE5lc3RpbmcgbGV2ZWw6ICR7bmVzdExldmVsfWApO1xuICAgIH1cbiAgICBlbHNlIGlmIChhY3R1YWxOb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTW9yZSB0aGFuIG9uZSB2aWV3IGZvdW5kIGluIGxpc3QgdGVtcGxhdGUhYCArIGBOZXN0aW5nIGxldmVsOiAke25lc3RMZXZlbH1gKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdExheW91dCA9IGFjdHVhbE5vZGVzWzBdO1xuICAgIGlmICghcm9vdExheW91dCkge1xuICAgICAgICByZXR1cm4gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUocm9vdExheW91dC5jaGlsZHJlbiwgbmVzdExldmVsICsgMSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudExheW91dCA9IHJvb3RMYXlvdXQucGFyZW50O1xuICAgIGlmIChwYXJlbnRMYXlvdXQgaW5zdGFuY2VvZiBMYXlvdXRCYXNlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSByb290TGF5b3V0LnBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudExheW91dC5yZW1vdmVDaGlsZChyb290TGF5b3V0KTtcbiAgICAgICAgcm9vdExheW91dC5wYXJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3RMYXlvdXQ7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUgaXMgZGVwcmVjYXRlZCwgdXNlIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCkge1xuICAgIHJldHVybiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKTtcbn1cblxuLy8gUmVnaXN0ZXIgZGVmYXVsdCBOYXRpdmVTY3JpcHQgY29tcG9uZW50c1xuLy8gTm90ZTogQWN0aW9uQmFyIHJlbGF0ZWQgY29tcG9uZW50cyBhcmUgcmVnaXN0ZXJkIHRvZ2V0aGVyIHdpdGggYWN0aW9uLWJhciBkaXJlY3RpdmVzLlxuZnVuY3Rpb24gcmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cygpIHtcbiAgICBpZiAoIWdsb2JhbC5fX25nUmVnaXN0ZXJlZFZpZXdzKSB7XG4gICAgICAgIGdsb2JhbC5fX25nUmVnaXN0ZXJlZFZpZXdzID0gdHJ1ZTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdBYnNvbHV0ZUxheW91dCcsICgpID0+IEFic29sdXRlTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdBY3Rpdml0eUluZGljYXRvcicsICgpID0+IEFjdGl2aXR5SW5kaWNhdG9yKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdCdXR0b24nLCAoKSA9PiBCdXR0b24sIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQ29udGVudFZpZXcnLCAoKSA9PiBDb250ZW50Vmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRGF0ZVBpY2tlcicsICgpID0+IERhdGVQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0RvY2tMYXlvdXQnLCAoKSA9PiBEb2NrTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGcmFtZScsICgpID0+IEZyYW1lLCBmcmFtZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0dyaWRMYXlvdXQnLCAoKSA9PiBHcmlkTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdIdG1sVmlldycsICgpID0+IEh0bWxWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdJbWFnZScsICgpID0+IEltYWdlKTtcbiAgICAgICAgLy8gUGFyc2U1IGNoYW5nZXMgPEltYWdlPiB0YWdzIHRvIDxpbWc+LiBXVEYhXG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnaW1nJywgKCkgPT4gSW1hZ2UpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xhYmVsJywgKCkgPT4gTGFiZWwsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGlzdFBpY2tlcicsICgpID0+IExpc3RQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xpc3RWaWV3JywgKCkgPT4gTGlzdFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1BhZ2UnLCAoKSA9PiBQYWdlKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQbGFjZWhvbGRlcicsICgpID0+IFBsYWNlaG9sZGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQcm9ncmVzcycsICgpID0+IFByb2dyZXNzKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQcm94eVZpZXdDb250YWluZXInLCAoKSA9PiBQcm94eVZpZXdDb250YWluZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1JlcGVhdGVyJywgKCkgPT4gUmVwZWF0ZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Jvb3RMYXlvdXQnLCAoKSA9PiBSb290TGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTY3JvbGxWaWV3JywgKCkgPT4gU2Nyb2xsVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VhcmNoQmFyJywgKCkgPT4gU2VhcmNoQmFyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWdtZW50ZWRCYXInLCAoKSA9PiBTZWdtZW50ZWRCYXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlZ21lbnRlZEJhckl0ZW0nLCAoKSA9PiBTZWdtZW50ZWRCYXJJdGVtKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTbGlkZXInLCAoKSA9PiBTbGlkZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1N0YWNrTGF5b3V0JywgKCkgPT4gU3RhY2tMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ZsZXhib3hMYXlvdXQnLCAoKSA9PiBGbGV4Ym94TGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTd2l0Y2gnLCAoKSA9PiBTd2l0Y2gpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RhYlZpZXcnLCAoKSA9PiBUYWJWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUZXh0RmllbGQnLCAoKSA9PiBUZXh0RmllbGQsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGV4dFZpZXcnLCAoKSA9PiBUZXh0VmlldywgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUaW1lUGlja2VyJywgKCkgPT4gVGltZVBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnV2ViVmlldycsICgpID0+IFdlYlZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1dyYXBMYXlvdXQnLCAoKSA9PiBXcmFwTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGb3JtYXR0ZWRTdHJpbmcnLCAoKSA9PiBGb3JtYXR0ZWRTdHJpbmcsIGZvcm1hdHRlZFN0cmluZ01ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NwYW4nLCAoKSA9PiBTcGFuKTtcbiAgICB9XG59XG5cbi8vIE5vdGU6IHRoaXMgdXRpbGl0eSBleGlzdHMgZnJvbSBkZWVwIGNvcmUgaW1wb3J0IGhvd2V2ZXIgcmVzdWx0cyBpblxuLy8gTW9kdWxlIG5vdCBmb3VuZDogRXJyb3I6IENhbid0IHJlc29sdmUgJ0BuYXRpdmVzY3JpcHQvY29yZS91aS9jb3JlL3Byb3BlcnRpZXMnXG5mdW5jdGlvbiBpc0Nzc1ZhcmlhYmxlKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIC9eLS1bXixcXHNdKz8kLy50ZXN0KHByb3BlcnR5KTtcbn1cbmNvbnN0IEVMRU1FTlRfTk9ERV9UWVBFID0gMTtcbmNvbnN0IFhNTF9BVFRSSUJVVEVTID0gT2JqZWN0LmZyZWV6ZShbJ3N0eWxlJywgJ3Jvd3MnLCAnY29sdW1ucycsICdmb250QXR0cmlidXRlcyddKTtcbmNvbnN0IHdoaXRlU3BhY2VTcGxpdHRlciA9IC9cXHMrLztcbmZ1bmN0aW9uIHByaW50TmdUcmVlKHZpZXcpIHtcbiAgICBsZXQgcGFyZW50ID0gdmlldztcbiAgICB3aGlsZSAocGFyZW50LnBhcmVudCAmJiBwYXJlbnQucGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcHJpbnRDaGlsZHJlblJlY3Vyc2UocGFyZW50KTtcbn1cbmZ1bmN0aW9uIHByaW50Q2hpbGRyZW5SZWN1cnNlKHBhcmVudCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50LmZpcnN0Q2hpbGQgPyBbcGFyZW50LmZpcnN0Q2hpbGQsIC4uLmdldENoaWxkcmVuU2libGluZ3MocGFyZW50LmZpcnN0Q2hpbGQpLm5leHRTaWJsaW5nc10gOiBbXTtcbiAgICBjb25zb2xlLmxvZyhgcGFyZW50OiAke3BhcmVudH0sIGZpcnN0Q2hpbGQ6ICR7cGFyZW50LmZpcnN0Q2hpbGR9LCBsYXN0Q2hpbGQ6ICR7cGFyZW50Lmxhc3RDaGlsZH0gY2hpbGRyZW46ICR7Y2hpbGRyZW59YCk7XG4gICAgaWYgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtLS0tLSBzdGFydCAke3BhcmVudH1gKTtcbiAgICB9XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gcHJpbnRDaGlsZHJlblJlY3Vyc2UoYykpO1xuICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgLS0tLS0gZW5kICR7cGFyZW50fWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuU2libGluZ3Modmlldykge1xuICAgIGNvbnN0IG5leHRTaWJsaW5ncyA9IFtdO1xuICAgIGNvbnN0IHByZXZpb3VzU2libGluZ3MgPSBbXTtcbiAgICBsZXQgc2libGluZyA9IHZpZXcubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgICAgbmV4dFNpYmxpbmdzLnB1c2goc2libGluZyk7XG4gICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBzaWJsaW5nID0gdmlldy5wcmV2aW91c1NpYmxpbmc7XG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgICAgcHJldmlvdXNTaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgICBzaWJsaW5nID0gc2libGluZy5wcmV2aW91c1NpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByZXZpb3VzU2libGluZ3MsXG4gICAgICAgIG5leHRTaWJsaW5ncyxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHJpbnRTaWJsaW5nc1RyZWUodmlldykge1xuICAgIGNvbnN0IHsgcHJldmlvdXNTaWJsaW5ncywgbmV4dFNpYmxpbmdzIH0gPSBnZXRDaGlsZHJlblNpYmxpbmdzKHZpZXcpO1xuICAgIGNvbnNvbGUubG9nKGAke3ZpZXd9IHByZXZpb3VzU2libGluZ3M6ICR7cHJldmlvdXNTaWJsaW5nc30gbmV4dFNpYmxpbmdzOiAke25leHRTaWJsaW5nc31gKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5jb25zdCBwcm9wZXJ0eU1hcHMgPSBuZXcgTWFwKCk7XG5jbGFzcyBWaWV3VXRpbCB7XG4gICAgY29uc3RydWN0b3IobmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgY2hpbGQgaW50byBhIHBhcnJlbnQsIHByZWZlcmFibHkgYmVmb3JlIG5leHQuXG4gICAgICogQHBhcmFtIHBhcmVudCBwYXJlbnQgdmlld1xuICAgICAqIEBwYXJhbSBjaGlsZCBjaGlsZCB2aWV3IHRvIGJlIGFkZGVkXG4gICAgICogQHBhcmFtIHByZXZpb3VzIHByZXZpb3VzIGVsZW1lbnQuIElmIHByZXNlbnQsIGluc2VydCBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSBuZXh0IG5leHQgZWxlbWVudC4gSWYgcHJlc2VudCwgaW5zZXJ0IGJlZm9yZSB0aGlzIChwcmV2aW91cyBpcyBpZ25vcmVkKS5cbiAgICAgKi9cbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBwcmV2aW91cywgbmV4dCkge1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUGFyZW50ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHBhcmVudCk7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkQ2hpbGQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMoY2hpbGQpO1xuICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBlbnRlciwgYXMgYW5ndWxhciBpcyBzdXBwb3NlZCB0byByZW1vdmUgdGhlIGNoaWxkIGZyb20gdGhlIHByZXZpb3VzIHBhcmVudCBiZWZvcmUgY2FsbGluZyB0aGlzXG4gICAgICAgIC8vIGJ1dCB3aGVuIGFuZ3VsYXIgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCwgdGhlIHJlbW92YWwgbWlnaHQgYmUgZGVsYXllZCwgc28gd2UgbmVlZCB0byBlbnN1cmUgdGhpcyB2aWV3IGlzIG5vdCBhbnl3aGVyZVxuICAgICAgICAvLyB0aGlzIHNlZW1zIHRvIG9ubHkgaGFwcGVucyB0byBDb21tZW50Tm9kZXNcbiAgICAgICAgaWYgKGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChleHRlbmRlZENoaWxkLnBhcmVudE5vZGUsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBuZXh0IGNoaWxkLCBwcmV2aW91cyBpcyB0aGUgcHJldmlvdXNTaWJsaW5nIG9mIGl0XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IG5leHQucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGEgcHJldmlvdXMsIG5leHQgaXMgdGhlIG5leHRTaWJsaW5nIG9mIGl0XG4gICAgICAgICAgICBuZXh0ID0gcHJldmlvdXMubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBwcmV2aW91cyBvciBuZXh0LCBhcHBlbmQgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgcHJldmlvdXMgPSBleHRlbmRlZFBhcmVudC5sYXN0Q2hpbGQ7IC8vIHRoaXMgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCBpZiB0aGUgcGFyZW50IGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydEluTGlzdChleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgcHJldmlvdXMsIG5leHQpO1xuICAgICAgICBpZiAoaXNEZXRhY2hlZEVsZW1lbnQoY2hpbGQpIHx8IGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSA9IGV4dGVuZGVkUGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNEZXRhY2hlZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9WaXN1YWxUcmVlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBuZXh0VmlzdWFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ludmlzaWJsZU5vZGUoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICAgICAgdGhpcy5hZGRJbnZpc2libGVOb2RlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBuZXh0VmlzdWFsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmludE5nVHJlZShleHRlbmRlZENoaWxkKTtcbiAgICB9XG4gICAgaW5zZXJ0QmVmb3JlKHBhcmVudCwgY2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUmVmID0gcmVmQ2hpbGQgPyB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocmVmQ2hpbGQpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIHVuZGVmaW5lZCwgZXh0ZW5kZWRSZWYpO1xuICAgIH1cbiAgICBpbnNlcnRBZnRlcihwYXJlbnQsIGNoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFJlZiA9IHJlZkNoaWxkID8gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHJlZkNoaWxkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBleHRlbmRlZFJlZik7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHZpZXcgaW50byB0aGUgcGFyZW50L3NpYmxpbmcgbGlua2VkIGxpc3RcbiAgICAgKiAhV0FSTklORzogdGhpcyBtZXRob2QgbWFrZXMgbm8gY2hlY2tzIHRvIHZhbGlkYXRlIHRoZSBpbnRlZ3JpdHkgb2YgcHJldmlvdXMvbmV4dCBjaGlsZHJlblxuICAgICAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IHZpZXdcbiAgICAgKiBAcGFyYW0gY2hpbGQgY2hpbGQgdmlld1xuICAgICAqIEBwYXJhbSBwcmV2aW91cyBwcmV2aW91cyBlbGVtZW50LiBudWxsL3VuZGVmaW5lZCBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSBuZXh0IG5leHQgZWxlbWVudC4gbnVsbC91bmRlZmluZWQgZm9yIGxhc3QgZWxlbWVudFxuICAgICAqL1xuICAgIGluc2VydEluTGlzdChwYXJlbnQsIGNoaWxkLCBwcmV2aW91cywgbmV4dCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5pbnNlcnRJbkxpc3QgcGFyZW50OiAke3BhcmVudH0sIHZpZXc6ICR7Y2hpbGR9LCBgICsgYHByZXZpb3VzOiAke3ByZXZpb3VzfSwgbmV4dDogJHtuZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBuZXh0O1xuICAgICAgICAgICAgbmV4dC5wcmV2aW91c1NpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUb1Zpc3VhbFRyZWUocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5hZGRUb1Zpc3VhbFRyZWUgcGFyZW50OiAke3BhcmVudH0sIHZpZXc6ICR7Y2hpbGR9LCBuZXh0OiAke25leHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLmluc2VydENoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydFRvTGF5b3V0KHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQgJiYgcGFyZW50Ll9hZGRDaGlsZEZyb21CdWlsZGVyKSB7XG4gICAgICAgICAgICBwYXJlbnQuX2FkZENoaWxkRnJvbUJ1aWxkZXIoY2hpbGQubm9kZU5hbWUsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gcGFyZW50Lm1ldGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnNlcnRJbnZpc2libGVOb2RlKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5pbnNlcnRJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQudGV4dCA9IGNoaWxkLnRleHQ7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVnaXN0ZXJUZXh0Q2hhbmdlKCh0KSA9PiAocGFyZW50LnRleHQgPSB0KSwgcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnNlcnRUb0xheW91dChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgaWYgKG5leHRWaXN1YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgobmV4dFZpc3VhbCk7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0Q2hpbGQoY2hpbGQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyZW50LmVhY2hDaGlsZCgoYykgPT4ge2NvbnNvbGUubG9nKGMpOyByZXR1cm4gdHJ1ZX0pO1xuICAgIH1cbiAgICBmaW5kTmV4dFZpc3VhbCh2aWV3KSB7XG4gICAgICAgIGxldCBuZXh0ID0gdmlldztcbiAgICAgICAgd2hpbGUgKG5leHQgJiYgaXNEZXRhY2hlZEVsZW1lbnQobmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUNoaWxkIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5kZWRQYXJlbnQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocGFyZW50KTtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRDaGlsZCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhjaGlsZCk7XG4gICAgICAgIGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvbUxpc3QoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICBpZiAoIWlzRGV0YWNoZWRFbGVtZW50KGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21WaXN1YWxUcmVlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0ludmlzaWJsZU5vZGUoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSW52aXNpYmxlTm9kZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRnJvbUxpc3QocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVGcm9tTGlzdCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IGNoaWxkLiBudWxsIGV2ZXJ5dGhpbmdcbiAgICAgICAgaWYgKHBhcmVudC5maXJzdENoaWxkID09PSBjaGlsZCAmJiBwYXJlbnQubGFzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzID0gY2hpbGQucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICBjb25zdCBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIC8vIGlzIGZpcnN0IGNoaWxkLCBtYWtlIHRoZSBuZXh0IHNpYmxpbmcgdGhlIGZpcnN0IGNoaWxkIChjYW4gYmUgbnVsbClcbiAgICAgICAgaWYgKHBhcmVudC5maXJzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmZpcnN0Q2hpbGQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlzIGxhc3QgY2hpbGQsIG1ha2UgdGhlIHByZXZpb3VzIHNpYmxpbmcgdGhlIGxhc3QgY2hpbGQgKGNhbiBiZSBudWxsKVxuICAgICAgICBpZiAocGFyZW50Lmxhc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYXZlIGEgcHJldmlvdXMgc2libGluZywgbWFrZSBpdCBwb2ludCB0byB0aGUgbmV4dCBzaWJsaW5nXG4gICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dFNpYmxpbmcgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGhhdmUgYSBuZXh0IHNpYmxpbmcsIG1ha2UgaXQgcG9pbnQgdG8gdGhlIHByZXZpb3VzXG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBuZXh0LnByZXZpb3VzU2libGluZyA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmFsbHksIG51bGwgdGhlIHNpYmxpbmdzXG4gICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gbnVsbDtcbiAgICB9XG4gICAgLy8gTk9URTogVGhpcyBvbmUgaXMgTyhuKSAtIHVzZSBjYXJlZnVsbHlcbiAgICBmaW5kUHJldmlvdXNFbGVtZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuZmluZFByZXZpb3VzRWxlbWVudCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldmlvdXNWaXN1YWw7XG4gICAgICAgIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICBwcmV2aW91c1Zpc3VhbCA9IHRoaXMuZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50KHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmV2aW91cyA9IHByZXZpb3VzVmlzdWFsIHx8IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAvLyBzaW5jZSBkZXRhY2hlZCBlbGVtZW50cyBhcmUgbm90IGFkZGVkIHRvIHRoZSB2aXN1YWwgdHJlZSxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmaW5kIHRoZSBhY3R1YWwgcHJldmlvdXMgc2libGluZyBvZiB0aGUgdmlldyxcbiAgICAgICAgLy8gd2hpY2ggbWF5IGFzIHdlbGwgYmUgYW4gaW52aXNpYmxlIG5vZGVcbiAgICAgICAgd2hpbGUgKHByZXZpb3VzICYmIHByZXZpb3VzICE9PSBjaGlsZCAmJiBwcmV2aW91cy5uZXh0U2libGluZyAhPT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gcHJldmlvdXMubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgIH1cbiAgICBnZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50SW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIGlmIChlbGVtZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldENoaWxkQXQoZWxlbWVudEluZGV4IC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTk9URTogVGhpcyBvbmUgaXMgTyhuKSAtIHVzZSBjYXJlZnVsbHlcbiAgICBnZXRDaGlsZEluZGV4KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQgPT09IHBhcmVudC5jb250ZW50ID8gMCA6IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUZyb21WaXN1YWxUcmVlKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlRnJvbVZpc3VhbFRyZWUgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSAmJiBwYXJlbnQuY29udGVudCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5jb250ZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcGFyZW50Ll9yZW1vdmVWaWV3KGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gcGFyZW50Lm1ldGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVJbnZpc2libGVOb2RlKSB7XG4gICAgICAgICAgICBwYXJlbnQubWV0YS5yZW1vdmVJbnZpc2libGVOb2RlKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51bnJlZ2lzdGVyVGV4dENoYW5nZShwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlTGF5b3V0Q2hpbGQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQ29tbWVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbW1lbnROb2RlKHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHROb2RlKHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVmlldyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IG5hbWU7XG4gICAgICAgIGlmICghaXNLbm93blZpZXcobmFtZSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSAnUHJveHlWaWV3Q29udGFpbmVyJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBDcmVhdGluZyB2aWV3OiAke29yaWdpbmFsTmFtZX0gJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdDbGFzcyA9IGdldFZpZXdDbGFzcyhuYW1lKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyB2aWV3Q2xhc3MoKTtcbiAgICAgICAgY29uc3QgbmdWaWV3ID0gdGhpcy5zZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpO1xuICAgICAgICBuZ1ZpZXcucmV1c2FibGUgPSAhIXRoaXMucmV1c2VWaWV3cztcbiAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICB9XG4gICAgZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KSB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2aWV3LCAnbWV0YScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2aWV3LmNzc1R5cGUgfHwgdmlldy50eXBlTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IG5nVmlldyA9IHRoaXMuc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYE1ha2UgaW50byBhIE5nVmlldyB2aWV3OiAke3ZpZXd9IG5hbWU6IFwiJHtuYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmdWaWV3ID0gdmlldztcbiAgICAgICAgbmdWaWV3Lm5vZGVOYW1lID0gbmFtZTtcbiAgICAgICAgbmdWaWV3Lm1ldGEgPSBnZXRWaWV3TWV0YShuYW1lKTtcbiAgICAgICAgLy8gd2UncmUgc2V0dGluZyB0aGUgbm9kZSB0eXBlIG9mIHRoZSB2aWV3XG4gICAgICAgIC8vIHRvICdlbGVtZW50JyBiZWNhdXNlIG9mIGNoZWNrcyBkb25lIGluIHRoZVxuICAgICAgICAvLyBkb20gYW5pbWF0aW9uIGVuZ2luZVxuICAgICAgICBuZ1ZpZXcubm9kZVR5cGUgPSBFTEVNRU5UX05PREVfVFlQRTtcbiAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICB9XG4gICAgc2V0UHJvcGVydHkodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIXZpZXcgfHwgKG5hbWVzcGFjZSAmJiAhdGhpcy5ydW5zSW4obmFtZXNwYWNlKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5pbmRleE9mKCcuJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgbmVzdGVkIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhdHRyaWJ1dGVOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydGllc1twcm9wZXJ0aWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IHByb3BlcnRpZXMubGVuZ3RoIC0gMSAmJiB0eXBlb2YgdmlldyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcCA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHByb3BNYXAuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wTWFwLmdldChwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldyA9IHZpZXdbcHJvcF07XG4gICAgICAgICAgICAgICAgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2aWV3ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eUludGVybmFsKHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBydW5zSW4ocGxhdGZvcm0pIHtcbiAgICAgICAgbGV0IHJ1bnMgPSB0cnVlO1xuICAgICAgICBjb25zdCBsYXN0ID0gKCkgPT4gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubmFtZXNwYWNlRmlsdGVycykge1xuICAgICAgICAgICAgbGV0IGNoYWluID0gKHApID0+IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENoYWluID0gY2hhaW47XG4gICAgICAgICAgICAgICAgY2hhaW4gPSAocCkgPT4gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzW2ldLnJ1bnNJbihwLCBjdXJyZW50Q2hhaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVucyA9IGNoYWluKHBsYXRmb3JtKTtcbiAgICAgICAgICAgIHJ1bnMgPSBydW5zICE9PSBmYWxzZSA/IHRydWUgOiBmYWxzZTsgLy8gdW5kZWZpbmVkIG1lYW5zIHRydWVcbiAgICAgICAgICAgIC8vIHRoaXMubmFtZXNwYWNlRmlsdGVycy5zb21lKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgIC8vIFx0Y29uc3QgcnVuc0luRmlsdGVyID0gZmlsdGVyLnJ1bnNJbihwbGF0Zm9ybSk7XG4gICAgICAgICAgICAvLyBcdGlmIChydW5zSW5GaWx0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gXHRcdHJ1bnMgPSBydW5zSW5GaWx0ZXI7XG4gICAgICAgICAgICAvLyBcdFx0cmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBcdH1cbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5zO1xuICAgIH1cbiAgICBzZXRQcm9wZXJ0eUludGVybmFsKHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFNldHRpbmcgYXR0cmlidXRlOiAke2F0dHJpYnV0ZU5hbWV9PSR7dmFsdWV9IHRvICR7dmlld31gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDbGFzc2VzKHZpZXcsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoWE1MX0FUVFJJQlVURVMuaW5kZXhPZihhdHRyaWJ1dGVOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHZpZXdbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wTWFwLmdldChhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBjaGlsZHJlbiBvZiBhIGNvbGxlY3Rpb24gY3VycmVudGx5IGhhdmUgbm8gcGFyZW50IHNldC5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBsb3dlci11cHBlciBjYXNlIG1hcHBlZCBwcm9wZXJ0eS5cbiAgICAgICAgICAgIHZpZXdbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVua25vd24gYXR0cmlidXRlIHZhbHVlIC0tIGp1c3Qgc2V0IGl0IHRvIG91ciBvYmplY3QgYXMgaXMuXG4gICAgICAgIHZpZXdbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyhpdGVtcykge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudCAmJiBpdGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFVuYXNzaWduaW5nIHBhcmVudCAke2l0ZW0ucGFyZW50Tm9kZX0gb24gdmFsdWU6ICR7aXRlbX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByb3BlcnRpZXMoaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9wZXJ0eU1hcHMuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOmZvcmluXG4gICAgICAgICAgICAgICAgcHJvcE1hcC5zZXQocHJvcE5hbWUudG9Mb3dlckNhc2UoKSwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcGVydHlNYXBzLnNldCh0eXBlLCBwcm9wTWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcGVydHlNYXBzLmdldCh0eXBlKTtcbiAgICB9XG4gICAgY3NzQ2xhc3Nlcyh2aWV3KSB7XG4gICAgICAgIGlmICghdmlldy5uZ0Nzc0NsYXNzZXMpIHtcbiAgICAgICAgICAgIHZpZXcubmdDc3NDbGFzc2VzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3Lm5nQ3NzQ2xhc3NlcztcbiAgICB9XG4gICAgYWRkQ2xhc3ModmlldywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkVmlldyA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKGV4dGVuZGVkVmlldykuc2V0KGNsYXNzTmFtZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXMoZXh0ZW5kZWRWaWV3KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3ModmlldywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkVmlldyA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyh2aWV3KTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKGV4dGVuZGVkVmlldykuZGVsZXRlKGNsYXNzTmFtZSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXMoZXh0ZW5kZWRWaWV3KTtcbiAgICB9XG4gICAgc2V0Q2xhc3Nlcyh2aWV3LCBjbGFzc2VzVmFsdWUpIHtcbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzZXNWYWx1ZS5zcGxpdCh3aGl0ZVNwYWNlU3BsaXR0ZXIpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXModmlldykuY2xlYXIoKTtcbiAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKChjbGFzc05hbWUpID0+IHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5zZXQoY2xhc3NOYW1lLCB0cnVlKSk7XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXModmlldyk7XG4gICAgfVxuICAgIHN5bmNDbGFzc2VzKHZpZXcpIHtcbiAgICAgICAgY29uc3QgY2xhc3NWYWx1ZSA9IEFycmF5LmZyb20odGhpcy5jc3NDbGFzc2VzKHZpZXcpLmtleXMoKSkuam9pbignICcpO1xuICAgICAgICB2aWV3LmNsYXNzTmFtZSA9IGNsYXNzVmFsdWU7XG4gICAgfVxuICAgIHNldFN0eWxlKHZpZXcsIHN0eWxlTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQ3NzVmFyaWFibGUoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgdmlldy5zdHlsZS5zZXRVbnNjb3BlZENzc1ZhcmlhYmxlKHN0eWxlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdmlldy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldy5zdHlsZVtzdHlsZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlU3R5bGUodmlldywgc3R5bGVOYW1lKSB7XG4gICAgICAgIGlmIChpc0Nzc1ZhcmlhYmxlKHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGV4cG9zZSB0aGlzIG9uIGNvcmVcbiAgICAgICAgICAgIHZpZXcuc3R5bGUudW5zY29wZWRDc3NWYXJpYWJsZXMuZGVsZXRlKHN0eWxlTmFtZSk7XG4gICAgICAgICAgICB2aWV3Ll9vbkNzc1N0YXRlQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlW3N0eWxlTmFtZV0gPSB1bnNldFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgdmlld1V0aWwgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIFZpZXdVdGlsOiBWaWV3VXRpbFxufSk7XG5cbmNvbnN0IGFkZFN0eWxlVG9Dc3MgPSBwcm9maWxlKCdcInJlbmRlcmVyXCIuYWRkU3R5bGVUb0NzcycsIGZ1bmN0aW9uIGFkZFN0eWxlVG9Dc3Moc3R5bGUsIHRhZykge1xuICAgIGlmICh0YWcpIHtcbiAgICAgICAgYWRkVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZSwgdGFnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmFkZENzcyhzdHlsZSk7XG4gICAgfVxufSk7XG5mdW5jdGlvbiBydW5JblJvb3Rab25lKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgcmV0dXJuIFpvbmUucm9vdC5ydW4oZm4pO1xufVxuZnVuY3Rpb24gaW5Sb290Wm9uZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkRnVuY3Rpb24gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gY2hpbGRGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkluUm9vdFpvbmUoKCkgPT4gZm4oLi4uYXJncykpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9O1xufVxubGV0IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSA9IGNsYXNzIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3Iocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJvb3RNb2R1bGVJRCwgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLnJvb3RWaWV3ID0gcm9vdFZpZXc7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucm9vdE1vZHVsZUlEID0gcm9vdE1vZHVsZUlEO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFJlbmRlcmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBSYWRMaXN0Vmlld1xuICAgICAgICB0aGlzLnZpZXdVdGlsID0gbmV3IFZpZXdVdGlsKHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJldXNlVmlld3MgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gZmFsc2U7IC8vIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRSZW5kZXJlciA9IG5ldyBOYXRpdmVTY3JpcHRSZW5kZXJlcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICB9XG4gICAgY3JlYXRlUmVuZGVyZXIoaG9zdEVsZW1lbnQsIHR5cGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIgJHtob3N0RWxlbWVudH0uIHR5cGUuaWQ6ICR7dHlwZS5pZH0gdHlwZS5lbmNhcHN1bGF0aW9uOiAke3R5cGUuZW5jYXBzdWxhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhvc3RFbGVtZW50IHx8ICF0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0UmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlbmRlcmVyID0gdGhpcy5jb21wb25lbnRSZW5kZXJlcnMuZ2V0KHR5cGUuaWQpO1xuICAgICAgICAvKipcbiAgICAgICAgICohIFdBUk5JTkdcbiAgICAgICAgICohIFdlJ3JlIHJldXNpbmcgdGhlIHJlbmRlcmVyIGZvciB0aGUgY29tcG9uZW50c1xuICAgICAgICAgKiEgdGhpcyBtaWdodCBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yIGFzIHRoZSBcInJvb3RWaWV3XCIgaXMgYW4gYXJiaXRyYXJ5IGhvc3RFbGVtZW50XG4gICAgICAgICAqISBhbHNvLCB0aGUgcmVuZGVyZXIgaGFzIGl0J3MgLmRlc3Ryb3koKSBjYWxsZWQhXG4gICAgICAgICAqISBtaWdodCBiZSB1c2VmdWwgdG8gY3JlYXRlIGEgQmFzZUVtdWxhdGVkUmVuZGVyIGFuZCBhIFByb3h5RW11bGF0ZWRSZW5kZXJcbiAgICAgICAgICohIGV2ZXJ5IGNvbXBvbmVudCB0eXBlIGdldHMgYSBCYXNlRW11bGF0ZWRSZW5kZXIgKHNpbmdsZXRvbikgd2hpY2ggaXMgcGFzc2VkIHRvIFByb3h5RW11bGF0ZWRSZW5kZXJcbiAgICAgICAgICohIFByb3h5RW11bGF0ZWRSZW5kZXJlciByZWdpc3RlcnMgd2l0aCBCYXNlRW11bGF0ZWRSZW5kZXIgc28gd2UgY2FuIGNsZWFuIHVwIHRoaW5ncyBsaWtlIENTUyB3aGVuIGl0J3Mgbm90IG5lZWRlZFxuICAgICAgICAgKiEgdGhpcyBtaWdodCBiZSB1c2VmdWwgaWYgd2UgZmluZCBhIHdheSB0byBITVIgY29tcG9uZW50IHN0eWxpbmcgd2l0aG91dCBhIGZ1bGwgcmVib290c3RyYXBcbiAgICAgICAgICovXG4gICAgICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyIGluc3RhbmNlb2YgRW11bGF0ZWRSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmFwcGx5VG9Ib3N0KGhvc3RFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZS5lbmNhcHN1bGF0aW9uID09PSBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lKSB7XG4gICAgICAgICAgICB0eXBlLnN0eWxlcy5tYXAoKHMpID0+IHMudG9TdHJpbmcoKSkuZm9yRWFjaCgodikgPT4gYWRkU3R5bGVUb0Nzcyh2LCB0aGlzLnJvb3RNb2R1bGVJRCkpO1xuICAgICAgICAgICAgcmVuZGVyZXIgPSB0aGlzLmRlZmF1bHRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IEVtdWxhdGVkUmVuZGVyZXIodHlwZSwgaG9zdEVsZW1lbnQsIHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yb290TW9kdWxlSUQsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgICAgICByZW5kZXJlci5hcHBseVRvSG9zdChob3N0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRSZW5kZXJlcnMuc2V0KHR5cGUuaWQsIHJlbmRlcmVyKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgICAvLyBiZWdpbj8oKTogdm9pZCB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIC8vIH1cbiAgICAvLyBlbmQ/KCk6IHZvaWQge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAvLyB9XG4gICAgd2hlblJlbmRlcmluZ0RvbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yb290Vmlldykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGludGVydmFsID0gMDtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVzb2x2ZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBpT1MgcmVhbGx5IGhhdGVzIHN5bmNocm9ub3VzIHRoaW5ncy4uLlxuICAgICAgICAgICAgICAgIC8vIFV0aWxzLnF1ZXVlTWFjcm90YXNrKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZmlyZVdoZW5Mb2FkZWQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHJvb3RGYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2aWV3Lm9uY2UoJ2xvYWRlZCcsIHNjaGVkdWxlUmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm9vdEZhY3RvcnkgPSAoKSA9PiAodGhpcy5yb290VmlldyBpbnN0YW5jZW9mIENvbnRlbnRWaWV3ID8gdGhpcy5yb290Vmlldy5jb250ZW50IDogdGhpcy5yb290Vmlldyk7XG4gICAgICAgICAgICBpZiAoIXJvb3RGYWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RGYWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZVdoZW5Mb2FkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpcmVXaGVuTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG59O1xuTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJbmplY3QoQVBQX1JPT1RfVklFVykpLFxuICAgIF9fcGFyYW0oMSwgSW5qZWN0KE5BTUVTUEFDRV9GSUxURVJTKSksXG4gICAgX19wYXJhbSgyLCBJbmplY3QoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKSksXG4gICAgX19wYXJhbSgzLCBPcHRpb25hbCgpKSxcbiAgICBfX3BhcmFtKDMsIEluamVjdChFTkFCTEVfUkVVU0FCRV9WSUVXUykpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbVmlldywgQXJyYXksIE9iamVjdCwgT2JqZWN0XSlcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSk7XG5jbGFzcyBOYXRpdmVTY3JpcHRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3Iocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5yb290VmlldyA9IHJvb3RWaWV3O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJldXNlVmlld3MgPSByZXVzZVZpZXdzO1xuICAgICAgICB0aGlzLnZpZXdVdGlsID0gbmV3IFZpZXdVdGlsKHRoaXMubmFtZXNwYWNlRmlsdGVycywgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgdGhpcy5kZXN0cm95Tm9kZSA9IChub2RlKSA9PiBydW5JblJvb3Rab25lKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmRlc3Ryb3lOb2RlIG5vZGU6ICR7bm9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuZGVzdHJveU5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuZGVzdHJveU5vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIuZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuY3JlYXRlRWxlbWVudDogJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGROYW1lO1xuICAgICAgICBpZiAoIWlzS25vd25WaWV3KG5hbWUpKSB7XG4gICAgICAgICAgICBvbGROYW1lID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSAnUHJveHlWaWV3Q29udGFpbmVyJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3VXRpbC5jcmVhdGVWaWV3KG5hbWUpO1xuICAgICAgICBpZiAob2xkTmFtZSkge1xuICAgICAgICAgICAgdmlldy5jdXN0b21DU1NOYW1lID0gb2xkTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgY3JlYXRlQ29tbWVudCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVDb21tZW50KHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZVRleHQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVUZXh0KHZhbHVlKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmFwcGVuZENoaWxkIGNoaWxkOiAke25ld0NoaWxkfSBwYXJlbnQ6ICR7cGFyZW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmluc2VydEJlZm9yZSBjaGlsZDogJHtuZXdDaGlsZH0gYCArIGBwYXJlbnQ6ICR7cGFyZW50fSByZWZDaGlsZDogJHtyZWZDaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVDaGlsZCBjaGlsZDogJHtvbGRDaGlsZH0gcGFyZW50OiAke3BhcmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQpO1xuICAgIH1cbiAgICBzZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSwgcHJlc2VydmVDb250ZW50KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQ6ICR7c2VsZWN0b3JPck5vZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yT3JOb2RlIGluc3RhbmNlb2YgVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yT3JOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck9yTm9kZSAmJiBzZWxlY3Rvck9yTm9kZVswXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRWaWV3QnlJZCh0aGlzLnJvb3RWaWV3LCBzZWxlY3Rvck9yTm9kZS5zbGljZSgxKSk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCB8fCB0aGlzLnJvb3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yT3JOb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld1V0aWwuY3JlYXRlVmlldyhzZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgICAgICBpZiAoZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3KSA9PT0gdmlldykge1xuICAgICAgICAgICAgICAgIC8vIHZpZXcgaXMgbmF0aXZlbGlrZSFcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMucm9vdFZpZXcsIHZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RWaWV3O1xuICAgIH1cbiAgICBwYXJlbnROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5wYXJlbnROb2RlIGZvciBub2RlOiAke25vZGV9IGlzICR7bm9kZS5wYXJlbnROb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIG5leHRTaWJsaW5nKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5uZXh0U2libGluZyBvZiAke25vZGV9IGlzICR7bm9kZS5uZXh0U2libGluZ31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgc2V0QXR0cmlidXRlKGVsLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0QXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIHJlbW92ZUF0dHJpYnV0ZShlbCwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENsYXNzKGVsLCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuYWRkQ2xhc3MgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYWRkQ2xhc3MoZWwsIG5hbWUpO1xuICAgIH1cbiAgICByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUNsYXNzICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNsYXNzKGVsLCBuYW1lKTtcbiAgICB9XG4gICAgc2V0U3R5bGUoZWwsIHN0eWxlLCB2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRTdHlsZTogJHtlbH0sICR7c3R5bGV9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZW1vdmVTdHlsZShlbCwgc3R5bGUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlU3R5bGU6ICR7c3R5bGVOYW1lfScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlU3R5bGUoZWwsIHN0eWxlKTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0UHJvcGVydHkgJHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZShub2RlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFZhbHVlIHJlbmRlck5vZGU6ICR7bm9kZX0sIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUudGV4dCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICBsaXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmxpc3RlbjogJHtldmVudE5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgICBpZiAoZXZlbnROYW1lID09PSBWaWV3LmxvYWRlZEV2ZW50ICYmIHRhcmdldC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgLy8gd2UgbXVzdCBjcmVhdGUgYSBuZXcgb2JlcnZhYmxlIGhlcmUgdG8gZW5zdXJlIHRoYXQgdGhlIGV2ZW50IGdvZXMgdGhyb3VnaCB3aGF0ZXZlciB6b25lIHBhdGNoZXMgYXJlIGFwcGxpZWRcbiAgICAgICAgICAgIGNvbnN0IG9icyA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgICAgICBvYnMub25jZShldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIG9icy5ub3RpZnkoe1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRhcmdldCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB0YXJnZXQub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nLCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZUVsZW1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlQ29tbWVudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVUZXh0XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LCBWaWV3XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJhcHBlbmRDaGlsZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBPYmplY3QsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiaW5zZXJ0QmVmb3JlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIE9iamVjdCwgQm9vbGVhbl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlQ2hpbGRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBTdHJpbmcsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0QXR0cmlidXRlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkQ2xhc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW1vdmVDbGFzc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE9iamVjdCwgTnVtYmVyXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRTdHlsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE51bWJlcl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlU3R5bGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldFByb3BlcnR5XCIsIG51bGwpO1xuLy8gQ09OVEVOVF9BVFRSIG5vdCBleHBvcnRlZCBmcm9tIG5hdGl2ZXNjcmlwdC1yZW5kZXJlciAtIHdlIG5lZWQgaXQgZm9yIHN0eWxlcyBhcHBsaWNhdGlvbi5cbmNvbnN0IENPTVBPTkVOVF9SRUdFWCA9IC8lQ09NUCUvZztcbmNvbnN0IEFUVFJfU0FOSVRJWkVSID0gLy0vZztcbmNvbnN0IENPTVBPTkVOVF9WQVJJQUJMRSA9ICclQ09NUCUnO1xuY29uc3QgSE9TVF9BVFRSID0gYF9uZ2hvc3QtJHtDT01QT05FTlRfVkFSSUFCTEV9YDtcbmNvbnN0IENPTlRFTlRfQVRUUiA9IGBfbmdjb250ZW50LSR7Q09NUE9ORU5UX1ZBUklBQkxFfWA7XG5jb25zdCByZXBsYWNlTmdBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoaW5wdXQsIGNvbXBvbmVudElkKSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoQ09NUE9ORU5UX1JFR0VYLCBjb21wb25lbnRJZCk7XG59O1xuY29uc3QgYWRkU2NvcGVkU3R5bGVUb0NzcyA9IHByb2ZpbGUoYFwicmVuZGVyZXJcIi5hZGRTY29wZWRTdHlsZVRvQ3NzYCwgZnVuY3Rpb24gYWRkU2NvcGVkU3R5bGVUb0NzcyhzdHlsZSwgdGFnKSB7XG4gICAgaWYgKHRhZykge1xuICAgICAgICBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlLCB0YWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24uYWRkQ3NzKHN0eWxlKTtcbiAgICB9XG59KTtcbmNsYXNzIEVtdWxhdGVkUmVuZGVyZXIgZXh0ZW5kcyBOYXRpdmVTY3JpcHRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCByb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcm9vdE1vZHVsZUlkLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHN1cGVyKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKTtcbiAgICAgICAgdGhpcy5yb290TW9kdWxlSWQgPSByb290TW9kdWxlSWQ7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50LmlkLnJlcGxhY2UoQVRUUl9TQU5JVElaRVIsICdfJyk7XG4gICAgICAgIHRoaXMuY29udGVudEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoQ09OVEVOVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuaG9zdEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoSE9TVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuYWRkU3R5bGVzKGNvbXBvbmVudC5zdHlsZXMsIGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgYXBwbHlUb0hvc3Qodmlldykge1xuICAgICAgICBzdXBlci5zZXRBdHRyaWJ1dGUodmlldywgdGhpcy5ob3N0QXR0ciwgJycpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKSB7XG4gICAgICAgIHN1cGVyLmFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpO1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHBhcmVudCwgbmFtZSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gc3VwZXIuY3JlYXRlRWxlbWVudChwYXJlbnQsIG5hbWUpO1xuICAgICAgICAvLyBTZXQgYW4gYXR0cmlidXRlIHRvIHRoZSB2aWV3IHRvIHNjb3BlIGNvbXBvbmVudC1zcGVjaWZpYyBjc3MuXG4gICAgICAgIC8vIFRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByZS1nZW5lcmF0ZWQgYnkgQW5ndWxhci5cbiAgICAgICAgc3VwZXIuc2V0QXR0cmlidXRlKHZpZXcsIHRoaXMuY29udGVudEF0dHIsICcnKTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGFkZFN0eWxlcyhzdHlsZXMsIGNvbXBvbmVudElkKSB7XG4gICAgICAgIHN0eWxlc1xuICAgICAgICAgICAgLm1hcCgocykgPT4gcy50b1N0cmluZygpKVxuICAgICAgICAgICAgLm1hcCgocykgPT4gcmVwbGFjZU5nQXR0cmlidXRlKHMsIGNvbXBvbmVudElkKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChzKSA9PiBhZGRTY29wZWRTdHlsZVRvQ3NzKHMsIHRoaXMucm9vdE1vZHVsZUlkKSk7XG4gICAgfVxufVxuRW11bGF0ZWRSZW5kZXJlci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBFbXVsYXRlZFJlbmRlcmVyLCBkZXBzOiBcImludmFsaWRcIiwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuRW11bGF0ZWRSZW5kZXJlci7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciB9KTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FycmF5LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgRW11bGF0ZWRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkU3R5bGVzXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTEuVmlldyB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYWRkU3R5bGVzOiBbXSB9IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgbnVsbCBwb3J0YWwgdG8gYSBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd051bGxQb3J0YWxFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignTXVzdCBwcm92aWRlIGEgcG9ydGFsIHRvIGF0dGFjaCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBob3N0IHRoYXQgaXMgYWxyZWFkeSBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignSG9zdCBhbHJlYWR5IGhhcyBhIHBvcnRhbCBhdHRhY2hlZCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYW4gYWxyZWFkeS1kaXNwb3NlZCBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdUaGlzIFBvcnRhbE91dGxldCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhbiB1bmtub3duIHBvcnRhbCB0eXBlLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gYXR0YWNoIGFuIHVua25vd24gUG9ydGFsIHR5cGUuIEJhc2VQb3J0YWxPdXRsZXQgYWNjZXB0cyBlaXRoZXIgJyArICdhIENvbXBvbmVudFBvcnRhbCBvciBhIFRlbXBsYXRlUG9ydGFsLicpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBudWxsIGhvc3QuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIG51bGwgUG9ydGFsT3V0bGV0Jyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGRldGFjaCBhIHBvcnRhbCB0aGF0IGlzIG5vdCBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gZGV0YWNoIGEgcG9ydGFsIHRoYXQgaXMgbm90IGF0dGFjaGVkIHRvIGEgaG9zdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBgUG9ydGFsYCBpcyBzb21ldGhpbmcgdGhhdCB5b3Ugd2FudCB0byByZW5kZXIgc29tZXdoZXJlIGVsc2UuXG4gKiBJdCBjYW4gYmUgYXR0YWNoIHRvIC8gZGV0YWNoZWQgZnJvbSBhIGBQb3J0YWxPdXRsZXRgLlxuICovXG5jbGFzcyBQb3J0YWwge1xuICAgIC8qKiBBdHRhY2ggdGhpcyBwb3J0YWwgdG8gYSBob3N0LiAqL1xuICAgIGF0dGFjaChob3N0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGlmIChob3N0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvc3QuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZEhvc3QgPSBob3N0O1xuICAgICAgICByZXR1cm4gaG9zdC5hdHRhY2godGhpcyk7XG4gICAgfVxuICAgIC8qKiBEZXRhY2ggdGhpcyBwb3J0YWwgZnJvbSBpdHMgaG9zdCAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IHRoaXMuX2F0dGFjaGVkSG9zdDtcbiAgICAgICAgaWYgKGhvc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gbnVsbDtcbiAgICAgICAgICAgIGhvc3QuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgcG9ydGFsIGlzIGF0dGFjaGVkIHRvIGEgaG9zdC4gKi9cbiAgICBnZXQgaXNBdHRhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkSG9zdCAhPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBQb3J0YWxPdXRsZXQgcmVmZXJlbmNlIHdpdGhvdXQgcGVyZm9ybWluZyBgYXR0YWNoKClgLiBUaGlzIGlzIHVzZWQgZGlyZWN0bHkgYnlcbiAgICAgKiB0aGUgUG9ydGFsT3V0bGV0IHdoZW4gaXQgaXMgcGVyZm9ybWluZyBhbiBgYXR0YWNoKClgIG9yIGBkZXRhY2goKWAuXG4gICAgICovXG4gICAgc2V0QXR0YWNoZWRIb3N0KGhvc3QpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gaG9zdDtcbiAgICB9XG59XG4vKipcbiAqIEEgYENvbXBvbmVudFBvcnRhbGAgaXMgYSBwb3J0YWwgdGhhdCBpbnN0YW50aWF0ZXMgc29tZSBDb21wb25lbnQgdXBvbiBhdHRhY2htZW50LlxuICovXG5jbGFzcyBDb21wb25lbnRQb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgdmlld0NvbnRhaW5lclJlZiwgaW5qZWN0b3IsIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5pbmplY3RvciA9IGluamVjdG9yO1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICB9XG59XG4vKipcbiAqIEEgYFRlbXBsYXRlUG9ydGFsYCBpcyBhIHBvcnRhbCB0aGF0IHJlcHJlc2VudHMgc29tZSBlbWJlZGRlZCB0ZW1wbGF0ZSAoVGVtcGxhdGVSZWYpLlxuICovXG5jbGFzcyBUZW1wbGF0ZVBvcnRhbCBleHRlbmRzIFBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHZpZXdDb250YWluZXJSZWYsIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXJSZWYgPSB2aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBnZXQgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVJlZi5lbGVtZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIHBvcnRhbCB0byB0aGUgcHJvdmlkZWQgYFBvcnRhbE91dGxldGAuXG4gICAgICogV2hlbiBhIGNvbnRleHQgaXMgcHJvdmlkZWQgaXQgd2lsbCBvdmVycmlkZSB0aGUgYGNvbnRleHRgIHByb3BlcnR5IG9mIHRoZSBgVGVtcGxhdGVQb3J0YWxgXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovXG4gICAgYXR0YWNoKGhvc3QsIGNvbnRleHQgPSB0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmF0dGFjaChob3N0KTtcbiAgICB9XG4gICAgZGV0YWNoKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzdXBlci5kZXRhY2goKTtcbiAgICB9XG59XG4vKipcbiAqIEEgYERvbVBvcnRhbGAgaXMgYSBwb3J0YWwgd2hvc2UgRE9NIGVsZW1lbnQgd2lsbCBiZSB0YWtlbiBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uXG4gKiBpbiB0aGUgRE9NIGFuZCBtb3ZlZCBpbnRvIGEgcG9ydGFsIG91dGxldCwgd2hlbiBpdCBpcyBhdHRhY2hlZC4gT24gZGV0YWNoLCB0aGUgY29udGVudFxuICogd2lsbCBiZSByZXN0b3JlZCB0byBpdHMgb3JpZ2luYWwgcG9zaXRpb24uXG4gKi9cbmNsYXNzIERvbVBvcnRhbCBleHRlbmRzIFBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudFJlZiA/IGVsZW1lbnQubmF0aXZlRWxlbWVudCA6IGVsZW1lbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJ0aWFsIGltcGxlbWVudGF0aW9uIG9mIFBvcnRhbE91dGxldCB0aGF0IGhhbmRsZXMgYXR0YWNoaW5nXG4gKiBDb21wb25lbnRQb3J0YWwgYW5kIFRlbXBsYXRlUG9ydGFsLlxuICovXG5jbGFzcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhpcyBob3N0IGhhcyBhbHJlYWR5IGJlZW4gcGVybWFuZW50bHkgZGlzcG9zZWQuICovXG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gQGJyZWFraW5nLWNoYW5nZSAxMC4wLjAgYGF0dGFjaERvbVBvcnRhbGAgdG8gYmVjb21lIGEgcmVxdWlyZWQgYWJzdHJhY3QgbWV0aG9kLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L21lbWJlci1vcmRlcmluZ1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IG51bGw7XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgaG9zdCBoYXMgYW4gYXR0YWNoZWQgcG9ydGFsLiAqL1xuICAgIGhhc0F0dGFjaGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hdHRhY2hlZFBvcnRhbDtcbiAgICB9XG4gICAgLyoqIEF0dGFjaGVzIGEgcG9ydGFsLiAqL1xuICAgIGF0dGFjaChwb3J0YWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKCFwb3J0YWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvd051bGxQb3J0YWxFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3J0YWwgaW5zdGFuY2VvZiBDb21wb25lbnRQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9ydGFsIGluc3RhbmNlb2YgVGVtcGxhdGVQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKTtcbiAgICAgICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIHJlbW92ZSBudWxsIGNoZWNrIGZvciBgdGhpcy5hdHRhY2hEb21Qb3J0YWxgLlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0YWNoRG9tUG9ydGFsICYmIHBvcnRhbCBpbnN0YW5jZW9mIERvbVBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hEb21Qb3J0YWwocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogRGV0YWNoZXMgYSBwcmV2aW91c2x5IGF0dGFjaGVkIHBvcnRhbC4gKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZFBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwuc2V0QXR0YWNoZWRIb3N0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZURpc3Bvc2VGbigpO1xuICAgIH1cbiAgICAvKiogUGVybWFuZW50bHkgZGlzcG9zZSBvZiB0aGlzIHBvcnRhbCBob3N0LiAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlRGlzcG9zZUZuKCk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICAgIHNldERpc3Bvc2VGbihmbikge1xuICAgICAgICB0aGlzLl9kaXNwb3NlRm4gPSBmbjtcbiAgICB9XG4gICAgX2ludm9rZURpc3Bvc2VGbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VGbikge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZUZuKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlRm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGlyZWN0aXZlIHZlcnNpb24gb2YgYSBgVGVtcGxhdGVQb3J0YWxgLiBCZWNhdXNlIHRoZSBkaXJlY3RpdmUgKmlzKiBhIFRlbXBsYXRlUG9ydGFsLFxuICogdGhlIGRpcmVjdGl2ZSBpbnN0YW5jZSBpdHNlbGYgY2FuIGJlIGF0dGFjaGVkIHRvIGEgaG9zdCwgZW5hYmxpbmcgZGVjbGFyYXRpdmUgdXNlIG9mIHBvcnRhbHMuXG4gKi9cbmNsYXNzIENka1BvcnRhbCBleHRlbmRzIFRlbXBsYXRlUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBzdXBlcih0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lclJlZik7XG4gICAgfVxufVxuQ2RrUG9ydGFsLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbCwgZGVwczogW3sgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuQ2RrUG9ydGFsLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IENka1BvcnRhbCwgc2VsZWN0b3I6IFwiW2Nka1BvcnRhbF1cIiwgZXhwb3J0QXM6IFtcImNka1BvcnRhbFwiXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbY2RrUG9ydGFsXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnY2RrUG9ydGFsJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLlRlbXBsYXRlUmVmIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9XTsgfSB9KTtcbi8qKlxuICogRGlyZWN0aXZlIHZlcnNpb24gb2YgYSBQb3J0YWxPdXRsZXQuIEJlY2F1c2UgdGhlIGRpcmVjdGl2ZSAqaXMqIGEgUG9ydGFsT3V0bGV0LCBwb3J0YWxzIGNhbiBiZVxuICogZGlyZWN0bHkgYXR0YWNoZWQgdG8gaXQsIGVuYWJsaW5nIGRlY2xhcmF0aXZlIHVzZS5cbiAqXG4gKiBVc2FnZTpcbiAqIGA8bmctdGVtcGxhdGUgW2Nka1BvcnRhbE91dGxldF09XCJncmVldGluZ1wiPjwvbmctdGVtcGxhdGU+YFxuICovXG5jbGFzcyBDZGtQb3J0YWxPdXRsZXQgZXh0ZW5kcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcihfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfdmlld0NvbnRhaW5lclJlZiwgcmVuZGVyZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IF92aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBwb3J0YWwgY29tcG9uZW50IGlzIGluaXRpYWxpemVkLiAqL1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBFbWl0cyB3aGVuIGEgcG9ydGFsIGlzIGF0dGFjaGVkIHRvIHRoZSBvdXRsZXQuICovXG4gICAgICAgIHRoaXMuYXR0YWNoZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2hlcyB0aGUgZ2l2ZW4gRG9tUG9ydGFsIHRvIHRoaXMgUG9ydGFsSG9zdCBieSBtb3ZpbmcgYWxsIG9mIHRoZSBwb3J0YWwgY29udGVudCBpbnRvIGl0LlxuICAgICAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVG8gYmUgdHVybmVkIGludG8gYSBtZXRob2QuXG4gICAgICAgICAqIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IChwb3J0YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwb3J0YWwuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlICYmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RPTSBwb3J0YWwgY29udGVudCBtdXN0IGJlIGF0dGFjaGVkIHRvIGEgcGFyZW50IG5vZGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbmNob3IgdXNlZCB0byBzYXZlIHRoZSBlbGVtZW50J3MgcHJldmlvdXMgcG9zaXRpb24gc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgd2hlbiB0aGUgcG9ydGFsIGlzIGRldGFjaGVkLlxuICAgICAgICAgICAgY29uc3QgYW5jaG9yTm9kZSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQ29tbWVudCgnZG9tLXBvcnRhbCcpO1xuICAgICAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSwgZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuX2dldFJvb3ROb2RlKCksIGVsZW1lbnQpO1xuICAgICAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5jaG9yTm9kZS5wYXJlbnROb2RlIS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBQb3J0YWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBQb3J0YWwgb3V0bGV0LiAqL1xuICAgIGdldCBwb3J0YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZFBvcnRhbDtcbiAgICB9XG4gICAgc2V0IHBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBjYXNlcyB3aGVyZSB0aGUgYHBvcnRhbGAgaXMgc2V0IHRvIGEgZmFsc3kgdmFsdWUgYmVmb3JlIHRoZSBsaWZlY3ljbGUgaG9va3MgaGF2ZVxuICAgICAgICAvLyBydW4uIFRoaXMgaGFuZGxlcyB0aGUgY2FzZXMgd2hlcmUgdGhlIHVzZXIgbWlnaHQgZG8gc29tZXRoaW5nIGxpa2UgYDxkaXYgY2RrUG9ydGFsT3V0bGV0PmBcbiAgICAgICAgLy8gYW5kIGF0dGFjaCBhIHBvcnRhbCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBwYXJlbnQgY29tcG9uZW50LiBXaGVuIEFuZ3VsYXIgZG9lcyB0aGUgZmlyc3QgQ0RcbiAgICAgICAgLy8gcm91bmQsIGl0IHdpbGwgZmlyZSB0aGUgc2V0dGVyIHdpdGggZW1wdHkgc3RyaW5nLCBjYXVzaW5nIHRoZSB1c2VyJ3MgY29udGVudCB0byBiZSBjbGVhcmVkLlxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpICYmICFwb3J0YWwgJiYgIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICBzdXBlci5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydGFsKSB7XG4gICAgICAgICAgICBzdXBlci5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICB9XG4gICAgLyoqIENvbXBvbmVudCBvciB2aWV3IHJlZmVyZW5jZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBwb3J0YWwuICovXG4gICAgZ2V0IGF0dGFjaGVkUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRSZWY7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gQ29tcG9uZW50UG9ydGFsIHRvIHRoaXMgUG9ydGFsT3V0bGV0IHVzaW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZCB0byB0aGUgcG9ydGFsIG91dGxldC5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYW4gb3JpZ2luLCB1c2UgdGhhdCBhcyB0aGUgbG9naWNhbCBsb2NhdGlvbiBvZiB0aGUgY29tcG9uZW50XG4gICAgICAgIC8vIGluIHRoZSBhcHBsaWNhdGlvbiB0cmVlLiBPdGhlcndpc2UgdXNlIHRoZSBsb2NhdGlvbiBvZiB0aGlzIFBvcnRhbE91dGxldC5cbiAgICAgICAgY29uc3Qgdmlld0NvbnRhaW5lclJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmICE9IG51bGwgPyBwb3J0YWwudmlld0NvbnRhaW5lclJlZiA6IHRoaXMuX3ZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgcmVmID0gdmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeSwgdmlld0NvbnRhaW5lclJlZi5sZW5ndGgsIHBvcnRhbC5pbmplY3RvciB8fCB2aWV3Q29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgLy8gSWYgd2UncmUgdXNpbmcgYSB2aWV3IGNvbnRhaW5lciB0aGF0J3MgZGlmZmVyZW50IGZyb20gdGhlIGluamVjdGVkIG9uZSAoZS5nLiB3aGVuIHRoZSBwb3J0YWxcbiAgICAgICAgLy8gc3BlY2lmaWVzIGl0cyBvd24pIHdlIG5lZWQgdG8gbW92ZSB0aGUgY29tcG9uZW50IGludG8gdGhlIG91dGxldCwgb3RoZXJ3aXNlIGl0J2xsIGJlIHJlbmRlcmVkXG4gICAgICAgIC8vIGluc2lkZSBvZiB0aGUgYWx0ZXJuYXRlIHZpZXcgY29udGFpbmVyLlxuICAgICAgICBpZiAodmlld0NvbnRhaW5lclJlZiAhPT0gdGhpcy5fdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLl9nZXRSb290Tm9kZSgpLCByZWYuaG9zdFZpZXcucm9vdE5vZGVzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4gcmVmLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy5hdHRhY2hlZC5lbWl0KHJlZik7XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gVGVtcGxhdGVQb3J0YWwgdG8gdGhpcyBQb3J0YWxIb3N0IGFzIGFuIGVtYmVkZGVkIFZpZXcuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGVtYmVkZGVkIHZpZXcuXG4gICAgICovXG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyhwb3J0YWwudGVtcGxhdGVSZWYsIHBvcnRhbC5jb250ZXh0KTtcbiAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY2xlYXIoKSk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuYXR0YWNoZWQuZW1pdCh2aWV3UmVmKTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSByb290IG5vZGUgb2YgdGhlIHBvcnRhbCBvdXRsZXQuICovXG4gICAgX2dldFJvb3ROb2RlKCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIC8vIFRoZSBkaXJlY3RpdmUgY291bGQgYmUgc2V0IG9uIGEgdGVtcGxhdGUgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBjb21tZW50XG4gICAgICAgIC8vIG5vZGUgYmVpbmcgdGhlIHJvb3QuIFVzZSB0aGUgY29tbWVudCdzIHBhcmVudCBub2RlIGlmIHRoYXQgaXMgdGhlIGNhc2UuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHJldHVybiAoIShuYXRpdmVFbGVtZW50IGluc3RhbmNlb2YgQ29tbWVudE5vZGUpID8gbmF0aXZlRWxlbWVudCA6IG5hdGl2ZUVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgfVxufVxuQ2RrUG9ydGFsT3V0bGV0Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbE91dGxldCwgZGVwczogW3sgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5DZGtQb3J0YWxPdXRsZXQuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBzZWxlY3RvcjogXCJbY2RrUG9ydGFsT3V0bGV0XVwiLCBpbnB1dHM6IHsgcG9ydGFsOiBbXCJjZGtQb3J0YWxPdXRsZXRcIiwgXCJwb3J0YWxcIl0gfSwgb3V0cHV0czogeyBhdHRhY2hlZDogXCJhdHRhY2hlZFwiIH0sIGV4cG9ydEFzOiBbXCJjZGtQb3J0YWxPdXRsZXRcIl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbE91dGxldCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Nka1BvcnRhbE91dGxldF0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2Nka1BvcnRhbE91dGxldCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taW5wdXRzLW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogWydwb3J0YWw6IGNka1BvcnRhbE91dGxldCddLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYXR0YWNoZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuY2xhc3MgUG9ydGFsTW9kdWxlIHtcbn1cblBvcnRhbE1vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuUG9ydGFsTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlY2xhcmF0aW9uczogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSwgZXhwb3J0czogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSB9KTtcblBvcnRhbE1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBQb3J0YWxPdXRsZXQgZm9yIGF0dGFjaGluZyBwb3J0YWxzIHRvIGFuIGFyYml0cmFyeSBET00gZWxlbWVudCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyXG4gKiBhcHBsaWNhdGlvbiBjb250ZXh0LlxuICovXG5sZXQgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0ID0gY2xhc3MgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0IGV4dGVuZHMgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIEVsZW1lbnQgaW50byB3aGljaCB0aGUgY29udGVudCBpcyBwcm9qZWN0ZWQuICovXG4gICAgb3V0bGV0RWxlbWVudCwgX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgX2FwcFJlZiwgX2RlZmF1bHRJbmplY3Rvciwgdmlld1V0aWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50ID0gb3V0bGV0RWxlbWVudDtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gX2FwcFJlZjtcbiAgICAgICAgdGhpcy5fZGVmYXVsdEluamVjdG9yID0gX2RlZmF1bHRJbmplY3RvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaGVzIGEgRE9NIHBvcnRhbCBieSB0cmFuc2ZlcnJpbmcgaXRzIGNvbnRlbnQgaW50byB0aGUgb3V0bGV0LlxuICAgICAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVG8gYmUgdHVybmVkIGludG8gYSBtZXRob2QuXG4gICAgICAgICAqIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IChwb3J0YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBwb3J0YWwuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlICYmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RPTSBwb3J0YWwgY29udGVudCBtdXN0IGJlIGF0dGFjaGVkIHRvIGEgcGFyZW50IG5vZGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbmNob3IgdXNlZCB0byBzYXZlIHRoZSBlbGVtZW50J3MgcHJldmlvdXMgcG9zaXRpb24gc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgd2hlbiB0aGUgcG9ydGFsIGlzIGRldGFjaGVkLlxuICAgICAgICAgICAgY29uc3QgYW5jaG9yTm9kZSA9IHRoaXMuX3ZpZXdVdGlsLmNyZWF0ZUNvbW1lbnQoJ2RvbS1wb3J0YWwnKTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmluc2VydEJlZm9yZShlbGVtZW50LnBhcmVudE5vZGUsIGFuY2hvck5vZGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3QgdXNlIGByZXBsYWNlV2l0aGAgaGVyZSBiZWNhdXNlIElFIGRvZXNuJ3Qgc3VwcG9ydCBpdC5cbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmluc2VydEJlZm9yZShhbmNob3JOb2RlLnBhcmVudE5vZGUsIGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChhbmNob3JOb2RlLnBhcmVudE5vZGUsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvL2FuY2hvck5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3ZpZXdVdGlsID0gdmlld1V0aWwgfHwgdGhpcy5fZGVmYXVsdEluamVjdG9yLmdldChWaWV3VXRpbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gQ29tcG9uZW50UG9ydGFsIHRvIERPTSBlbGVtZW50IHVzaW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWRcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBwb3J0YWwuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHBvcnRhbC5jb21wb25lbnQpO1xuICAgICAgICBsZXQgY29tcG9uZW50UmVmO1xuICAgICAgICAvLyBJZiB0aGUgcG9ydGFsIHNwZWNpZmllcyBhIFZpZXdDb250YWluZXJSZWYsIHdlIHdpbGwgdXNlIHRoYXQgYXMgdGhlIGF0dGFjaG1lbnQgcG9pbnRcbiAgICAgICAgLy8gZm9yIHRoZSBjb21wb25lbnQgKGluIHRlcm1zIG9mIEFuZ3VsYXIncyBjb21wb25lbnQgdHJlZSwgbm90IHJlbmRlcmluZykuXG4gICAgICAgIC8vIFdoZW4gdGhlIFZpZXdDb250YWluZXJSZWYgaXMgbWlzc2luZywgd2UgdXNlIHRoZSBmYWN0b3J5IHRvIGNyZWF0ZSB0aGUgY29tcG9uZW50IGRpcmVjdGx5XG4gICAgICAgIC8vIGFuZCB0aGVuIG1hbnVhbGx5IGF0dGFjaCB0aGUgdmlldyB0byB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIGlmIChwb3J0YWwudmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgY29tcG9uZW50UmVmID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnksIHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmxlbmd0aCwgcG9ydGFsLmluamVjdG9yIHx8IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IGNvbXBvbmVudFJlZi5kZXN0cm95KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50UmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUocG9ydGFsLmluamVjdG9yIHx8IHRoaXMuX2RlZmF1bHRJbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgdGhpcy5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBpbnN0YW50aWF0ZWQsIHNvIHdlIG1vdmUgaXQgdG8gdGhlIGxvY2F0aW9uIGluIHRoZSBET01cbiAgICAgICAgLy8gd2hlcmUgd2Ugd2FudCBpdCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSB0aGlzLl9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpO1xuICAgICAgICBpZiAocm9vdE5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChyb290Tm9kZS5wYXJlbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92aWV3VXRpbC5hcHBlbmRDaGlsZCh0aGlzLm91dGxldEVsZW1lbnQsIHRoaXMuX2dldENvbXBvbmVudFJvb3ROb2RlKGNvbXBvbmVudFJlZikpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHRlbXBsYXRlIHBvcnRhbCB0byB0aGUgRE9NIGFzIGFuIGVtYmVkZGVkIHZpZXcuXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGVtYmVkZGVkIHZpZXcuXG4gICAgICovXG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIGNvbnN0IHZpZXdDb250YWluZXIgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHBvcnRhbC50ZW1wbGF0ZVJlZiwgcG9ydGFsLmNvbnRleHQpO1xuICAgICAgICAvLyBUaGUgbWV0aG9kIGBjcmVhdGVFbWJlZGRlZFZpZXdgIHdpbGwgYWRkIHRoZSB2aWV3IGFzIGEgY2hpbGQgb2YgdGhlIHZpZXdDb250YWluZXIuXG4gICAgICAgIC8vIEJ1dCBmb3IgdGhlIERvbVBvcnRhbE91dGxldCB0aGUgdmlldyBjYW4gYmUgYWRkZWQgZXZlcnl3aGVyZSBpbiB0aGUgRE9NXG4gICAgICAgIC8vIChlLmcgT3ZlcmxheSBDb250YWluZXIpIFRvIG1vdmUgdGhlIHZpZXcgdG8gdGhlIHNwZWNpZmllZCBob3N0IGVsZW1lbnQuIFdlIGp1c3RcbiAgICAgICAgLy8gcmUtYXBwZW5kIHRoZSBleGlzdGluZyByb290IG5vZGVzLlxuICAgICAgICB2aWV3UmVmLnJvb3ROb2Rlcy5mb3JFYWNoKChyb290Tm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJvb3ROb2RlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHJvb3ROb2RlLnBhcmVudCwgcm9vdE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCByb290Tm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBOb3RlIHRoYXQgd2Ugd2FudCB0byBkZXRlY3QgY2hhbmdlcyBhZnRlciB0aGUgbm9kZXMgaGF2ZSBiZWVuIG1vdmVkIHNvIHRoYXRcbiAgICAgICAgLy8gYW55IGRpcmVjdGl2ZXMgaW5zaWRlIHRoZSBwb3J0YWwgdGhhdCBhcmUgbG9va2luZyBhdCB0aGUgRE9NIGluc2lkZSBhIGxpZmVjeWNsZVxuICAgICAgICAvLyBob29rIHdvbid0IGJlIGludm9rZWQgdG9vIGVhcmx5LlxuICAgICAgICB2aWV3UmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB2aWV3Q29udGFpbmVyLmluZGV4T2Yodmlld1JlZik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmlld0NvbnRhaW5lci5yZW1vdmUoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETyhqZWxib3Vybik6IFJldHVybiBsb2NhbHMgZnJvbSB2aWV3LlxuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIG91dCBhIHBvcnRhbCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXRFbGVtZW50LnBhcmVudE5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LnBhcmVudE5vZGUsIHRoaXMub3V0bGV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIHJvb3QgSFRNTEVsZW1lbnQgZm9yIGFuIGluc3RhbnRpYXRlZCBjb21wb25lbnQuICovXG4gICAgX2dldENvbXBvbmVudFJvb3ROb2RlKGNvbXBvbmVudFJlZikge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXTtcbiAgICB9XG59O1xuTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0ID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSg0LCBPcHRpb25hbCgpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1ZpZXcsXG4gICAgICAgIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgQXBwbGljYXRpb25SZWYsXG4gICAgICAgIEluamVjdG9yLFxuICAgICAgICBWaWV3VXRpbF0pXG5dLCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQpO1xuXG5yZWdpc3RlckVsZW1lbnQoJ0RldGFjaGVkQ29udGFpbmVyJywgKCkgPT4gUHJveHlWaWV3Q29udGFpbmVyLCB7XG4gICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxufSk7XG4vKipcbiAqIFdyYXBwZXIgY29tcG9uZW50IHVzZWQgZm9yIGxvYWRpbmcgY29tcG9uZW50cyB3aGVuIG5hdmlnYXRpbmdcbiAqIEl0IHVzZXMgRGV0YWNoZWRDb250YWluZXIgYXMgc2VsZWN0b3Igc28gdGhhdCBpdCBpcyBjb250YWluZXJSZWYgaXMgbm90IGF0dGFjaGVkIHRvXG4gKiB0aGUgdmlzdWFsIHRyZWUuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuY2xhc3MgRGV0YWNoZWRMb2FkZXIge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKHJlc29sdmVyLCBjaGFuZ2VEZXRlY3RvciwgY29udGFpbmVyUmVmLCBhcHBSZWYpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yID0gY2hhbmdlRGV0ZWN0b3I7XG4gICAgICAgIHRoaXMuY29udGFpbmVyUmVmID0gY29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLmFwcFJlZiA9IGFwcFJlZjtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zID0gW107XG4gICAgfVxuICAgIGNyZWF0ZUNvbXBvbmVudFBvcnRhbChjb21wb25lbnRUeXBlLCBjdXN0b21JbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudFBvcnRhbChjb21wb25lbnRUeXBlLCB0aGlzLnZjLCBjdXN0b21JbmplY3RvciB8fCB0aGlzLnZjLmluamVjdG9yKTtcbiAgICB9XG4gICAgY3JlYXRlVGVtcGxhdGVQb3J0YWwodGVtcGxhdGVSZWYsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZVBvcnRhbCh0ZW1wbGF0ZVJlZiwgdGhpcy52YywgY29udGV4dCk7XG4gICAgfVxuICAgIGxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnkgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudFR5cGUpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBmYWN0b3J5LmNyZWF0ZSh0aGlzLmNvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENvbXBvbmVudCBpcyBjcmVhdGVkLCBidWlsdCBtYXkgbm90IGJlIGNoZWNrZWQgaWYgd2UgYXJlIGxvYWRpbmdcbiAgICAgICAgLy8gaW5zaWRlIGNvbXBvbmVudCB3aXRoIE9uUHVzaCBDRCBzdHJhdGVneS4gTWFyayB1cyBmb3IgY2hlY2sgdG8gYmUgc3VyZSBDRCB3aWxsIHJlYWNoIHVzLlxuICAgICAgICAvLyBXZSBhcmUgaW5zaWRlIGEgcHJvbWlzZSBoZXJlIHNvIG5vIG5lZWQgZm9yIHNldFRpbWVvdXQgLSBDRCBzaG91bGQgdHJpZ2dlclxuICAgICAgICAvLyBhZnRlciB0aGUgcHJvbWlzZS5cbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRJbkxvY2F0aW9uIGNvbXBvbmVudCBsb2FkZWQgLT4gbWFya0ZvckNoZWNrJywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBsb2FkSW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZjLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgfVxuICAgIGRldGVjdENoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50JywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMubG9hZEluQXBwUmVmKGNvbXBvbmVudFR5cGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50U3luYyhjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50U3luYycsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluQXBwUmVmKGNvbXBvbmVudFR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnRJbkxvY2F0aW9uKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRDb21wb25lbnRJbkxvY2F0aW9uJywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkSW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkV2l0aEZhY3RvcnkoZmFjdG9yeSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBmYWN0b3J5LmNyZWF0ZSh0aGlzLmNvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZFdpdGhGYWN0b3J5SW5Mb2NhdGlvbihmYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZjLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcbiAgICB9XG59XG5EZXRhY2hlZExvYWRlci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgZGVwczogW3sgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46IGkwLkFwcGxpY2F0aW9uUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkRldGFjaGVkTG9hZGVyLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBzZWxlY3RvcjogXCJEZXRhY2hlZENvbnRhaW5lclwiLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcInZjXCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFtcInZjXCJdLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPFBsYWNlaG9sZGVyICNsb2FkZXI+PC9QbGFjZWhvbGRlcj5cbiAgICA8bmctY29udGFpbmVyICN2Yz48L25nLWNvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0RldGFjaGVkQ29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8UGxhY2Vob2xkZXIgI2xvYWRlcj48L1BsYWNlaG9sZGVyPlxuICAgIDxuZy1jb250YWluZXIgI3ZjPjwvbmctY29udGFpbmVyPlxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTAuQXBwbGljYXRpb25SZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHZjOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3ZjJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV1cbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIFBhZ2VTZXJ2aWNlIHtcbiAgICBnZXQgaW5QYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5QYWdlJC52YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGluUGFnZSQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblBhZ2UkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgfVxuICAgIGdldCBwYWdlRXZlbnRzJCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VFdmVudHMkLmFzT2JzZXJ2YWJsZSgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYWdlLCBlbFJlZiwgdmlldykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3ID0gdmlldyB8fCBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHZpZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldyBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlID0gdmlldztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkID0gbmV3IEJlaGF2aW9yU3ViamVjdCghISgoX2EgPSB0aGlzLnBhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0xvYWRlZCkpO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZEZyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZFRvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGluZ1RvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0ZWRGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGVkVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRpbmdUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHBhZ2VFdmVudChldnQpIHtcbiAgICAgICAgdGhpcy5fcGFnZUV2ZW50cyQubmV4dChldnQpO1xuICAgICAgICBzd2l0Y2ggKGV2dC5ldmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25hdmlnYXRlZFRvJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICduYXZpZ2F0ZWRGcm9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH1cbn1cblBhZ2VTZXJ2aWNlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTEuVmlld0Jhc2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5QYWdlU2VydmljZS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVNlcnZpY2UgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTEuVmlld0Jhc2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lKHYpIHtcbiAgICByZXR1cm4gdi5wYWdlO1xufVxucmVnaXN0ZXJFbGVtZW50KCdGcmFtZVBhZ2UnLCAoKSA9PiBGcmFtZSwge1xuICAgIGluc2VydENoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICBmcmFtZU1ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50WydfX25nX3BhZ2VfXyddLmNvbnRlbnQgPSBjaGlsZDtcbiAgICB9LFxufSk7XG5jbGFzcyBGcmFtZVBhZ2VDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYWN0aW9uQmFySGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGFnZSA9IHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoJ1BhZ2UnKTtcbiAgICAgICAgZWxlbWVudC5uYXRpdmVFbGVtZW50WydfX25nX3BhZ2VfXyddID0gdGhpcy5wYWdlO1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChlbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIHRoaXMucGFnZSk7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuICYmIGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSAhIXRoaXMuYWN0aW9uQmFySGlkZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9ICEhdGhpcy5hY3Rpb25CYXJIaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG59XG5GcmFtZVBhZ2VDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuRnJhbWVQYWdlQ29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgc2VsZWN0b3I6IFwiRnJhbWVQYWdlXCIsIGlucHV0czogeyBhY3Rpb25CYXJIaWRkZW46IFwiYWN0aW9uQmFySGlkZGVuXCIgfSwgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LFxuICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSxcbiAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICB9LFxuICAgICAgICBQYWdlU2VydmljZSxcbiAgICBdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRnJhbWVQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYWN0aW9uQmFySGlkZGVuOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmNsYXNzIEZyYW1lRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxufVxuRnJhbWVEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbkZyYW1lRGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJGcmFtZVwiLCBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksXG4gICAgICAgICAgICBkZXBzOiBbRnJhbWVEaXJlY3RpdmVdLFxuICAgICAgICB9LFxuICAgIF0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRnJhbWUnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21QYWdlRmFjdG9yeSh2KSB7XG4gICAgcmV0dXJuIHYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xufVxuY2xhc3MgUGFnZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbn1cblBhZ2VEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuUGFnZURpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJQYWdlXCIsIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnksXG4gICAgICAgICAgICBkZXBzOiBbUGFnZURpcmVjdGl2ZV0sXG4gICAgICAgIH0sXG4gICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgIF0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbUGFnZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jbGFzcyBGcmFtZVBhZ2VNb2R1bGUge1xufVxuRnJhbWVQYWdlTW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5GcmFtZVBhZ2VNb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSB9KTtcbkZyYW1lUGFnZU1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc0JsYW5rKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQWN0aW9uSXRlbSh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBBY3Rpb25JdGVtO1xufVxuZnVuY3Rpb24gaXNOYXZpZ2F0aW9uQnV0dG9uKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIE5hdmlnYXRpb25CdXR0b247XG59XG5jb25zdCBhY3Rpb25CYXJNZXRhID0ge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQsIG5leHQpID0+IHtcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hdmlnYXRpb25CdXR0b24oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBhZGRBY3Rpb25JdGVtKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQudGl0bGVWaWV3ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmF2aWdhdGlvbkJ1dHRvbihjaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuYWN0aW9uSXRlbXMucmVtb3ZlSXRlbShjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpICYmIHBhcmVudC50aXRsZVZpZXcgJiYgcGFyZW50LnRpdGxlVmlldyA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC50aXRsZVZpZXcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkJhcicsICgpID0+IEFjdGlvbkJhciwgYWN0aW9uQmFyTWV0YSk7XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkl0ZW0nLCAoKSA9PiBBY3Rpb25JdGVtKTtcbnJlZ2lzdGVyRWxlbWVudCgnTmF2aWdhdGlvbkJ1dHRvbicsICgpID0+IE5hdmlnYXRpb25CdXR0b24pO1xuY29uc3QgYWRkQWN0aW9uSXRlbSA9IChiYXIsIGl0ZW0sIG5leHQpID0+IHtcbiAgICBpZiAobmV4dCkge1xuICAgICAgICBpbnNlcnRBY3Rpb25JdGVtQmVmb3JlKGJhciwgaXRlbSwgbmV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcHBlbmRBY3Rpb25JdGVtKGJhciwgaXRlbSk7XG4gICAgfVxufTtcbmNvbnN0IGluc2VydEFjdGlvbkl0ZW1CZWZvcmUgPSAoYmFyLCBpdGVtLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgYWN0aW9uSXRlbXMgPSBiYXIuYWN0aW9uSXRlbXM7XG4gICAgY29uc3QgYWN0aW9uSXRlbXNDb2xsZWN0aW9uID0gYWN0aW9uSXRlbXMuZ2V0SXRlbXMoKTtcbiAgICBjb25zdCBpbmRleFRvSW5zZXJ0ID0gYWN0aW9uSXRlbXNDb2xsZWN0aW9uLmluZGV4T2YobmV4dCk7XG4gICAgYWN0aW9uSXRlbXNDb2xsZWN0aW9uLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBpdGVtKTtcbiAgICBhY3Rpb25JdGVtcy5zZXRJdGVtcyhhY3Rpb25JdGVtc0NvbGxlY3Rpb24pO1xufTtcbmNvbnN0IGFwcGVuZEFjdGlvbkl0ZW0gPSAoYmFyLCBpdGVtKSA9PiB7XG4gICAgYmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbSk7XG59O1xuY2xhc3MgQWN0aW9uQmFyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYWdlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICghdGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFBhZ2UgZm91bmQgaW4gQWN0aW9uQmFyQ29tcG9uZW50LlxcbicgKyAnT25seSBhIFBhZ2UgY2FuIGNvbnRhaW4gYW4gQWN0aW9uQmFyLCBzbyBwbGVhc2UgZW5zdXJlIEFjdGlvbkJhciBpcyBvbmx5IHVzZWQgaW5zaWRlIGEgQ29tcG9uZW50IHRoYXQgaXMgcm91dGVkIHZpYSBwYWdlLXJvdXRlci1vdXRsZXQgb3IgaXMgY29udGFpbmVkIGluIGEgUGFnZS5cXG4nICsgJ0V4YW1wbGUgZm9yIHJvb3QgYWN0aW9uIGJhcnMgaW4gQXBwQ29tcG9uZW50OiA8RnJhbWU+PFBhZ2U+PEFjdGlvbkJhcj4uLi4uPC9BY3Rpb25CYXI+PC9QYWdlPjwvRnJhbWU+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbikpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIudXBkYXRlKCk7XG4gICAgfVxufVxuQWN0aW9uQmFyQ29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuQWN0aW9uQmFyQ29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiQWN0aW9uQmFyXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JywgaXNJbmxpbmU6IHRydWUgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdBY3Rpb25CYXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtY2xhc3Mtc3VmZml4XG5jbGFzcyBBY3Rpb25CYXJTY29wZSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpjb21wb25lbnQtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IocGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAoIXRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnNpZGUgQWN0aW9uQmFyRXh0ZW5zaW9uIGJ1dCBubyBBY3Rpb25CYXIgZm91bmQgdG8gZXh0ZW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTmF2QnV0dG9uSW5pdChuYXZCdG4pIHtcbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID0gbmF2QnRuLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgb25OYXZCdXR0b25EZXN0cm95KG5hdkJ0bikge1xuICAgICAgICBjb25zdCBuYXYgPSBuYXZCdG4uZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAobmF2ICYmIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9PT0gbmF2KSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWN0aW9uSW5pdChpdGVtKSB7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIuYWN0aW9uSXRlbXMuYWRkSXRlbShpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIG9uQWN0aW9uRGVzdHJveShpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudC5hY3Rpb25CYXIpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIuYWN0aW9uSXRlbXMucmVtb3ZlSXRlbShpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5BY3Rpb25CYXJTY29wZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkFjdGlvbkJhclNjb3BlLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBzZWxlY3RvcjogXCJBY3Rpb25CYXJFeHRlbnNpb25cIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogJycsIGlzSW5saW5lOiB0cnVlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdBY3Rpb25CYXJFeHRlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJycsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBpMS5QYWdlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcbmNsYXNzIEFjdGlvbkl0ZW1EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG93bmVyU2NvcGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vd25lclNjb3BlID0gb3duZXJTY29wZTtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uQWN0aW9uSW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uQWN0aW9uRGVzdHJveSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkFjdGlvbkl0ZW1EaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQWN0aW9uQmFyU2NvcGUsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbkFjdGlvbkl0ZW1EaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiQWN0aW9uSXRlbVwiLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uSXRlbScsIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuY2xhc3MgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3duZXJTY29wZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm93bmVyU2NvcGUgPSBvd25lclNjb3BlO1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25Jbml0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25EZXN0cm95KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBBY3Rpb25CYXJTY29wZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJOYXZpZ2F0aW9uQnV0dG9uXCIsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdOYXZpZ2F0aW9uQnV0dG9uJywgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG5cbi8qKlxuICogVXRpbGl0eSBtZXRob2QgdG8gZW5zdXJlIGEgTmdNb2R1bGUgaXMgb25seSBpbXBvcnRlZCBvbmNlIGluIGEgY29kZWJhc2UsIG90aGVyd2lzZSB3aWxsIHRocm93IHRvIGhlbHAgcHJldmVudCBhY2NpZGVudGFsIGRvdWJsZSBpbXBvcnRpbmdcbiAqIEBwYXJhbSBwYXJlbnRNb2R1bGUgUGFyZW50IG1vZHVsZSBuYW1lXG4gKiBAcGFyYW0gbW9kdWxlTmFtZSBUaGUgbW9kdWxlIG5hbWVcbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkFscmVhZHlMb2FkZWQocGFyZW50TW9kdWxlLCBtb2R1bGVOYW1lKSB7XG4gICAgaWYgKHBhcmVudE1vZHVsZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bW9kdWxlTmFtZX0gaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIEltcG9ydCAke21vZHVsZU5hbWV9IGluIHRoZSBBcHBNb2R1bGUgb25seS5gKTtcbiAgICB9XG59XG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHdoaWNoIHdpbGwgb25seSBmaXJlIHRoZSBjYWxsYmFjayBvbmNlIGV2ZXJcbiAqIEBwYXJhbSBmbiBjYWxsYmFjayB0byBjYWxsIG9ubHkgb25jZVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCB3YXNDYWxsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgaWYgKHdhc0NhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhc0NhbGxlZCA9IHRydWU7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkLCBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmIC8vIEpTIE1hcCBhcmUgaXRlcmFibGVzIGJ1dCByZXR1cm4gZW50cmllcyBhcyBbaywgdl1cbiAgICAgICAgICAgIFN5bWJvbC5pdGVyYXRvciBpbiBvYmopOyAvLyBKUyBJdGVyYWJsZSBoYXZlIGEgU3ltYm9sLml0ZXJhdG9yIHByb3Bcbn1cbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbyA9PT0gJ29iamVjdCcpO1xufVxuXG5jb25zdCBOR19WSUVXID0gJ19uZ1ZpZXdSZWYnO1xuY29uc3QgVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCA9IG5ldyBJbmplY3Rpb25Ub2tlbignVGVtcGxhdGVkSXRlbXNDb21wb25lbnQnKTtcbmNsYXNzIEl0ZW1Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigkaW1wbGljaXQsIGl0ZW0sIGluZGV4LCBldmVuLCBvZGQpIHtcbiAgICAgICAgdGhpcy4kaW1wbGljaXQgPSAkaW1wbGljaXQ7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5ldmVuID0gZXZlbjtcbiAgICAgICAgdGhpcy5vZGQgPSBvZGQ7XG4gICAgfVxufVxuY2xhc3MgTnNUZW1wbGF0ZWRJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgbG9jYXRpb24sIG9uQ3JlYXRlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLm9uQ3JlYXRlID0gb25DcmVhdGU7XG4gICAgfVxuICAgIGNyZWF0ZShjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmxvY2F0aW9uLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlLCBjb250ZXh0ID8gdGhpcy5zZXR1cEl0ZW1Db250ZXh0KGNvbnRleHQpIDogbmV3IEl0ZW1Db250ZXh0KCkpO1xuICAgICAgICB2aWV3UmVmLmRldGFjaCgpOyAvLyBjcmVhdGUgZGV0YWNoZWQsIGp1c3QgYmV3YXJlIHRoaXMgZG9lc24ndCBhbHdheXMgd29yayBhbmQgdGhlIHZpZXcgbWlnaHQgcnVuIHRoZSBmaXJzdCBDRCBhbnl3YXkuXG4gICAgICAgIGNvbnN0IHJlc3VsdFZpZXcgPSBnZXRJdGVtVmlld1Jvb3Qodmlld1JlZik7XG4gICAgICAgIHJlc3VsdFZpZXdbTkdfVklFV10gPSB2aWV3UmVmO1xuICAgICAgICBpZiAodGhpcy5vbkNyZWF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNyZWF0ZShyZXN1bHRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0VmlldztcbiAgICB9XG4gICAgdXBkYXRlKHZpZXcsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB0aGlzLnNldHVwSXRlbUNvbnRleHQoY29udGV4dCwgdmlld1JlZik7XG4gICAgICAgIHZpZXdSZWYgPT09IG51bGwgfHwgdmlld1JlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld1JlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGF0dGFjaCh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZiA9PT0gbnVsbCB8fCB2aWV3UmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3UmVmLnJlYXR0YWNoKCk7XG4gICAgICAgIHZpZXdSZWYgPT09IG51bGwgfHwgdmlld1JlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld1JlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGRldGFjaCh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZiA9PT0gbnVsbCB8fCB2aWV3UmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3UmVmLmRldGFjaCgpO1xuICAgIH1cbiAgICBkaXNwb3NlKHZpZXcpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB2aWV3UmVmID09PSBudWxsIHx8IHZpZXdSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZXdSZWYuZGVzdHJveSgpO1xuICAgIH1cbiAgICBnZXRFbWJlZGRlZFZpZXdSZWYodmlldykge1xuICAgICAgICBsZXQgdmlld1JlZiA9IHZpZXdbTkdfVklFV107XG4gICAgICAgIC8vIEdldHRpbmcgYW5ndWxhciB2aWV3IGZyb20gb3JpZ2luYWwgZWxlbWVudCAoaW4gY2FzZXMgd2hlbiBQcm94eVZpZXdDb250YWluZXJcbiAgICAgICAgLy8gaXMgdXNlZCBOYXRpdmVTY3JpcHQgaW50ZXJuYWxseSB3cmFwcyBpdCBpbiBhIFN0YWNrTGF5b3V0KVxuICAgICAgICBpZiAoIXZpZXdSZWYgJiYgdmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgdmlldy5nZXRDaGlsZHJlbkNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB2aWV3UmVmID0gdmlldy5nZXRDaGlsZEF0KDApW05HX1ZJRVddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBpc1ZhbGlkKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgfVxuICAgIHNldHVwSXRlbUNvbnRleHQoeyBpbmRleCwgZGF0YSB9LCBvbGRWaWV3KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBvbGRWaWV3ID8gb2xkVmlldy5jb250ZXh0IDogbmV3IEl0ZW1Db250ZXh0KCk7XG4gICAgICAgIGNvbnRleHQuJGltcGxpY2l0ID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pdGVtID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pbmRleCA9IGluZGV4O1xuICAgICAgICBjb250ZXh0LmV2ZW4gPSBpbmRleCAlIDIgPT09IDA7XG4gICAgICAgIGNvbnRleHQub2RkID0gIWNvbnRleHQuZXZlbjtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuY2xhc3MgTGlzdFZpZXdDb21wb25lbnQge1xuICAgIGdldCBuYXRpdmVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXc7XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICAgIH1cbiAgICBzZXQgaXRlbXModmFsdWUpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB2YWx1ZTtcbiAgICAgICAgbGV0IG5lZWREaWZmZXIgPSB0cnVlO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZhYmxlQXJyYXkpIHtcbiAgICAgICAgICAgIG5lZWREaWZmZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZERpZmZlciAmJiAhdGhpcy5fZGlmZmVyICYmIGlzTGlzdExpa2VJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlciA9IHRoaXMuX2l0ZXJhYmxlRGlmZmVycy5maW5kKHRoaXMuX2l0ZW1zKS5jcmVhdGUoKF9pbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICB9XG4gICAgLy8gdGhpcyBlbGVtZW50UmVmIGlzIG9ubHkgaGVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlRGlmZmVycyA9IGluamVjdChJdGVyYWJsZURpZmZlcnMpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gICAgICAgIC8vIEkgYmVsaWV2ZSB0aGlzIG9ubHkgZXhpc3RzIHNvIHRoaXMgY2FuIGJlIGluaGVyaXRlZCBhbmQgcGVvcGxlIGNhbiBvdmVycmlkZSBpdC5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3ZpZXdUb1RlbXBsYXRlID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1WaWV3ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ1RlbXBsYXRlZEl0ZW1zVmlldy5uZ0FmdGVyQ29udGVudEluaXQoKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SXRlbVRlbXBsYXRlcygpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SXRlbVRlbXBsYXRlcygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBUaGUgaXRlbVRlbXBsYXRlUXVlcnkgbWF5IGJlIGNoYW5nZWQgYWZ0ZXIgbGlzdCBpdGVtcyBhcmUgYWRkZWQgdGhhdCBjb250YWluIDx0ZW1wbGF0ZT4gaW5zaWRlLFxuICAgICAgICAvLyBzbyBjYWNoZSBhbmQgdXNlIG9ubHkgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRvIGF2b2lkIGVycm9ycy5cbiAgICAgICAgdGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSA9IHRoaXMuaXRlbVRlbXBsYXRlUXVlcnk7XG4gICAgICAgIGlmICh0aGlzLmZhbGxiYWNrSXRlbVRlbXBsYXRlICYmICEoKF9hID0gdGhpcy5fdGVtcGxhdGVNYXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXMoJ2RlZmF1bHQnKSkpIHtcbiAgICAgICAgICAgIC8vIGFwcGFyZW50bHkgeW91IGNhbiBjcmVhdGUgYSBDb3JlIExpc3RWaWV3IHdpdGhvdXQgYSB0ZW1wbGF0ZS4uLlxuICAgICAgICAgICAgLy8gd2UgYWxzbyBhZGQgYSBmYWxsYmFjayBkZWZhdWx0IGZvciB3aGVuIHRoZSB1c2VyIHNldHMgbXVsdGlwbGUgdGVtcGxhdGVzIGJ1dCBubyB0ZW1wbGF0ZVNlbGVjdG9yXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVGVtcGxhdGUoJ2RlZmF1bHQnLCB0aGlzLmZhbGxiYWNrSXRlbVRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyB0ZW1wbGF0ZXMgYXJlIHJlZ2lzdGVyZWQgYmVmb3JlIGxvYWRlciBpcyByZWFkeSwgc28gd2UgdXBkYXRlIGhlcmVcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmZvckVhY2goKHQpID0+ICh0LmxvY2F0aW9uID0gdGhpcy5sb2FkZXIpKTtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCdTZXR0aW5nIHRlbXBsYXRlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gW107XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaWV3OiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3Lml0ZW1UZW1wbGF0ZXMgPSB0ZW1wbGF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVnaXN0ZXJUZW1wbGF0ZShrZXksIHRlbXBsYXRlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coYHJlZ2lzdGVyVGVtcGxhdGUgZm9yIGtleTogJHtrZXl9LCAke3RoaXMubG9hZGVyfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLnNldChrZXksIG5ldyBOc1RlbXBsYXRlZEl0ZW0odGVtcGxhdGUsIHRoaXMubG9hZGVyLCAodikgPT4gdGhpcy5fdmlld1RvVGVtcGxhdGUuc2V0KHYsIGtleSkpKTtcbiAgICB9XG4gICAgb25JdGVtTG9hZGluZyhhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGFyZ3MuaW5kZXg7XG4gICAgICAgIGNvbnN0IGx2aWV3ID0gYXJncy5vYmplY3Q7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gbHZpZXcuaXRlbXM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gJ2dldEl0ZW0nIGluIGl0ZW1zICYmIHR5cGVvZiBpdGVtcy5nZXRJdGVtID09PSAnZnVuY3Rpb24nID8gaXRlbXMuZ2V0SXRlbShpbmRleCkgOiBpdGVtc1tpbmRleF07XG4gICAgICAgIGxldCB0ZW1wbGF0ZTtcbiAgICAgICAgaWYgKGFyZ3Mudmlldykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coYG9uSXRlbUxvYWRpbmc6ICR7aW5kZXh9IC0gUmV1c2luZyBleGlzdGluZyB2aWV3YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGVtcGxhdGVLZXkgPSB0aGlzLl92aWV3VG9UZW1wbGF0ZS5nZXQoYXJncy52aWV3KTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVLZXkgJiYgYXJncy52aWV3IGluc3RhbmNlb2YgTGF5b3V0QmFzZSAmJiBhcmdzLnZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlS2V5ID0gdGhpcy5fdmlld1RvVGVtcGxhdGUuZ2V0KGFyZ3Mudmlldy5nZXRDaGlsZEF0KDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHRlbXBsYXRlIHdhcyBub3QgY3JlYXRlZCBieSB1c1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0Vycm9yKGBWaWV3UmVmZXJlbmNlIG5vdCBmb3VuZCBmb3IgaXRlbSAke2luZGV4fS4gVmlldyByZWN5Y2xpbmcgaXMgbm90IHdvcmtpbmdgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZU1hcC5nZXQodGVtcGxhdGVLZXkpO1xuICAgICAgICAgICAgdGVtcGxhdGUudXBkYXRlKGFyZ3MudmlldywgeyBpbmRleCwgZGF0YTogY3VycmVudEl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBlbnRlciBpZiBpdCBjcmVhdGVzIHRoZSB2aWV3XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUtleSA9IHR5cGVvZiBsdmlldy5pdGVtVGVtcGxhdGVTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJyA/IGx2aWV3Lml0ZW1UZW1wbGF0ZVNlbGVjdG9yKGN1cnJlbnRJdGVtLCBpbmRleCwgaXRlbXMpIDogJ2RlZmF1bHQnO1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZU1hcC5nZXQodGVtcGxhdGVLZXkpO1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0Vycm9yKGBUZW1wbGF0ZSBmb3Iga2V5ICcke3RlbXBsYXRlS2V5fScgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnZpZXcgPSB0ZW1wbGF0ZS5jcmVhdGUoeyBpbmRleCwgZGF0YTogY3VycmVudEl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR1cFZpZXdSZWYodGVtcGxhdGUuZ2V0RW1iZWRkZWRWaWV3UmVmKGFyZ3MudmlldyksIGN1cnJlbnRJdGVtLCBpbmRleCwgYXJncy52aWV3KTtcbiAgICAgICAgdGVtcGxhdGUuYXR0YWNoKGFyZ3Mudmlldyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgc2V0dXBWaWV3UmVmKHZpZXdSZWYsIGRhdGEsIGluZGV4LCBuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB2aWV3UmVmLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtVmlldy5uZXh0KHsgdmlldzogdmlld1JlZiwgbmF0aXZlRWxlbWVudCwgZGF0YTogZGF0YSwgaW5kZXg6IGluZGV4LCBjb250ZXh0OiBjb250ZXh0IH0pO1xuICAgIH1cbiAgICBuZ0RvQ2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCduZ0RvQ2hlY2soKSAtIGV4ZWN1dGUgZGlmZmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5fZGlmZmVyLmRpZmYodGhpcy5faXRlbXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ25nRG9DaGVjaygpIC0gcmVmcmVzaCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5MaXN0Vmlld0NvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBMaXN0Vmlld0NvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuTGlzdFZpZXdDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcIkxpc3RWaWV3XCIsIGlucHV0czogeyBpdGVtczogXCJpdGVtc1wiIH0sIG91dHB1dHM6IHsgc2V0dXBJdGVtVmlldzogXCJzZXR1cEl0ZW1WaWV3XCIgfSwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJpdGVtTG9hZGluZ1wiOiBcIm9uSXRlbUxvYWRpbmcoJGV2ZW50KVwiIH0gfSwgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Vmlld0NvbXBvbmVudCkgfV0sIHF1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJpdGVtVGVtcGxhdGVRdWVyeVwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBUZW1wbGF0ZVJlZiwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFRlbXBsYXRlUmVmIH1dLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxvYWRlclwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJsb2FkZXJcIl0sIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8RGV0YWNoZWRDb250YWluZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjbG9hZGVyPjwvbmctY29udGFpbmVyPlxuICA8L0RldGFjaGVkQ29udGFpbmVyPmAsIGlzSW5saW5lOiB0cnVlLCBjaGFuZ2VEZXRlY3Rpb246IGkwLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCB9KTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBMaXN0Vmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwib25JdGVtTG9hZGluZ1wiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBMaXN0Vmlld0NvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnTGlzdFZpZXcnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxEZXRhY2hlZENvbnRhaW5lcj5cbiAgICA8bmctY29udGFpbmVyICNsb2FkZXI+PC9uZy1jb250YWluZXI+XG4gIDwvRGV0YWNoZWRDb250YWluZXI+YCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW3sgcHJvdmlkZTogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTGlzdFZpZXdDb21wb25lbnQpIH1dLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgbG9hZGVyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2xvYWRlcicsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dXG4gICAgICAgICAgICB9XSwgc2V0dXBJdGVtVmlldzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBpdGVtVGVtcGxhdGVRdWVyeTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBDb250ZW50Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogW1RlbXBsYXRlUmVmLCB7IHJlYWQ6IFRlbXBsYXRlUmVmLCBzdGF0aWM6IGZhbHNlIH1dXG4gICAgICAgICAgICB9XSwgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBvbkl0ZW1Mb2FkaW5nOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2l0ZW1Mb2FkaW5nJywgWyckZXZlbnQnXV1cbiAgICAgICAgICAgIH1dIH0gfSk7XG5mdW5jdGlvbiBnZXRJdGVtVmlld1Jvb3Qodmlld1JlZiwgcm9vdExvY2F0b3IgPSBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IHJvb3RWaWV3ID0gcm9vdExvY2F0b3Iodmlld1JlZi5yb290Tm9kZXMsIDApO1xuICAgIHJldHVybiByb290Vmlldztcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG5jbGFzcyBUZW1wbGF0ZUtleURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGVSZWYsIGNvbXApIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLmNvbXAgPSBjb21wO1xuICAgIH1cbiAgICBzZXQgbnNUZW1wbGF0ZUtleSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wICYmIHRoaXMudGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcC5yZWdpc3RlclRlbXBsYXRlKHZhbHVlLCB0aGlzLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgbnNUZW1wbGF0ZUtleXModmFsdWVzKSB7XG4gICAgICAgIC8vIHNpbmdsZSB0ZW1wbGF0ZSB3aXRoIG11bHRpcGxlIGtleXNcbiAgICAgICAgaWYgKHRoaXMuY29tcCAmJiB0aGlzLnRlbXBsYXRlUmVmICYmIHZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB0aGlzLmNvbXAucmVnaXN0ZXJUZW1wbGF0ZSh2YWx1ZSwgdGhpcy50ZW1wbGF0ZVJlZikpO1xuICAgICAgICB9XG4gICAgfVxufVxuVGVtcGxhdGVLZXlEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGVtcGxhdGVLZXlEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCBob3N0OiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblRlbXBsYXRlS2V5RGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbbnNUZW1wbGF0ZUtleV0sW25zVGVtcGxhdGVLZXlzXVwiLCBpbnB1dHM6IHsgbnNUZW1wbGF0ZUtleTogXCJuc1RlbXBsYXRlS2V5XCIsIG5zVGVtcGxhdGVLZXlzOiBcIm5zVGVtcGxhdGVLZXlzXCIgfSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdbbnNUZW1wbGF0ZUtleV0sW25zVGVtcGxhdGVLZXlzXScgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW1RFTVBMQVRFRF9JVEVNU19DT01QT05FTlRdXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0sIHByb3BEZWNvcmF0b3JzOiB7IG5zVGVtcGxhdGVLZXk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBuc1RlbXBsYXRlS2V5czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgT3V0bGV0IHtcbiAgICBnZXQgaXNQYWdlTmF2aWdhdGlvbkJhY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDA7XG4gICAgfVxuICAgIHNldCBpc1BhZ2VOYXZpZ2F0aW9uQmFjayhpc0JhY2spIHtcbiAgICAgICAgaWYgKCFpc0JhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuZGVsZXRlKHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vdXRsZXRLZXlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG91dGxldEtleSwgcGF0aCwgcGF0aEJ5T3V0bGV0cywgbW9kYWxOYXZpZ2F0aW9uRGVwdGgpIHtcbiAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBNb3JlIHRoYW4gb25lIGZyYW1lIGF2YWlsYWJsZSB3aGVuIHVzaW5nIE5TRW1wdHlPdXRsZXRDb21wb25lbnQgY29tcG9uZW50XG4gICAgICAgIC8vIGluIG1vZHVsZSB0aGF0IGxhenkgbG9hZHMgY2hpbGRyZW4gKGxvYWRDaGlsZHJlbikgYW5kIGhhcyBvdXRsZXQgbmFtZS5cbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlZCBpbiByZXVzZS1zdHJhdGVneSBieSBpdHMgY2hpbGRyZW4gdG8gZGV0ZXJtaW5lIGlmIHRoZXkgc2hvdWxkIGJlIGRldGFjaGVkIHRvby5cbiAgICAgICAgdGhpcy5zaG91bGREZXRhY2ggPSB0cnVlO1xuICAgICAgICB0aGlzLm91dGxldEtleXMgPSBbb3V0bGV0S2V5XTtcbiAgICAgICAgdGhpcy5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dpbmdNb2RhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGFsTmF2aWdhdGlvbkRlcHRoID0gbW9kYWxOYXZpZ2F0aW9uRGVwdGggfHwgMDtcbiAgICAgICAgdGhpcy5wYXRoQnlPdXRsZXRzID0gcGF0aEJ5T3V0bGV0cztcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB9XG4gICAgc2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2soa2V5KSB7XG4gICAgICAgIGNvbnN0IG5lc3RzID0ga2V5LnNwbGl0KCcvJyk7XG4gICAgICAgIHRoaXMub3V0bGV0S2V5c1xuICAgICAgICAgICAgLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnRhaW5zRnJhbWUoZnJhbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVzLmluZGV4T2YoZnJhbWUpID4gLTE7XG4gICAgfVxuICAgIHBlZWtTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1t0aGlzLnN0YXRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnNUb3BTdGF0ZShzdGF0ZVVybCkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLnBlZWtTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gbGFzdFN0YXRlICYmIGxhc3RTdGF0ZS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKSA9PT0gc3RhdGVVcmw7XG4gICAgfVxuICAgIC8vIFNlYXJjaCBmb3IgZnJhbWUgdGhhdCBjYW4gZ28gYmFjay5cbiAgICAvLyBOZXN0ZWQgJ3ByaW1hcnknIG91dGxldHMgY291bGQgcmVzdWx0IGluIE91dGxldCB3aXRoIG11bHRpcGxlIG5hdmlnYXRhYmxlIGZyYW1lcy5cbiAgICBnZXRGcmFtZVRvQmFjaygpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdGhpcy5mcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghdGhpcy5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5mcmFtZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGcmFtZSA9IHRoaXMuZnJhbWVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lLmNhbkdvQmFjaygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHROYXZPcHRpb25zID0ge1xuICAgIGNsZWFySGlzdG9yeTogZmFsc2UsXG4gICAgYW5pbWF0ZWQ6IHRydWUsXG59O1xuXG5jbGFzcyBGcmFtZVNlcnZpY2Uge1xuICAgIC8vIFRPRE86IEFkZCBhbnkgbWV0aG9kcyB0aGF0IGFyZSBuZWVkZWQgdG8gaGFuZGxlIGZyYW1lL3BhZ2UgbmF2aWdhdGlvblxuICAgIGdldEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gRnJhbWUudG9wbW9zdCgpO1xuICAgIH1cbn1cbkZyYW1lU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5GcmFtZVNlcnZpY2UuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNsYXNzIE5TTG9jYXRpb25TdHJhdGVneSBleHRlbmRzIExvY2F0aW9uU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlID0gZnJhbWVTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN0YXJ0UGF0aCA9IHN0YXJ0UGF0aDtcbiAgICAgICAgdGhpcy5vdXRsZXRzID0gW107XG4gICAgICAgIHRoaXMucG9wU3RhdGVDYWxsYmFja3MgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPSAwO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmNvbnN0cnVjdG9yKCknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE91dGxldCAmJiB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgfVxuICAgIHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50VXJsVHJlZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRQYXRoIHx8ICcvJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY3VycmVudE91dGxldCAmJiB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuY3VycmVudFVybFRyZWU7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRPdXRsZXQgPSB0aGlzLmdldFNlZ21lbnRHcm91cEJ5T3V0bGV0KHRoaXMuY3VycmVudE91dGxldCk7XG4gICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGRlY2xhcmVzIGEgY29tcG9uZW50IGF0IHBhdGggXCIvXCIuXG4gICAgICAgIC8vIFRoZSB1cmwgc2VyaWFsaXplciBkb2Vzbid0IHBhcnNlIHRoaXMgdXJsIGFzIGhhdmluZyBhIHByaW1hcnkgb3V0bGV0LlxuICAgICAgICBpZiAoc3RhdGUuaXNSb290U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICB0cmVlLnJvb3QgPSBzdGF0ZS5zZWdtZW50R3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlZE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBzdGF0ZS5zZWdtZW50R3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgdHJlZS5xdWVyeVBhcmFtcyA9IHN0YXRlLnF1ZXJ5UGFyYW1zO1xuICAgICAgICBjb25zdCB1cmwgPSB1cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0cmVlKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wYXRoKCk6ICcgKyB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHByZXBhcmVFeHRlcm5hbFVybChpbnRlcm5hbCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnByZXBhcmVFeHRlcm5hbFVybCgpIGludGVybmFsOiAnICsgaW50ZXJuYWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcm5hbDtcbiAgICB9XG4gICAgcHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZSBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpO1xuICAgIH1cbiAgICBwdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFVybFRyZWUgPSB1cmxTZXJpYWxpemVyLnBhcnNlKHVybCk7XG4gICAgICAgIGNvbnN0IHVybFRyZWVSb290ID0gdGhpcy5jdXJyZW50VXJsVHJlZS5yb290O1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkZWNsYXJlcyBhIGNvbXBvbmVudCBhdCBwYXRoIFwiL1wiLlxuICAgICAgICAvLyBUaGUgdXJsIHNlcmlhbGl6ZXIgZG9lc24ndCBwYXJzZSB0aGlzIHVybCBhcyBoYXZpbmcgYSBwcmltYXJ5IG91dGxldC5cbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh1cmxUcmVlUm9vdC5jaGlsZHJlbikubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50R3JvdXAgPSB0aGlzLmN1cnJlbnRVcmxUcmVlICYmIHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoc2VnbWVudEdyb3VwKSwgJ3ByaW1hcnknKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgaWYgKG91dGxldCAmJiB0aGlzLnVwZGF0ZVN0YXRlcyhvdXRsZXQsIHNlZ21lbnRHcm91cCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RPdXRsZXQgPSB0aGlzLmNyZWF0ZU91dGxldCgncHJpbWFyeScsIG51bGwsIHNlZ21lbnRHcm91cCwgbnVsbCwgbnVsbCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gcm9vdE91dGxldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKS5pc1Jvb3RTZWdtZW50R3JvdXAgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIGxldCBjdXJyZW50VHJlZSA9IHVybFRyZWVSb290O1xuICAgICAgICB3aGlsZSAoY3VycmVudFRyZWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1cnJlbnRUcmVlLmNoaWxkcmVuKS5mb3JFYWNoKChvdXRsZXROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNlZ21lbnRHcm91cCA9IGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50R3JvdXAub3V0bGV0ID0gb3V0bGV0TmFtZTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudEdyb3VwLnJvb3QgPSB1cmxUcmVlUm9vdDtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRQYXRoID0gdGhpcy5nZXRTZWdtZW50R3JvdXBGdWxsUGF0aChjdXJyZW50VHJlZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkob3V0bGV0UGF0aCwgb3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgbGV0IG91dGxldCA9IHRoaXMuZmluZE91dGxldChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldE5hbWUgPSBjdXJyZW50VHJlZS5vdXRsZXQgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0UGF0aCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoY3VycmVudFRyZWUucGFyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShwYXJlbnRPdXRsZXRQYXRoLCBwYXJlbnRPdXRsZXROYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQocGFyZW50T3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluc0xhc3RTdGF0ZSA9IG91dGxldCAmJiBvdXRsZXQuY29udGFpbnNUb3BTdGF0ZShjdXJyZW50U2VnbWVudEdyb3VwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBvdXRsZXRQYXRoLCBjdXJyZW50U2VnbWVudEdyb3VwLCBwYXJlbnRPdXRsZXQsIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDAgJiYgb3V0bGV0LnNob3dpbmdNb2RhbCAmJiAhY29udGFpbnNMYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmF2aWdhdGlvbiBpbnNpZGUgbW9kYWwgdmlldy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cHNlcnRNb2RhbE91dGxldChvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGV0LnBhcmVudCA9IHBhcmVudE91dGxldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGN1cnJlbnRTZWdtZW50R3JvdXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50VHJlZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcykge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcztcbiAgICAgICAgaWYgKHN0YXRlcyAmJiBzdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlIGNoYW5naW5nIGV4aXN0aW5nIHN0YXRlOiAnICsgYCR7c3RhdGV9LCB0aXRsZTogJHt0aXRsZX0sIHVybDogJHt1cmx9LCBxdWVyeVBhcmFtczogJHtxdWVyeVBhcmFtc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZSBwdXNoaW5nIG5ldyBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZm9yd2FyZCgpIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGJhY2sob3V0bGV0LCBmcmFtZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50T3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzO1xuICAgICAgICAgICAgLy8gV2UgYXJlIG5hdmlnYXRpbmcgdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBzdGFjayB1bnRpbCB3ZSBnZXQgdG8gYSBwYWdlIG5hdmlnYXRpb24gc3RhdGVcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDE7XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUuZnJhbWUgJiYgc3RhdGUuZnJhbWUgIT09IGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghc3RhdGUuaXNQYWdlTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYE5TTG9jYXRpb25TdHJhdGVneS5iYWNrKCkgd2hpbGUgbmF2aWdhdGluZyBiYWNrLiBTdGF0ZXMgcG9wcGVkOiAke2NvdW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUoc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgJiYgc3RhdGUuaXNQYWdlTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2FzIGEgcGFnZSBuYXZpZ2F0aW9uIC0gc28gbmF2aWdhdGUgdGhyb3VnaCBmcmFtZS5cbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5vdCBuYXZpZ2F0aW5nIGJhY2sgYnV0IHRvcCcgKyAnIHN0YXRlIGlzIHBhZ2UgLSB3aWxsIGNhbGwgZnJhbWUuZ29CYWNrKCknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wbW9zdEZyYW1lID0gdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKHRvcG1vc3RGcmFtZSkgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVRvQmFjayA9IHRoaXMuY3VycmVudE91dGxldC5nZXRGcmFtZVRvQmFjaygpO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZVRvQmFjaykge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZVRvQmFjay5nb0JhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOZXN0ZWQgbmF2aWdhdGlvbiAtIGp1c3QgcG9wIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5iYWNrKCkgd2hpbGUgbm90IG5hdmlnYXRpbmcgYmFjayBidXQgdG9wJyArICcgc3RhdGUgaXMgbm90IHBhZ2UgLSBqdXN0IHBvcCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZSh0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzLnBvcCgpLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5Hb0JhY2sob3V0bGV0KSB7XG4gICAgICAgIG91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIHJldHVybiBvdXRsZXQuc3RhdGVzLmxlbmd0aCA+IDE7XG4gICAgfVxuICAgIG9uUG9wU3RhdGUoZm4pIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5vblBvcFN0YXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3BTdGF0ZUNhbGxiYWNrcy5wdXNoKGZuKTtcbiAgICB9XG4gICAgZ2V0QmFzZUhyZWYoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FsbFBvcFN0YXRlKHN0YXRlLCBwb3AgPSB0cnVlLCBvdXRsZXQpIHtcbiAgICAgICAgb3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICBjb25zdCBjaGFuZ2VkT3V0bGV0ID0gdGhpcy5nZXRTZWdtZW50R3JvdXBCeU91dGxldChvdXRsZXQpO1xuICAgICAgICBpZiAoc3RhdGUgJiYgY2hhbmdlZE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodGhpcy5jdXJyZW50VXJsVHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBzdGF0ZS5zZWdtZW50R3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gY2xvc2luZyBtb2RhbCB2aWV3IHRoZXJlIGFyZSBzY2VuYXJpb3MgKGUuZy4gcm9vdCB2aWV3Q29udGFpbmVyUmVmKSB3aGVuIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGNsZWFuIHVwIHRoZSBuYW1lZCBwYWdlIHJvdXRlciBvdXRsZXQgdG8gbWFrZSBzdXJlIHdlIHdpbGwgb3BlbiB0aGUgbW9kYWwgcHJvcGVybHkgYWdhaW4gaWYgbmVlZGVkLlxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodGhpcy5jdXJyZW50VXJsVHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmwgPSB1cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLmN1cnJlbnRVcmxUcmVlKTtcbiAgICAgICAgY29uc3QgY2hhbmdlID0geyBzdGF0ZSwgdHlwZTogJ3BvcHN0YXRlJyB9O1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMucG9wU3RhdGVDYWxsYmFja3MpIHtcbiAgICAgICAgICAgIGZuKGNoYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgdGhpcy5vdXRsZXRzLmZvckVhY2goKG91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0U3RhdGVzID0gb3V0bGV0LnN0YXRlcztcbiAgICAgICAgICAgIGNvbnN0IG91dGxldExvZyA9IG91dGxldFN0YXRlc1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICAubWFwKCh2LCBpKSA9PiBgJHtvdXRsZXQub3V0bGV0S2V5c30uJHtpfS5bJHt2LmlzUGFnZU5hdmlnYXRpb24gPyAnUEFHRScgOiAnSU5URVJOQUwnfV0uWyR7b3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID8gJ01PREFMJyA6ICdCQVNFJ31dIFwiJHt2LnNlZ21lbnRHcm91cC50b1N0cmluZygpfVwiYClcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChvdXRsZXRMb2cpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgLy8gTWV0aG9kcyBmb3Igc3luY2luZyB3aXRoIHBhZ2UgbmF2aWdhdGlvbiBpbiBQYWdlUm91dGVyT3V0bGV0XG4gICAgX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uKGZyYW1lLCBvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKTtcbiAgICAgICAgaWYgKCFvdXRsZXQgfHwgb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgc3RhcnRHb0JhY2sgd2hpbGUgZ29pbmcgYmFjay4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnN0YXJ0R29CYWNrKCknKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXQuc2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2sob3V0bGV0S2V5KTtcbiAgICAgICAgLy8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrID0gdHJ1ZTtcbiAgICAgICAgLy8gd2UgZmluZCBhbGwgdGhlIGNoaWxkcmVuIGFuZCBhbHNvIHNldCB0aGVpciBpc1BhZ2VOYXZpZ2F0aW9uQmFja1xuICAgICAgICB0aGlzLm91dGxldHNcbiAgICAgICAgICAgIC5maWx0ZXIoKG8pID0+IHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBvLnBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ID09PSBvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZm9yRWFjaCgobykgPT4gKG8uaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSB0cnVlKSk7XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICB9XG4gICAgX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbihmcmFtZSkge1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpO1xuICAgICAgICBpZiAoIW91dGxldCB8fCAhb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgZW5kR29CYWNrIHdoaWxlIG5vdCBnb2luZyBiYWNrLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgLy8gSXQgaXMgcG9zc2libGUgdG8gaGF2ZSBmcmFtZSwgYnV0IG5vdCBjb3JyZXNwb25kaW5nIE91dGxldCwgaWZcbiAgICAgICAgLy8gc2hvd2luZyBtb2RhbCBkaWFsb2cgb24gYXBwLmNvbXBvbmVudC50cyBuZ09uSW5pdCgpIGUuZy4gSW4gdGhhdCBjYXNlXG4gICAgICAgIC8vIHRoZSBtb2RhbCBpcyB0cmVhdGVkIGFzIG5vbmUgbW9kYWwgbmF2aWdhdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnNob3dpbmdNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9zZU1vZGFsTmF2aWdhdGlvbigpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5jbG9zZU1vZGFsTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTaG93aW5nTW9kYWwgPSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDA7XG4gICAgICAgIGlmIChpc1Nob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXJyZW50T3V0bGV0IHNob3VsZCBiZSB0aGUgb25lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHRvcG1vc3QgZnJhbWVcbiAgICAgICAgY29uc3QgdG9wbW9zdE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZSh0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpKTtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgaXNTaG93aW5nTW9kYWwpIHx8IHRvcG1vc3RPdXRsZXQ7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zaG93aW5nTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBhbmd1bGFyIGRvZXMgYSBzZXRUaW1lb3V0IG9uIG9uUG9wU3RhdGUsIHNvIGlmIHdlIGRvbid0IGRvIHRoaXMgd2UgbWlnaHQgZW5kIHVwIHdpdGggaW5jb25zaXN0ZW50IHN0YXRlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9iZWdpblBhZ2VOYXZpZ2F0aW9uKGZyYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmIChsYXN0U3RhdGUpIHtcbiAgICAgICAgICAgIGxhc3RTdGF0ZS5pc1BhZ2VOYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZPcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0TmF2T3B0aW9ucztcbiAgICAgICAgaWYgKG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5fYmVnaW5QYWdlTmF2aWdhdGlvbiBjbGVhcmluZyBzdGF0ZXMgaGlzdG9yeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcyA9IFtsYXN0U3RhdGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXZPcHRpb25zO1xuICAgIH1cbiAgICBfZ2V0T3V0bGV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cztcbiAgICB9XG4gICAgdXBkYXRlT3V0bGV0RnJhbWUob3V0bGV0LCBmcmFtZSwgaXNFbXB0eU91dGxldEZyYW1lKSB7XG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IG91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiAhbGFzdFN0YXRlLmZyYW1lICYmICFpc0VtcHR5T3V0bGV0RnJhbWUpIHtcbiAgICAgICAgICAgIGxhc3RTdGF0ZS5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICBvdXRsZXQuZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICB9XG4gICAgY2xlYXJPdXRsZXQoZnJhbWUpIHtcbiAgICAgICAgdGhpcy5vdXRsZXRzID0gdGhpcy5vdXRsZXRzLmZpbHRlcigoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzRXF1YWxUb0N1cnJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgaXNFcXVhbFRvQ3VycmVudCA9IGN1cnJlbnRPdXRsZXQucGF0aEJ5T3V0bGV0cyA9PT0gdGhpcy5jdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgb3V0bGV0IGZyb20gdGhlIHVybCB0cmVlLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSkgJiYgIWlzRXF1YWxUb0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZShudWxsLCB0cnVlLCBjdXJyZW50T3V0bGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNraXAgZnJhbWVzIGZpbHRlcmluZyBzaW5jZSBjdXJyZW50T3V0bGV0IGlzIDxyb3V0ZXItb3V0bGV0PiB3aGVuIG5vIGZyYW1lcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5mcmFtZXMubGVuZ3RoICYmICFjdXJyZW50T3V0bGV0LmlzTlNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRPdXRsZXQuZnJhbWVzID0gY3VycmVudE91dGxldC5mcmFtZXMuZmlsdGVyKChjdXJyZW50RnJhbWUpID0+IGN1cnJlbnRGcmFtZSAhPT0gZnJhbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50T3V0bGV0LmZyYW1lcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIWN1cnJlbnRPdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRTZWdtZW50R3JvdXBGdWxsUGF0aChzZWdtZW50R3JvdXApIHtcbiAgICAgICAgbGV0IGZ1bGxQYXRoID0gJyc7XG4gICAgICAgIHdoaWxlIChzZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHNlZ21lbnRHcm91cC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKGZ1bGxQYXRoKSB7XG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSAodXJsID8gdXJsICsgJy8nIDogJycpICsgZnVsbFBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdWxsUGF0aCA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IHNlZ21lbnRHcm91cC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxQYXRoO1xuICAgIH1cbiAgICBnZXRSb3V0ZUZ1bGxQYXRoKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gY3VycmVudFJvdXRlLm91dGxldDtcbiAgICAgICAgbGV0IGZ1bGxQYXRoO1xuICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUucGFyZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICBjb25zdCB1cmxzID0gY3VycmVudFJvdXRlLnVybC52YWx1ZSB8fCBjdXJyZW50Um91dGUudXJsO1xuICAgICAgICAgICAgbGV0IHVybCA9IHVybHM7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cmxzKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5qb2luKCcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdWxsUGF0aCA9IGZ1bGxQYXRoID8gKHVybCA/IHVybCArICcvJyA6IHVybCkgKyBmdWxsUGF0aCA6IHVybDtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZSA9IGN1cnJlbnRSb3V0ZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxQYXRoID8gZnVsbFBhdGggKyAnLScgKyBvdXRsZXROYW1lIDogb3V0bGV0TmFtZTtcbiAgICB9XG4gICAgZ2V0UGF0aEJ5T3V0bGV0cyh1cmxTZWdtZW50R3JvdXApIHtcbiAgICAgICAgaWYgKCF1cmxTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF0aFRvT3V0bGV0O1xuICAgICAgICBsZXQgbGFzdFBhdGggPSB1cmxTZWdtZW50R3JvdXAub3V0bGV0IHx8ICdwcmltYXJ5JztcbiAgICAgICAgbGV0IHBhcmVudCA9IHVybFNlZ21lbnRHcm91cC5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgdXJsU2VnbWVudEdyb3VwLnJvb3QgIT09IHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQub3V0bGV0ICE9PSBsYXN0UGF0aCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGF0aCA9PT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXRoID0gcGFyZW50Lm91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXRoID0gcGFyZW50Lm91dGxldDtcbiAgICAgICAgICAgICAgICAgICAgcGF0aFRvT3V0bGV0ID0gbGFzdFBhdGggKyAnLScgKyAocGF0aFRvT3V0bGV0IHx8IHVybFNlZ21lbnRHcm91cC5vdXRsZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGhUb091dGxldCB8fCBsYXN0UGF0aDtcbiAgICB9XG4gICAgZmluZE91dGxldChvdXRsZXRLZXksIGFjdGl2YXRlZFJvdXRlU25hcHNob3QpIHtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMub3V0bGV0cy5maW5kKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBjdXJyZW50T3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID09PSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aDtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbE1vZGFsRGVwdGggJiYgY3VycmVudE91dGxldC5vdXRsZXRLZXlzLmluZGV4T2Yob3V0bGV0S2V5KSA+IC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm8gT3V0bGV0IHdpdGggdGhlIGdpdmVuIG91dGxldEtleSBjb3VsZCBoYXBwZW4gd2hlbiB1c2luZyBuZXN0ZWQgdW5uYW1lZCBwLXItb1xuICAgICAgICAvLyBwcmltYXJ5IC0+IHByaW1hcnkgLT4gcHJ5bWFyeVxuICAgICAgICBpZiAoIW91dGxldCAmJiBhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoQnlPdXRsZXRzID0gdGhpcy5nZXRQYXRoQnlPdXRsZXRzKGFjdGl2YXRlZFJvdXRlU25hcHNob3QpO1xuICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5vdXRsZXRzLmZpbmQoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBjdXJyZW50T3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID09PSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXF1YWxNb2RhbERlcHRoICYmIGN1cnJlbnRPdXRsZXQucGF0aEJ5T3V0bGV0cyA9PT0gcGF0aEJ5T3V0bGV0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxuICAgIGZpbmRPdXRsZXRCeU1vZGFsKG1vZGFsTmF2aWdhdGlvbiwgaXNTaG93aW5nTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cy5maW5kKChvdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVxdWFsTW9kYWxEZXB0aCA9IG91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gbW9kYWxOYXZpZ2F0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIGlzU2hvd2luZ01vZGFsID8gZXF1YWxNb2RhbERlcHRoICYmIG91dGxldC5zaG93aW5nTW9kYWwgOiBlcXVhbE1vZGFsRGVwdGg7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB7XG4gICAgICAgIGxldCBvdXRsZXQ7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm91dGxldHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T3V0bGV0ID0gdGhpcy5vdXRsZXRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0ID0gY3VycmVudE91dGxldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZXMob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGlzTmV3UGFnZSA9IG91dGxldC5zdGF0ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBvdXRsZXQuc3RhdGVzW291dGxldC5zdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGVxdWFsU3RhdGVVcmxzID0gb3V0bGV0LmNvbnRhaW5zVG9wU3RhdGUoY3VycmVudFNlZ21lbnRHcm91cC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cDogY3VycmVudFNlZ21lbnRHcm91cCxcbiAgICAgICAgICAgIGlzUm9vdFNlZ21lbnRHcm91cDogZmFsc2UsXG4gICAgICAgICAgICBpc1BhZ2VOYXZpZ2F0aW9uOiBpc05ld1BhZ2UsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogT2JqZWN0LmFzc2lnbih7fSwgcXVlcnlQYXJhbXMpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWxhc3RTdGF0ZSB8fCAhZXF1YWxTdGF0ZVVybHMpIHtcbiAgICAgICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0LnN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dGxldC5zdGF0ZXMucHVzaChsb2NhdGlvblN0YXRlKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IHN0YXRlIHNlZ21lbnRHcm91cCBvZiBwYXJlbnQgT3V0bGV0LlxuICAgICAgICAgICAgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID09PSAwICYmICFvdXRsZXQuc2hvd2luZ01vZGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cC5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobGFzdFN0YXRlICYmIGVxdWFsU3RhdGVVcmxzKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHF1ZXJ5IHBhcmFtcyBmb3IgbGFzdCBzdGF0ZVxuICAgICAgICAgICAgICAgIGxhc3RTdGF0ZS5xdWVyeVBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZVBhcmVudHNTdGF0ZXMob3V0bGV0LCBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgbGV0IHBhcmVudE91dGxldCA9IG91dGxldC5wYXJlbnQ7XG4gICAgICAgIC8vIFVwZGF0ZSBwYXJlbnRzIGxhc3RTdGF0ZSBzZWdtZW50R3JvdXBzXG4gICAgICAgIHdoaWxlIChwYXJlbnRPdXRsZXQgJiYgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHBhcmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnNlZ21lbnRHcm91cCA9IG5ld1NlZ21lbnRHcm91cDtcbiAgICAgICAgICAgICAgICBuZXdTZWdtZW50R3JvdXAgPSBuZXdTZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICAgICAgICAgIHBhcmVudE91dGxldCA9IHBhcmVudE91dGxldC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgIGNyZWF0ZU91dGxldChvdXRsZXRLZXksIHBhdGgsIHNlZ21lbnRHcm91cCwgcGFyZW50LCBtb2RhbE5hdmlnYXRpb24sIHF1ZXJ5UGFyYW1zID0ge30pIHtcbiAgICAgICAgY29uc3QgcGF0aEJ5T3V0bGV0cyA9IHRoaXMuZ2V0UGF0aEJ5T3V0bGV0cyhzZWdtZW50R3JvdXApO1xuICAgICAgICBjb25zdCBuZXdPdXRsZXQgPSBuZXcgT3V0bGV0KG91dGxldEtleSwgcGF0aCwgcGF0aEJ5T3V0bGV0cywgbW9kYWxOYXZpZ2F0aW9uKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cDogc2VnbWVudEdyb3VwLFxuICAgICAgICAgICAgaXNSb290U2VnbWVudEdyb3VwOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUGFnZU5hdmlnYXRpb246IHRydWUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogT2JqZWN0LmFzc2lnbih7fSwgcXVlcnlQYXJhbXMpLFxuICAgICAgICB9O1xuICAgICAgICBuZXdPdXRsZXQuc3RhdGVzID0gW2xvY2F0aW9uU3RhdGVdO1xuICAgICAgICBuZXdPdXRsZXQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm91dGxldHMucHVzaChuZXdPdXRsZXQpO1xuICAgICAgICAvLyBVcGRhdGUgbGFzdCBzdGF0ZSBzZWdtZW50R3JvdXAgb2YgcGFyZW50IE91dGxldC5cbiAgICAgICAgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID09PSAwICYmICFuZXdPdXRsZXQuc2hvd2luZ01vZGFsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhcmVudHNTdGF0ZXMobmV3T3V0bGV0LCBzZWdtZW50R3JvdXAucGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T3V0bGV0O1xuICAgIH1cbiAgICBnZXRTZWdtZW50R3JvdXBCeU91dGxldChvdXRsZXQpIHtcbiAgICAgICAgY29uc3QgcGF0aExpc3QgPSBvdXRsZXQucGF0aEJ5T3V0bGV0cy5zcGxpdCgnLScpO1xuICAgICAgICBsZXQgc2VnbWVudEdyb3VwID0gdGhpcy5jdXJyZW50VXJsVHJlZS5yb290O1xuICAgICAgICBsZXQgcGF0aFRvT3V0bGV0O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0aExpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGF0aCA9IHBhdGhMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBPYmplY3Qua2V5cyhzZWdtZW50R3JvdXAuY2hpbGRyZW4pLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbkNvdW50ICYmIHNlZ21lbnRHcm91cC5jaGlsZHJlbltjdXJyZW50UGF0aF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBzZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBwYXRoVG9PdXRsZXQgPSBwYXRoVG9PdXRsZXQgPyBwYXRoVG9PdXRsZXQgKyAnLycgKyB1cmwgOiB1cmw7XG4gICAgICAgICAgICAgICAgc2VnbWVudEdyb3VwID0gc2VnbWVudEdyb3VwLmNoaWxkcmVuW2N1cnJlbnRQYXRoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIGNoaWxkIG91dGxldCBmb3VuZCB3aXRoIHRoZSBnaXZlbiBuYW1lIC0gZm9yZ2V0IGFib3V0IGFsbCBwcmV2aW91c2x5IGZvdW5kIG91dGxldHMuXG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZTogc2VhY2hpbmcgZm9yICdwcmltYXJ5LXNlY29uZC1wcmltYXJ5JyBzaG91bGRuJ3QgcmV0dXJuICdwcmltYXJ5LXNlY29uZCdcbiAgICAgICAgICAgICAgICAvLyBpZiBubyAncHJpbWFyeScgY2hpbGQgYXZhaWxhYmxlIG9uICdzZWNvbmQnLlxuICAgICAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGF0aHMgc2hvdWxkIGFsc28gbWF0Y2ggc2luY2UgdGhlcmUgY291bGQgYmUgYW5vdGhlciBPdXRsZXRcbiAgICAgICAgLy8gd2l0aCB0aGUgc2FtZSBwYXRoQnlPdXRsZXRzIGJ1dCBkaWZmZXJlbnQgdXJsIHBhdGguXG4gICAgICAgIGlmIChzZWdtZW50R3JvdXAgJiYgb3V0bGV0LnBhdGggJiYgcGF0aFRvT3V0bGV0ICYmIG91dGxldC5wYXRoICE9PSBwYXRoVG9PdXRsZXQpIHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRHcm91cDtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2FsIGFuZCByZXBsYWNlbWVudCBvZiBzZWdtZW50R3JvdXAuXG4gICAgdXBkYXRlU2VnbWVudEdyb3VwKHJvb3ROb2RlLCBvbGRTZWdtZW50R3JvdXAsIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudFRyZWUgPSByb290Tm9kZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VHJlZS5jaGlsZHJlbikuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSA9PT0gb2xkU2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdID0gbmV3U2VnbWVudEdyb3VwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50VHJlZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBzZXJ0TW9kYWxPdXRsZXQocGFyZW50T3V0bGV0LCBzZWdtZW50ZWRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBsZXQgY3VycmVudE1vZGFsT3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCk7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gdHJlYXQgZXZlcnkgcC1yLW8gYXMgYSBzdGFuZGFsb25lIE91dGxldC5cbiAgICAgICAgaWYgKCFjdXJyZW50TW9kYWxPdXRsZXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcGFyZW50IG9mIHRoZSBjdXJyZW50IE91dGxldCBzaG91bGQgYmUgdGhlIHByZXZpb3VzIG9wZW5lZCBtb2RhbCAoaWYgYW55KS5cbiAgICAgICAgICAgICAgICBwYXJlbnRPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeU1vZGFsKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBObyBjdXJyZW50TW9kYWxPdXRsZXQgYXZhaWxhYmxlIHdoZW4gb3BlbmluZyAncHJpbWFyeScgcC1yLW8uXG4gICAgICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gJ3ByaW1hcnknO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0UGF0aCA9IHBhcmVudE91dGxldC5wZWVrU3RhdGUoKS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KG91dGxldFBhdGgsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgY3VycmVudE1vZGFsT3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBvdXRsZXRQYXRoLCBzZWdtZW50ZWRHcm91cCwgcGFyZW50T3V0bGV0LCB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gY3VycmVudE1vZGFsT3V0bGV0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudXBkYXRlU3RhdGVzKGN1cnJlbnRNb2RhbE91dGxldCwgc2VnbWVudGVkR3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gY3VycmVudE1vZGFsT3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICB9XG4gICAgfVxuICAgIGdldE91dGxldEtleShwYXRoLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXRoID8gcGF0aCArICctJyArIG91dGxldE5hbWUgOiBvdXRsZXROYW1lO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5uZ09uRGVzdHJveSgpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXRzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG51bGw7XG4gICAgfVxufVxuTlNMb2NhdGlvblN0cmF0ZWd5Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVwczogW3sgdG9rZW46IEZyYW1lU2VydmljZSB9LCB7IHRva2VuOiBTVEFSVF9QQVRILCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTlNMb2NhdGlvblN0cmF0ZWd5Lsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogRnJhbWVTZXJ2aWNlIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW1NUQVJUX1BBVEhdXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG5cbmNsYXNzIE1vZGFsRGlhbG9nUGFyYW1zIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0ID0ge30sIGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jbG9zZUNhbGxiYWNrID0gY2xvc2VDYWxsYmFjaztcbiAgICB9XG59XG5jbGFzcyBNb2RhbERpYWxvZ1NlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uLCB6b25lLCBhcHBSZWYsIGRlZmF1bHRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gICAgICAgIHRoaXMuYXBwUmVmID0gYXBwUmVmO1xuICAgICAgICB0aGlzLmRlZmF1bHRJbmplY3RvciA9IGRlZmF1bHRJbmplY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW55dGltZSBhIG1vZGFsIGlzIGNsb3NlZCB3aXRoIHRoZSBNb2RhbERpYWxvZ1BhcmFtcyB3aGljaCB3ZXJlIGluamVjdGVkIGludG8gdGhlIGNvbXBvbmVudCB3aGljaCBpcyBub3cgY2xvc2luZy5cbiAgICAgKiBGb3IgZXhhbXBsZSwgY2FuIGJlIHVzZWQgdG8gd2lyZSB1cCBSeCBmbG93cyBvdXRzaWRlIHRoZSBzY29wZSBvZiBqdXN0IHRoZSBjb21wb25lbnQgYmVpbmcgaGFuZGxlZC5cbiAgICAgKi9cbiAgICBnZXQgY2xvc2VkJCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jbG9zZWQkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZWQkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2VkJDtcbiAgICB9XG4gICAgc2hvd01vZGFsKHR5cGUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIC8vIGlmICghb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWV3Q29udGFpbmVyUmVmOiAnICsgJ01ha2Ugc3VyZSB5b3UgcGFzcyB2aWV3Q29udGFpbmVyUmVmIGluIE1vZGFsRGlhbG9nT3B0aW9ucy4nKTtcbiAgICAgICAgLy8gfVxuICAgICAgICBsZXQgcGFyZW50VmlldyA9ICgoX2EgPSBvcHRpb25zLnZpZXdDb250YWluZXJSZWYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpIHx8IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgocGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3IHx8IHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0QXN5bmNWaWV3KSAmJiBwYXJlbnRWaWV3Lm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcubmdBcHBSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIF9uZ0RpYWxvZ1Jvb3QgaXMgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBwcmV2aW91c2x5IGRldGFjaGVkIHByb3h5LlxuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSAndmlld0NvbnRyb2xsZXInIChpT1MpIG9yICdfZGlhbG9nRnJhZ21lbnQnIChBbmRyb2lkKSBhdmFpbGFibGUgZm9yXG4gICAgICAgIC8vIHByZXNlbnRpbmcgZnV0dXJlIG1vZGFsIHZpZXdzLlxuICAgICAgICBpZiAocGFyZW50Vmlldy5fbmdEaWFsb2dSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5fbmdEaWFsb2dSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgZnJvbSBwYXJ0aWN1bGFyIG1vZHVsZSAobW9kdWxlUmVmKVxuICAgICAgICAvLyBvciBmcm9tIHNhbWUgbW9kdWxlIGFzIHBhcmVudFZpZXcgKHZpZXdDb250YWluZXJSZWYpXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEluamVjdG9yID0gKChfYiA9IG9wdGlvbnMubW9kdWxlUmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5qZWN0b3IpIHx8ICgoX2MgPSBvcHRpb25zLnZpZXdDb250YWluZXJSZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbmplY3RvcikgfHwgdGhpcy5kZWZhdWx0SW5qZWN0b3I7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gY29tcG9uZW50SW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgICAgIGxldCBmcmFtZSA9IHBhcmVudFZpZXc7XG4gICAgICAgIGlmICghKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBGcmFtZSkpIHtcbiAgICAgICAgICAgIGZyYW1lID0gKHBhcmVudFZpZXcucGFnZSAmJiBwYXJlbnRWaWV3LnBhZ2UuZnJhbWUpIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgfVxuICAgICAgICAoX2QgPSB0aGlzLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dEaWFsb2coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBjb250YWluZXJSZWY6IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZiwgaW5qZWN0b3I6IGNvbXBvbmVudEluamVjdG9yLCBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsIGRvbmVDYWxsYmFjazogcmVzb2x2ZSwgcGFyZW50VmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Nob3dEaWFsb2cob3B0aW9ucykge1xuICAgICAgICBsZXQgY29tcG9uZW50Vmlld1JlZjtcbiAgICAgICAgbGV0IGRldGFjaGVkTG9hZGVyUmVmO1xuICAgICAgICBsZXQgcG9ydGFsT3V0bGV0O1xuICAgICAgICBjb25zdCBjbG9zZUNhbGxiYWNrID0gb25jZSgoLi4uYXJncykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgb3B0aW9ucy5kb25lQ2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3UmVmKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jbG9zZWQkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlZCQubmV4dChwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmxvY2F0aW9uLl9jbG9zZU1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2hlZExvYWRlclJlZiB8fCBwb3J0YWxPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0YWxPdXRsZXQgPT09IG51bGwgfHwgcG9ydGFsT3V0bGV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3J0YWxPdXRsZXQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPT09IG51bGwgfHwgZGV0YWNoZWRMb2FkZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID09PSBudWxsIHx8IGRldGFjaGVkTG9hZGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXRhY2hlZExvYWRlclJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBtb2RhbFBhcmFtcyA9IG5ldyBNb2RhbERpYWxvZ1BhcmFtcyhvcHRpb25zLmNvbnRleHQsIGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICBpZiAoIXRoaXMub3BlbmVkTW9kYWxQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbmVkTW9kYWxQYXJhbXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zLnB1c2gobW9kYWxQYXJhbXMpO1xuICAgICAgICBjb25zdCBjaGlsZEluamVjdG9yID0gSW5qZWN0b3IuY3JlYXRlKHtcbiAgICAgICAgICAgIHByb3ZpZGVyczogW3sgcHJvdmlkZTogTW9kYWxEaWFsb2dQYXJhbXMsIHVzZVZhbHVlOiBtb2RhbFBhcmFtcyB9XSxcbiAgICAgICAgICAgIHBhcmVudDogb3B0aW9ucy5pbmplY3RvcixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgd2UgZXZlciBzdXBwb3J0IHRlbXBsYXRlcyBpbiB0aGUgb2xkIEFQSVxuICAgICAgICAgICAgLy8gaWYob3B0aW9ucy50ZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IG9wdGlvbnMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICAgICAgLy8gICAgIGlmKG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnksIDAsIGNoaWxkSW5qZWN0b3IsIG51bGwpO1xuICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShjaGlsZEluamVjdG9yKTsgLy8gdGhpcyBEZXRhY2hlZExvYWRlciBpcyAqKmNvbXBsZXRlbHkqKiBkZXRhY2hlZFxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTsgLy8gd2UgYXR0YWNoIGl0IHRvIHRoZSBhcHBsaWNhdGlvblJlZiwgc28gaXQgYmVjb21lcyBhIFwicm9vdFwiIHZpZXcgaW4gYW5ndWxhcidzIGhpZXJhcmNoeVxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7IC8vIGZvcmNlIGEgY2hhbmdlIGRldGVjdGlvblxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLmNyZWF0ZVRlbXBsYXRlUG9ydGFsKG9wdGlvbnMudGVtcGxhdGVSZWYpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICAgICAgY29uc3QgcG9ydGFsID0gbmV3IENvbXBvbmVudFBvcnRhbChvcHRpb25zLnR5cGUpO1xuICAgICAgICAgICAgcG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCBvcHRpb25zLnJlc29sdmVyLCB0aGlzLmFwcFJlZiwgY2hpbGRJbmplY3Rvcik7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSBwb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRleHRBc0NvbXBvbmVudFByb3BzICYmIG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLnJlZi5pbnN0YW5jZVtrZXldID0gb3B0aW9ucy5jb250ZXh0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdSZWYgIT09IGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuX25nRGlhbG9nUm9vdCA9IGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnRWaWV3LnNob3dNb2RhbChjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgY2xvc2VDYWxsYmFjayB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbk1vZGFsRGlhbG9nU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkwLkFwcGxpY2F0aW9uUmVmIH0sIHsgdG9rZW46IGkwLkluamVjdG9yIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Nb2RhbERpYWxvZ1NlcnZpY2UuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE1vZGFsRGlhbG9nU2VydmljZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTAuQXBwbGljYXRpb25SZWYgfSwgeyB0eXBlOiBpMC5JbmplY3RvciB9XTsgfSB9KTtcblxuLyoqXG4gKiBUaGlzIGRlY29yYXRvciBkZWxheXMgYSBwb3RlbnRpYWxseSB1bnNhZmUgZXZlbnQgKGxpa2UgbG9hZGVkL3VubG9hZGVkIHRoYXQgd2lsbCBzb21ldGltZXMgYmUgY2FsbGVkIGJlZm9yZSBuZ09uSW5pdCkgdG8gYmUgaGFuZGxlZCBzYWZlbHkgYnkgZW5zdXJpbmcgaXQncyBjYWxsZWQgYWZ0ZXIgYSBsaWZlY3ljbGUgaG9vay5cbiAqIEBwYXJhbSBydW5BZnRlckV2ZW50IGV2ZW50L2Z1bmN0aW9uIGNhbGwgdG8gd2FpdCB1bnRpbCB0aGUgZXZlbnQgY2FuIGJlIGZpcmVkICgnbmdPbkluaXQnLCAnbmdBZnRlclZpZXdJbml0JywgLi4uKVxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgZXZlbnQgaGFuZGxpbmcgcGFyYW1zXG4gKiBAcmV0dXJucyBkZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQocnVuQWZ0ZXJFdmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZXZlbnQgPSBydW5BZnRlckV2ZW50O1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBmdW5jdGlvbiBnZXROZ1NhZmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0WydfX25nX3NhZmVfXyddO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0WydfX25nX3NhZmVfXyddKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0TmdTYWZlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50czoge30sXG4gICAgICAgICAgICAgICAgcnVuQmVmb3JlOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXJnZXRbJ19fbmdfc2FmZV9fJ10gPSBkZWZhdWx0TmdTYWZlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSkge1xuICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSA9IHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBidWZmZXI6IFtdLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRGVsZWdhdGU6IHRhcmdldFtldmVudF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0W2V2ZW50XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYWx3YXlzUnVuQmVmb3JlKSB7XG4gICAgICAgICAgICBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldID0gdGFyZ2V0W29wdGlvbnMuYWx3YXlzUnVuQmVmb3JlXTtcbiAgICAgICAgICAgIHRhcmdldFtgJHtvcHRpb25zLmFsd2F5c1J1bkJlZm9yZX1gXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKClcbiAgICAgICAgICAgICAgICAgICAgLmV2ZW50c1tldmVudF0uYnVmZmVyLmZpbHRlcigodikgPT4gdi5rZXkgPT09IHByb3BlcnR5S2V5KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyID0gZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZmlsdGVyKCh2KSA9PiB2LmtleSAhPT0gcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV07XG4gICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRGbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzaG91bGRQdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlGaXJzdCB8fCBvcHRpb25zLm9ubHlMYXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXJbaV0ua2V5ID09PSBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHVzaCkge1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgICAgICAgICBmbjogb2xkRm4uYmluZCh0aGlzLCBhcmdzKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5jbGFzcyBUYWJWaWV3RGlyZWN0aXZlIHtcbiAgICBnZXQgc2VsZWN0ZWRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgfVxuICAgIHNldCBzZWxlY3RlZEluZGV4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmlld0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRhYlZpZXcgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKCd0aGlzLl9zZWxlY3RlZEluZGV4OiAnICsgdGhpcy5fc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0JsYW5rKHRoaXMuX3NlbGVjdGVkSW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG59XG5UYWJWaWV3RGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblRhYlZpZXdEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogVGFiVmlld0RpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiVGFiVmlld1wiLCBpbnB1dHM6IHsgc2VsZWN0ZWRJbmRleDogXCJzZWxlY3RlZEluZGV4XCIgfSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RhYlZpZXcnLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHNlbGVjdGVkSW5kZXg6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5jbGFzcyBUYWJWaWV3SXRlbURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXIgPSB2aWV3Q29udGFpbmVyO1xuICAgIH1cbiAgICBzZXQgY29uZmlnKGNvbmZpZykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZyB8fCB0aGlzLl9jb25maWcuaWNvblNvdXJjZSAhPT0gY29uZmlnLmljb25Tb3VyY2UgfHwgdGhpcy5fY29uZmlnLnRpdGxlICE9PSBjb25maWcudGl0bGUgfHwgdGhpcy5fY29uZmlnLnRleHRUcmFuc2Zvcm0gIT09IGNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICB0aGlzLmFwcGx5Q29uZmlnKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1pbnB1dC1yZW5hbWVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZyB8fCB7fTtcbiAgICB9XG4gICAgc2V0IHRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyB0aXRsZSB9KTtcbiAgICB9XG4gICAgZ2V0IHRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudGl0bGU7XG4gICAgfVxuICAgIHNldCBpY29uU291cmNlKGljb25Tb3VyY2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IGljb25Tb3VyY2UgfSk7XG4gICAgfVxuICAgIGdldCBpY29uU291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaWNvblNvdXJjZTtcbiAgICB9XG4gICAgc2V0IHRleHRUcmFuc2Zvcm0odGV4dFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgdGV4dFRyYW5zZm9ybSB9KTtcbiAgICB9XG4gICAgZ2V0IHRleHRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtO1xuICAgIH1cbiAgICBlbnN1cmVJdGVtKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtID0gbmV3IFRhYlZpZXdJdGVtKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwbHlDb25maWcoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlSXRlbSgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWcudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50aXRsZSA9IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5pY29uU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0uaWNvblNvdXJjZSA9IHRoaXMuY29uZmlnLmljb25Tb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIFRhYlZpZXdJdGVtIHRleHRUcmFuc2Zvcm0gaGFzIGEgZGVmYXVsdCB2YWx1ZSBmb3IgQW5kcm9pZCB0aGF0IGtpY2sgaW5cbiAgICAgICAgLy8gb25seSBpZiBubyB2YWx1ZSAoZXZlbiBhIG51bGwgdmFsdWUpIGlzIHNldC5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50ZXh0VHJhbnNmb3JtID0gdGhpcy5jb25maWcudGV4dFRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5hcHBseUNvbmZpZygpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCB0ZXh0IG5vZGVzIGFuZCBjb21tZW50c1xuICAgICAgICBjb25zdCByZWFsVmlld3MgPSB2aWV3UmVmLnJvb3ROb2Rlcy5maWx0ZXIoKG5vZGUpID0+ICEobm9kZSBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICAgICAgaWYgKHJlYWxWaWV3cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udmlldyA9IHJlYWxWaWV3c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gKHRoaXMub3duZXIudGFiVmlldy5pdGVtcyB8fCBbXSkuY29uY2F0KFt0aGlzLml0ZW1dKTtcbiAgICAgICAgICAgIHRoaXMub3duZXIudGFiVmlldy5pdGVtcyA9IG5ld0l0ZW1zO1xuICAgICAgICB9XG4gICAgfVxufVxuVGFiVmlld0l0ZW1EaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuVGFiVmlld0l0ZW1EaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlt0YWJJdGVtXVwiLCBpbnB1dHM6IHsgY29uZmlnOiBbXCJ0YWJJdGVtXCIsIFwiY29uZmlnXCJdLCB0aXRsZTogXCJ0aXRsZVwiLCBpY29uU291cmNlOiBcImljb25Tb3VyY2VcIiwgdGV4dFRyYW5zZm9ybTogXCJ0ZXh0VHJhbnNmb3JtXCIgfSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbdGFiSXRlbV0nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUgfSwgeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGNvbmZpZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3RhYkl0ZW0nXVxuICAgICAgICAgICAgfV0sIHRpdGxlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaWNvblNvdXJjZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHRleHRUcmFuc2Zvcm06IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3IgKi9cbmNsYXNzIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLnNob3cgPSBkZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuYW5kcm9pZDtcbiAgICB9XG59XG5BbmRyb2lkRmlsdGVyQ29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuQW5kcm9pZEZpbHRlckNvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJhbmRyb2lkXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTEkMS5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9XSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdhbmRyb2lkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3IgKi9cbmNsYXNzIElPU0ZpbHRlckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIHRoaXMuc2hvdyA9IGRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5pb3M7XG4gICAgfVxufVxuSU9TRmlsdGVyQ29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5JT1NGaWx0ZXJDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogSU9TRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJpb3NcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpMSQxLk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH1dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnaW9zJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG5cbmNvbnN0IENES19DT01QT05FTlRTID0gW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudF07XG5yZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzKCk7XG5jbGFzcyBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUge1xufVxuTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVjbGFyYXRpb25zOiBbQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTGlzdFZpZXdDb21wb25lbnQsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgSU9TRmlsdGVyQ29tcG9uZW50XSwgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSwgZXhwb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlLCBBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBMaXN0Vmlld0NvbXBvbmVudCwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBJT1NGaWx0ZXJDb21wb25lbnRdIH0pO1xuTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIHByb3ZpZGVyczogW01vZGFsRGlhbG9nU2VydmljZV0sIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZSwgQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGVdIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbLi4uQ0RLX0NPTVBPTkVOVFNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIC4uLkNES19DT01QT05FTlRTXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTW9kYWxEaWFsb2dTZXJ2aWNlXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcocGFyZW50Um9vdFZpZXcpIHtcbiAgICBpZiAocGFyZW50Um9vdFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudFJvb3RWaWV3O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcignd2hpdGUnKSk7XG59XG5mdW5jdGlvbiBlcnJvckhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvckhhbmRsZXIoKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKSB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9YCArICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbn1cbmNvbnN0IE5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUyA9IFtcbiAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlRmFsbGJhY2tSb290VmlldywgZGVwczogW1tuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCksIEFQUF9ST09UX1ZJRVddXSB9LFxuICAgIHsgcHJvdmlkZTogybVJTkpFQ1RPUl9TQ09QRSwgdXNlVmFsdWU6ICdyb290JyB9LFxuICAgIHsgcHJvdmlkZTogRXJyb3JIYW5kbGVyLCB1c2VGYWN0b3J5OiBlcnJvckhhbmRsZXIsIGRlcHM6IFtdIH0sXG4gICAgeyBwcm92aWRlOiBWaWV3VXRpbCwgdXNlQ2xhc3M6IFZpZXdVdGlsLCBkZXBzOiBbTkFNRVNQQUNFX0ZJTFRFUlMsIFtuZXcgT3B0aW9uYWwoKSwgRU5BQkxFX1JFVVNBQkVfVklFV1NdXSB9LFxuICAgIHtcbiAgICAgICAgcHJvdmlkZTogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICB1c2VDbGFzczogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICBkZXBzOiBbQVBQX1JPT1RfVklFVywgTkFNRVNQQUNFX0ZJTFRFUlMsIE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgW25ldyBPcHRpb25hbCgpLCBFTkFCTEVfUkVVU0FCRV9WSUVXU11dLFxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUmFuZG9tSWQgfSxcbiAgICB7IHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsIHVzZUV4aXN0aW5nOiBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgfSxcbiAgICB7IHByb3ZpZGU6IE5BTUVTUEFDRV9GSUxURVJTLCB1c2VDbGFzczogUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIsIGRlcHM6IFtERVZJQ0VdLCBtdWx0aTogdHJ1ZSB9LFxuICAgIHsgcHJvdmlkZTogREVWSUNFLCB1c2VWYWx1ZTogRGV2aWNlIH0sXG4gICAgeyBwcm92aWRlOiBYaHJGYWN0b3J5LCB1c2VDbGFzczogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogW10gfSxcbl07XG5jb25zdCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUyA9IFt7IHByb3ZpZGU6IFZpZXdwb3J0U2Nyb2xsZXIsIHVzZUNsYXNzOiDJtU51bGxWaWV3cG9ydFNjcm9sbGVyIH1dO1xuY2xhc3MgTmF0aXZlU2NyaXB0TW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgaWYgKHBhcmVudE1vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOYXRpdmVTY3JpcHRNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbk5hdGl2ZVNjcmlwdE1vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVTY3JpcHRNb2R1bGUsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTtcbk5hdGl2ZVNjcmlwdE1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSwgZXhwb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBEZXRhY2hlZExvYWRlciwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTtcbk5hdGl2ZVNjcmlwdE1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBwcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTXSwgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIEFwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIERldGFjaGVkTG9hZGVyLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbTmF0aXZlU2NyaXB0TW9kdWxlXVxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG5mdW5jdGlvbiBkaXNhYmxlUm9vdFZpZXdIYW5kaW5nKHZpZXcpIHtcbiAgICB2aWV3Ll9fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmcgPSB0cnVlO1xufVxuY29uc3QgcHJlQW5ndWxhckRpc3Bvc2FsJCA9IG5ldyBTdWJqZWN0KCk7XG5jb25zdCBwb3N0QW5ndWxhckJvb3RzdHJhcCQgPSBuZXcgU3ViamVjdCgpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkJlZm9yZUxpdmVzeW5jID0gcHJlQW5ndWxhckRpc3Bvc2FsJC5waXBlKGZpbHRlcigodikgPT4gdi5tb2R1bGVUeXBlID09PSAnbWFpbicgJiYgdi5yZWFzb24gPT09ICdob3RyZWxvYWQnKSwgbWFwKCh2KSA9PiB2LnJlZmVyZW5jZSkpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkFmdGVyTGl2ZXN5bmMgPSBwb3N0QW5ndWxhckJvb3RzdHJhcCQucGlwZShmaWx0ZXIoKHYpID0+IHYubW9kdWxlVHlwZSA9PT0gJ21haW4nKSwgbWFwKCh2KSA9PiAoeyBtb2R1bGVSZWY6IHYucmVmZXJlbmNlIH0pKSk7XG5pZiAoaW1wb3J0Lm1ldGFbJ3dlYnBhY2tIb3QnXSkge1xuICAgIGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10uZGVjbGluZSgpO1xuICAgIGdsb2JhbC5fX29uTGl2ZVN5bmNDb3JlID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICAvLyBhbGwgb3RoZXIgY2hhbmdlcyBhcmUgYXBwbGllZCBieSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChyZWYsIG5hbWUsIHJlYXNvbikge1xuICAgIHBvc3RBbmd1bGFyQm9vdHN0cmFwJC5uZXh0KHtcbiAgICAgICAgbW9kdWxlVHlwZTogbmFtZSxcbiAgICAgICAgcmVmZXJlbmNlOiByZWYsXG4gICAgICAgIHJlYXNvbixcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lSZWYocmVmLCBuYW1lLCByZWFzb24pIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiAncGxhdGZvcm0nLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogbmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBOZ01vZHVsZVJlZiB8fCByZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiBuYW1lLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcnVuWm9uZVN5bmNUYXNrKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ3N5bmNfZnVuY3Rpb24nLCBmbiwge30sICgpID0+IHtcbiAgICAgICAgLy9cbiAgICB9LCAoKSA9PiB7XG4gICAgICAgIC8vXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgICAgIHRhc2suaW52b2tlKCk7XG4gICAgICAgIC8vIHpvbmUucnVuVGFzayh0YXNrKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgfVxufVxuZnVuY3Rpb24gWm9uZUNhbldvcmtTeW5jKCkge1xuICAgIGxldCBjYW5SdW5TeW5jID0gZmFsc2U7XG4gICAgcnVuWm9uZVN5bmNUYXNrKCgpID0+IHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiAoY2FuUnVuU3luYyA9IHRydWUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogVGVzdHMgaWYgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSBjYW4gYmUgdXNlZCB0byBkcmFpbiBtaWNyb3Rhc2tzXG4gKiBCZWNhdXNlIG9mIFpvbmUuanMsIGV2ZW4gdGhvdWdoIHRoZSBuYXRpdmUgcXVldWUgbWlnaHQgYmUgZHJhaW5lZCwgem9uZSBtaWNyb3Rhc2tzIG1pZ2h0IG5vdCBiZVxuICogQHBhcmFtIG1ha2VUZXN0RHJhaW4gc2hvdWxkIGl0IGRyYWluIHRoZSBjdXJyZW50IG1pY3JvdGFzayBxdWV1ZSB0byBlbnN1cmUgdGhlIHF1ZXVlIGNhbiBiZSBkcmFpbmVkXG4gKiBAcmV0dXJucyBpZiBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlIGNhbiBiZSBjYWxsZWRcbiAqL1xuZnVuY3Rpb24gbmF0aXZlUXVldWVDYW5CZURyYWluZWQobWFrZVRlc3REcmFpbikge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghbWFrZVRlc3REcmFpbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGNhblJ1blN5bmMgPSBmYWxzZTtcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IChjYW5SdW5TeW5jID0gdHJ1ZSkpO1xuICAgIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUoKTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogUnVucyBhIGZ1bmN0aW9uIGluIHRoZSBtb3N0IHN5bmNocm9ub3VzIHdheSBwb3NzaWJsZVxuICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIHJ1blxuICogQHBhcmFtIGRvbmUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgZG9uZVxuICovXG5mdW5jdGlvbiBydW5TeW5jaHJvbm91c2x5KGZuLCBkb25lKSB7XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBab25lQ2FuV29ya1N5bmMoKSkge1xuICAgICAgICBydW5ab25lU3luY1Rhc2soZm4pO1xuICAgICAgICBkb25lID09PSBudWxsIHx8IGRvbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvbmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmF0aXZlUXVldWVDYW5CZURyYWluZWQodHJ1ZSkpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSgpO1xuICAgICAgICBkb25lID09PSBudWxsIHx8IGRvbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvbmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbigpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICAgIFV0aWxzLnF1ZXVlTWFjcm90YXNrKGRvbmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyc0NvbmZpZyhvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwcFByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLigoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSldLFxuICAgICAgICAvLyBwbGF0Zm9ybVByb3ZpZGVyczogSU5URVJOQUxfQlJPV1NFUl9QTEFURk9STV9QUk9WSURFUlNcbiAgICB9O1xufVxuZnVuY3Rpb24gYm9vdHN0cmFwQXBwbGljYXRpb24ocm9vdENvbXBvbmVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiDJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24oT2JqZWN0LmFzc2lnbih7IHJvb3RDb21wb25lbnQgfSwgY3JlYXRlUHJvdmlkZXJzQ29uZmlnKG9wdGlvbnMpKSk7XG59XG5mdW5jdGlvbiBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBtYWluTW9kdWxlUmVmID0gbnVsbDtcbiAgICBsZXQgbG9hZGluZ01vZHVsZVJlZjtcbiAgICBsZXQgcGxhdGZvcm1SZWYgPSBudWxsO1xuICAgIGxldCBib290c3RyYXBJZCA9IC0xO1xuICAgIGNvbnN0IHVwZGF0ZVBsYXRmb3JtUmVmID0gKG1vZHVsZVJlZiwgcmVhc29uKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BsYXRmb3JtUmVmID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChQbGF0Zm9ybVJlZik7XG4gICAgICAgIGlmIChuZXdQbGF0Zm9ybVJlZiA9PT0gcGxhdGZvcm1SZWYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95UmVmKHBsYXRmb3JtUmVmLCByZWFzb24pO1xuICAgICAgICBwbGF0Zm9ybVJlZiA9IG5ld1BsYXRmb3JtUmVmO1xuICAgICAgICBwbGF0Zm9ybVJlZi5vbkRlc3Ryb3koKCkgPT4gKHBsYXRmb3JtUmVmID0gcGxhdGZvcm1SZWYgPT09IG5ld1BsYXRmb3JtUmVmID8gbnVsbCA6IHBsYXRmb3JtUmVmKSk7XG4gICAgfTtcbiAgICBsZXQgbGF1bmNoRXZlbnREb25lID0gdHJ1ZTtcbiAgICBsZXQgdGFyZ2V0Um9vdFZpZXcgPSBudWxsO1xuICAgIGNvbnN0IHNldFJvb3RWaWV3ID0gKHJlZikgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChib290c3RyYXBJZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIHRyZWF0IGVkZ2UgY2FzZXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgTmdNb2R1bGVSZWYgfHwgcmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYpIHtcbiAgICAgICAgICAgIGlmIChyZWYuaW5qZWN0b3IuZ2V0KERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVmWydfX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nJ10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9jbG9zZUFsbE1vZGFsVmlld3NJbnRlcm5hbCgpOyAvLyBjbGVhbnVwIG9sZCByb290dmlld1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgJHtsYXVuY2hFdmVudERvbmUgPyAnb3V0c2lkZSBvZicgOiAnZHVyaW5nJ30gbGF1bmNoIGV2ZW50YCk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGZvciBsZWFrcyB3aGVuIHJvb3QgdmlldyBpc24ndCBwcm9wZXJseSBkZXN0cm95ZWRcbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyB0byAke3JlZn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKHsgY3JlYXRlOiAoKSA9PiByZWYgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXVuY2hFdmVudERvbmUpIHtcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHsgY3JlYXRlOiAoKSA9PiByZWYgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRSb290VmlldyA9IHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gcmVmLmluamVjdG9yLmdldChBUFBfUk9PVF9WSUVXKTtcbiAgICAgICAgY29uc3QgbmV3Um9vdCA9IHZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyA/IHZpZXcuY29udGVudCA6IHZpZXc7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3IHRvICR7bmV3Um9vdH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKHsgY3JlYXRlOiAoKSA9PiBuZXdSb290IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhdW5jaEV2ZW50RG9uZSkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gbmV3Um9vdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFJvb3RWaWV3ID0gbmV3Um9vdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2hvd0Vycm9yVUkgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgKyAnXFxuXFxuJyArIGVycm9yLnN0YWNrO1xuICAgICAgICBjb25zdCBlcnJvclRleHRCb3ggPSBuZXcgVGV4dFZpZXcoKTtcbiAgICAgICAgZXJyb3JUZXh0Qm94LnRleHQgPSBtZXNzYWdlO1xuICAgICAgICBlcnJvclRleHRCb3guY29sb3IgPSBuZXcgQ29sb3IoJ3JlZCcpO1xuICAgICAgICBzZXRSb290VmlldyhlcnJvclRleHRCb3gpO1xuICAgIH07XG4gICAgY29uc3QgYm9vdHN0cmFwUm9vdCA9IChyZWFzb24pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJvb3RzdHJhcElkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCb290c3RyYXBJZCA9IGJvb3RzdHJhcElkO1xuICAgICAgICAgICAgbGV0IGJvb3RzdHJhcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBydW5TeW5jaHJvbm91c2x5KCgpID0+IG9wdGlvbnMuYXBwTW9kdWxlQm9vdHN0cmFwKHJlYXNvbikudGhlbigocmVmKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtb2R1bGUgaXMgb2xkIGFuZCBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtYXkgaGFwcGVuIHdoZW4gZGV2ZWxvcGVyIHVzZXMgYXN5bmMgYXBwIGluaXRpYWxpemVyIGFuZCB0aGUgdXNlciBleGl0cyB0aGUgYXBwIGJlZm9yZSB0aGlzIGJvb3RzdHJhcHNcbiAgICAgICAgICAgICAgICAgICAgcmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYWluTW9kdWxlUmVmID0gcmVmO1xuICAgICAgICAgICAgICAgIChyZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IHJlZi5jb21wb25lbnRzWzBdIDogcmVmKS5vbkRlc3Ryb3koKCkgPT4gKG1haW5Nb2R1bGVSZWYgPSBtYWluTW9kdWxlUmVmID09PSByZWYgPyBudWxsIDogbWFpbk1vZHVsZVJlZikpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBsYXRmb3JtUmVmKHJlZiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IHJlZi5pbmplY3Rvci5nZXQoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKTtcbiAgICAgICAgICAgICAgICAocmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyByZWYuY29tcG9uZW50c1swXSA6IHJlZikub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZVRhZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvbk1haW5Cb290c3RyYXAoKTtcbiAgICAgICAgICAgICAgICBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQocmVmLCAnbWFpbicsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgLy8gYm9vdHN0cmFwcGVkIGNvbXBvbmVudDogKHJlZiBhcyBhbnkpLl9ib290c3RyYXBDb21wb25lbnRzWzBdO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGJvb3RzdHJhcHBpbmcgYXBwIG1vZHVsZTpcXG4ke2Vyci5tZXNzYWdlfVxcblxcbiR7ZXJyLnN0YWNrfWApO1xuICAgICAgICAgICAgICAgIHNob3dFcnJvclVJKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSksICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYm9vdHN0cmFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxvYWRpbmdNb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blN5bmNocm9ub3VzbHkoKCkgPT4gb3B0aW9ucy5sb2FkaW5nTW9kdWxlKHJlYXNvbikudGhlbigobG9hZGluZ1JlZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbW9kdWxlIGlzIG9sZCBhbmQgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiB3aGVuIGRldmVsb3BlciB1c2VzIGFzeW5jIGFwcCBpbml0aWFsaXplciBhbmQgdGhlIHVzZXIgZXhpdHMgdGhlIGFwcCBiZWZvcmUgdGhpcyBib290c3RyYXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdSZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb2R1bGVSZWYgPSBsb2FkaW5nUmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsb2FkaW5nTW9kdWxlUmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyBsb2FkaW5nTW9kdWxlUmVmLmNvbXBvbmVudHNbMF0gOiBsb2FkaW5nTW9kdWxlUmVmKS5vbkRlc3Ryb3koKCkgPT4gKGxvYWRpbmdNb2R1bGVSZWYgPSBsb2FkaW5nTW9kdWxlUmVmID09PSBsb2FkaW5nUmVmID8gbnVsbCA6IGxvYWRpbmdNb2R1bGVSZWYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQbGF0Zm9ybVJlZihsb2FkaW5nUmVmLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVGFnID0gbG9hZGluZ01vZHVsZVJlZi5pbmplY3Rvci5nZXQoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobG9hZGluZ01vZHVsZVJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gbG9hZGluZ01vZHVsZVJlZi5jb21wb25lbnRzWzBdIDogbG9hZGluZ01vZHVsZVJlZikub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobG9hZGluZ1JlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWxheSBzaG93aW5nIHRoZSBuZXcgcm9vdHZpZXcgdG8gYXZvaWQgZmxhc2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkaW5nU2VydmljZSA9IGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5nWm9uZSkucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nU2VydmljZS5fbm90aWZ5TWFpbk1vZHVsZVJlYWR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdTZXJ2aWNlLnJlYWR5VG9EZXN0cm95JFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5waXBlKGZpbHRlcigocmVhZHkpID0+IHJlYWR5KSwgdGFrZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0cm95UmVmKGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGJvb3RzdHJhcHBpbmcgbG9hZGluZyBtb2R1bGU6XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JVSShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmxhdW5jaFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXVuY2hWaWV3ID0gb3B0aW9ucy5sYXVuY2hWaWV3KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhsYXVuY2hWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXVuY2hWaWV3LnN0YXJ0QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBsYXVuY2ggYW5pbWF0aW9uIGlzIGV4ZWN1dGVkIGFmdGVyIGxhdW5jaFZpZXcgYWRkZWQgdG8gdmlldyBzdGFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3LnN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsYXkgc2hvd2luZyB0aGUgbmV3IHJvb3R2aWV3IHRvIGF2b2lkIGZsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXVuY2hWaWV3LmNsZWFudXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xlYW51cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FwcCBpcyBib290c3RyYXBwaW5nIGFzeW5jaHJvbm91c2x5IChsaWtlbHkgQVBQX0lOSVRJQUxJWkVSKSBidXQgZGlkIG5vdCBwcm92aWRlIGEgbGF1bmNoVmlldyBvciBMb2FkaW5nTW9kdWxlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGluIEJvb3RzdHJhcCBGdW5jdGlvbjpcXG4ke2Vyci5tZXNzYWdlfVxcblxcbiR7ZXJyLnN0YWNrfWApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlUGxhdGZvcm0gPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGRlc3Ryb3lSZWYocGxhdGZvcm1SZWYsIHJlYXNvbik7XG4gICAgICAgIHBsYXRmb3JtUmVmID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGRpc3Bvc2VMYXN0TW9kdWxlcyA9IChyZWFzb24pID0+IHtcbiAgICAgICAgLy8gcmVzZXQgYm9vdHN0cmFwIElEIHRvIG1ha2Ugc3VyZSBhbnkgbW9kdWxlcyBib290c3RyYXBwZWQgYWZ0ZXIgdGhpcyBhcmUgZGlzY2FyZGVkXG4gICAgICAgIGJvb3RzdHJhcElkID0gLTE7XG4gICAgICAgIGRlc3Ryb3lSZWYobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbnVsbDtcbiAgICAgICAgZGVzdHJveVJlZihtYWluTW9kdWxlUmVmLCAnbWFpbicsIHJlYXNvbik7XG4gICAgICAgIG1haW5Nb2R1bGVSZWYgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgbGF1bmNoQ2FsbGJhY2sgPSBwcm9maWxlKCdAbmF0aXZlc2NyaXB0L2FuZ3VsYXIvcGxhdGZvcm0tY29tbW9uLmxhdW5jaENhbGxiYWNrJywgKGFyZ3MpID0+IHtcbiAgICAgICAgbGF1bmNoRXZlbnREb25lID0gZmFsc2U7XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2FwcGxhdW5jaCcpO1xuICAgICAgICBsYXVuY2hFdmVudERvbmUgPSB0cnVlO1xuICAgICAgICBhcmdzLnJvb3QgPSB0YXJnZXRSb290VmlldyB8fCBudWxsO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4aXRDYWxsYmFjayA9IHByb2ZpbGUoJ0BuYXRpdmVzY3JpcHQvYW5ndWxhci9wbGF0Zm9ybS1jb21tb24uZXhpdENhbGxiYWNrJywgKGFyZ3MpID0+IHtcbiAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdhcHBleGl0Jyk7XG4gICAgfSk7XG4gICAgbGV0IG9sZEFkZEV2ZW50TGlzdGVuZXI7XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiAoKF9iID0gKF9hID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ldmVudHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltab25lLl9fc3ltYm9sX18oJ2FkZEV2ZW50TGlzdGVuZXInKV0pKSB7XG4gICAgICAgIG9sZEFkZEV2ZW50TGlzdGVuZXIgPSBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHNbWm9uZS5fX3N5bWJvbF9fKCdhZGRFdmVudExpc3RlbmVyJyldO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgQXBwbGljYXRpb24ub24oQXBwbGljYXRpb24ubGF1bmNoRXZlbnQsIGxhdW5jaENhbGxiYWNrKTtcbiAgICB9XG4gICAgQXBwbGljYXRpb24ub24oQXBwbGljYXRpb24uZXhpdEV2ZW50LCBleGl0Q2FsbGJhY2spO1xuICAgIGlmIChvbGRBZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyID0gb2xkQWRkRXZlbnRMaXN0ZW5lcjtcbiAgICB9XG4gICAgaWYgKGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10pIHtcbiAgICAgICAgLy8gaGFuZGxlIEhNUiBBcHBsaWNhdGlvbi5ydW5cbiAgICAgICAgZ2xvYmFsWydfX2Rpc3Bvc2VfYXBwX25nX3BsYXRmb3JtX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19kaXNwb3NlX2FwcF9uZ19tb2R1bGVzX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19ib290c3RyYXBfYXBwX25nX21vZHVsZXNfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19jbGVhbnVwX25nX2hvdF9fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5vZmYoQXBwbGljYXRpb24ubGF1bmNoRXZlbnQsIGxhdW5jaENhbGxiYWNrKTtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLm9mZihBcHBsaWNhdGlvbi5leGl0RXZlbnQsIGV4aXRDYWxsYmFjayk7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsWydfX3JlYm9vdF9uZ19tb2R1bGVzX18nXSA9IChzaG91bGREaXNwb3NlUGxhdGZvcm0gPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIGlmIChzaG91bGREaXNwb3NlUGxhdGZvcm0pIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghQXBwbGljYXRpb24uaGFzTGF1bmNoZWQoKSkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgYm9vdHN0cmFwUm9vdCgnYXBwbGF1bmNoJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBBcHBsaWNhdGlvbi5ydW4oKTtcbiAgICB9XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdFBsYXRmb3JtUmVmUHJveHkgZXh0ZW5kcyBQbGF0Zm9ybVJlZiB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0sIGxhdW5jaFZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICB0aGlzLmxhdW5jaFZpZXcgPSBsYXVuY2hWaWV3O1xuICAgIH1cbiAgICBib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgYXBwTW9kdWxlQm9vdHN0cmFwOiAoKSA9PiB0aGlzLnBsYXRmb3JtLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSksXG4gICAgICAgICAgICBsYXVuY2hWaWV3OiAoKSA9PiB0aGlzLmxhdW5jaFZpZXcsXG4gICAgICAgIH07XG4gICAgICAgIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAodGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgYXBwTW9kdWxlQm9vdHN0cmFwOiAoKSA9PiB0aGlzLnBsYXRmb3JtLmJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgICAgICBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS5vbkRlc3Ryb3koY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmluamVjdG9yO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBsYXRmb3JtLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGZvcm0uZGVzdHJveWVkO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIgPSB7IHByb3ZpZGU6IFBBR0VfRkFDVE9SWSwgdXNlVmFsdWU6IGRlZmF1bHRQYWdlRmFjdG9yeSB9O1xuY2xhc3MgTmF0aXZlU2NyaXB0U2FuaXRpemVyIGV4dGVuZHMgU2FuaXRpemVyIHtcbiAgICBzYW5pdGl6ZShfY29udGV4dCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbi8vIFRPRE86IHdoZW4gYW5ndWxhciBmaW5hbGx5IGV4cG9ydHMgdGhlaXIgc2NoZWR1bGVyIHRva2VuIGZvciBpdnkgQ0QsIHByb3ZpZGUgb3VyIG93biB3aXRoIHF1ZXVlTWFjcm9UYXNrXG4vLyBleHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVyRmFjdG9yeSgpIHtcbi8vICAgcmV0dXJuIChmbjogYW55KSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coJ1NDSEVEVUxFUicpO1xuLy8gICAgIHNldFRpbWVvdXQoZm4sIDApO1xuLy8gICB9O1xuLy8gfVxuY2xhc3MgTmF0aXZlU2NyaXB0RG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBSZXF1aXJlZCBieSB0aGUgQW5pbWF0aW9uRHJpdmVyXG4gICAgICAgIHRoaXMuYm9keSA9IHtcbiAgICAgICAgICAgIGlzT3ZlcnJpZGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQodGFnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlU2NyaXB0RG9jdW1lbnQgaXMgbm90IERPTSBEb2N1bWVudC4gVGhlcmUgaXMgbm8gY3JlYXRlRWxlbWVudCgpIG1ldGhvZC4nKTtcbiAgICB9XG59XG5jb25zdCBDT01NT05fUFJPVklERVJTID0gW2RlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyLCB7IHByb3ZpZGU6IFNhbml0aXplciwgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdFNhbml0aXplciwgZGVwczogW10gfSwgeyBwcm92aWRlOiBET0NVTUVOVCwgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdERvY3VtZW50LCBkZXBzOiBbXSB9XTtcbmNvbnN0IHBsYXRmb3JtTmF0aXZlU2NyaXB0ID0gY3JlYXRlUGxhdGZvcm1GYWN0b3J5KHBsYXRmb3JtQ29yZSwgJ25hdGl2ZXNjcmlwdER5bmFtaWMnLCBDT01NT05fUFJPVklERVJTKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAgaW5zdGVhZFxuICovXG5jb25zdCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMgPSBmdW5jdGlvbiAob3B0aW9ucywgZXh0cmFQcm92aWRlcnMpIHtcbiAgICBjb25zb2xlLmxvZygncGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljIGlzIGRlcHJlY2F0ZWQsIHVzZSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIGluc3RlYWQnKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBleHRyYVByb3ZpZGVycyA9IGV4dHJhUHJvdmlkZXJzIHx8IFtdO1xuICAgIGNvbnN0IG5nUm9vdFZpZXcgPSBuZXcgQXBwSG9zdFZpZXcobmV3IENvbG9yKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8ICd3aGl0ZScpKTtcbiAgICBsZXQgbGF1bmNoVmlldyA9IG9wdGlvbnMubGF1bmNoVmlldztcbiAgICBpZiAoIWxhdW5jaFZpZXcgJiYgb3B0aW9ucy5hc3luYykge1xuICAgICAgICBsYXVuY2hWaWV3ID0gbmV3IEdyaWRMYXlvdXQoKTtcbiAgICAgICAgbGF1bmNoVmlldy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdFBsYXRmb3JtUmVmUHJveHkocGxhdGZvcm1OYXRpdmVTY3JpcHQoWy4uLmV4dHJhUHJvdmlkZXJzXSksIGxhdW5jaFZpZXcpO1xufTtcblxuY2xhc3MgUm9vdFZpZXdQcm94eSBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRSb290TGF5b3V0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGFyZW50Um9vdExheW91dCA9IHBhcmVudFJvb3RMYXlvdXQ7XG4gICAgfVxuICAgIF9hZGRWaWV3KHZpZXcsIGF0SW5kZXgpIHtcbiAgICAgICAgc3VwZXIuX2FkZFZpZXcodmlldywgYXRJbmRleCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudFJvb3RMYXlvdXQuZ2V0Q2hpbGRJbmRleCh0aGlzKSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Um9vdExheW91dC5pbnNlcnRDaGlsZCh0aGlzLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlVmlldyh2aWV3KSB7XG4gICAgICAgIHN1cGVyLl9yZW1vdmVWaWV3KHZpZXcpO1xuICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGdlbmVyYXRlcyBhIFJvb3RMYXlvdXQgYW5kIHJldHVybnMgYSBSb290Vmlld1Byb3h5LlxuICogU2V0dGluZyBSb290Vmlld1Byb3h5LmNvbnRlbnQgd2lsbCBhZGQgdGhlIHZpZXcgdG8gdGhlIGJvdHRvbSBvZiB0aGUgUm9vdExheW91dFxuICogU2V0dGluZyBSb290Vmlld1Byb3h5LmNvbnRlbnQgPSBudWxsIHdpbGwgcmVtb3ZlIHRoZSB2aWV3IGZyb20gdGhlIFJvb3RMYXlvdXRcbiAqIEByZXR1cm5zIFJvb3RWaWV3UHJveHkgdGhhdCB3aWxsIGluc2VydCBjb250ZW50IGludG8gdGhlIHN0YXJ0IG9mIHRoZSBSb290TGF5b3V0XG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5KCkge1xuICAgIGxldCByb290VmlldyA9IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgaWYgKCFyb290VmlldyB8fCAhKHJvb3RWaWV3IGluc3RhbmNlb2YgUm9vdExheW91dCkpIHtcbiAgICAgICAgcm9vdFZpZXcgPSBuZXcgUm9vdExheW91dCgpO1xuICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHsgY3JlYXRlOiAoKSA9PiByb290VmlldyB9KTtcbiAgICB9XG4gICAgY29uc3Qgdmlld1Byb3h5ID0gbmV3IFJvb3RWaWV3UHJveHkocm9vdFZpZXcpO1xuICAgIC8vIChyb290VmlldyBhcyBSb290TGF5b3V0KS5pbnNlcnRDaGlsZCh2aWV3UHJveHksIDApO1xuICAgIHJldHVybiB2aWV3UHJveHk7XG59XG5jbGFzcyBSb290Q29tcG9zaXRlTW9kdWxlIHtcbn1cblJvb3RDb21wb3NpdGVNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5Sb290Q29tcG9zaXRlTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlIH0pO1xuUm9vdENvbXBvc2l0ZU1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSwgcHJvdmlkZXJzOiBbXG4gICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgIHsgcHJvdmlkZTogQVBQX1JPT1RfVklFVywgdXNlRmFjdG9yeTogZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkgfSxcbiAgICBdIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgdXNlVmFsdWU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQVBQX1JPT1RfVklFVywgdXNlRmFjdG9yeTogZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gZm9yIG9wZW5pbmcgYSBtb2RhbCBkaWFsb2cgd2l0aCB0aGUgTWF0RGlhbG9nIHNlcnZpY2UuXG4gKi9cbmNsYXNzIE5hdGl2ZURpYWxvZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBkaWFsb2cgaGFzIGEgYmFja2Ryb3AuICovXG4gICAgICAgIHRoaXMuaGFzQmFja2Ryb3AgPSB0cnVlO1xuICAgICAgICAvKiogV2hldGhlciB0aGUgdXNlciBjYW4gdXNlIGVzY2FwZSBvciBjbGlja2luZyBvbiB0aGUgYmFja2Ryb3AgdG8gY2xvc2UgdGhlIG1vZGFsLiAqL1xuICAgICAgICB0aGlzLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xuICAgICAgICAvKiogRGF0YSBiZWluZyBpbmplY3RlZCBpbnRvIHRoZSBjaGlsZCBjb21wb25lbnQuICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBkaWFsb2cgc2hvdWxkIGNsb3NlIHdoZW4gdGhlIHVzZXIgZ29lcyBiYWNrd2FyZHMvZm9yd2FyZHMgaW4gaGlzdG9yeS5cbiAgICAgICAgICogTm90ZSB0aGF0IHRoaXMgdXN1YWxseSBkb2Vzbid0IGluY2x1ZGUgY2xpY2tpbmcgb24gbGlua3MgKHVubGVzcyB0aGUgdXNlciBpcyB1c2luZ1xuICAgICAgICAgKiB0aGUgYEhhc2hMb2NhdGlvblN0cmF0ZWd5YCkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlT25OYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uYXRpdmVPcHRpb25zID0ge307XG4gICAgICAgIC8vIFRPRE8oamVsYm91cm4pOiBhZGQgY29uZmlndXJhdGlvbiBmb3IgbGlmZWN5Y2xlIGhvb2tzLCBBUklBIGxhYmVsbGluZy5cbiAgICB9XG59XG5cbi8vIENvdW50ZXIgZm9yIHVuaXF1ZSBkaWFsb2cgaWRzLlxubGV0IHVuaXF1ZUlkID0gMDtcbmNsYXNzIE5hdGl2ZURpYWxvZ1JlZiB7XG4gICAgY29uc3RydWN0b3IoX25hdGl2ZU1vZGFsUmVmLCBpZCA9IGBuYXRpdmUtZGlhbG9nLSR7dW5pcXVlSWQrK31gKSB7XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmID0gX25hdGl2ZU1vZGFsUmVmO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBmaW5pc2hlZCBvcGVuaW5nLiAqL1xuICAgICAgICB0aGlzLl9hZnRlck9wZW5lZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBmaW5pc2hlZCBjbG9zaW5nLiAqL1xuICAgICAgICB0aGlzLl9hZnRlckNsb3NlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBzdGFydGVkIGNsb3NpbmcuICovXG4gICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBDdXJyZW50IHN0YXRlIG9mIHRoZSBkaWFsb2cuICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gMCAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5PUEVOICovO1xuICAgICAgICAvLyBQYXNzIHRoZSBpZCBhbG9uZyB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuX2lkID0gaWQ7XG4gICAgICAgIC8vIEVtaXQgd2hlbiBvcGVuaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLnN0YXRlQ2hhbmdlZFxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChldmVudCkgPT4gZXZlbnQuc3RhdGUgPT09ICdvcGVuZWQnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQubmV4dCgpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERpc3Bvc2Ugb3ZlcmxheSB3aGVuIGNsb3NpbmcgYW5pbWF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnY2xvc2VkJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jbG9zZUZhbGxiYWNrVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2hEaWFsb2dDbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5vbkRpc21pc3Muc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudEluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIF9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZXN1bHQgT3B0aW9uYWwgcmVzdWx0IHRvIHJldHVybiB0byB0aGUgZGlhbG9nIG9wZW5lci5cbiAgICAgKi9cbiAgICBjbG9zZShkaWFsb2dSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gZGlhbG9nUmVzdWx0O1xuICAgICAgICAvLyBUcmFuc2l0aW9uIHRoZSBiYWNrZHJvcCBpbiBwYXJhbGxlbCB0byB0aGUgZGlhbG9nLlxuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnY2xvc2luZycpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5uZXh0KGRpYWxvZ1Jlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYuZGV0YWNoQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIC8vIFRoZSBsb2dpYyB0aGF0IGRpc3Bvc2VzIG9mIHRoZSBvdmVybGF5IGRlcGVuZHMgb24gdGhlIGV4aXQgYW5pbWF0aW9uIGNvbXBsZXRpbmcsIGhvd2V2ZXJcbiAgICAgICAgICAgIC8vIGl0IGlzbid0IGd1YXJhbnRlZWQgaWYgdGhlIHBhcmVudCB2aWV3IGlzIGRlc3Ryb3llZCB3aGlsZSBpdCdzIHJ1bm5pbmcuIEFkZCBhIGZhbGxiYWNrXG4gICAgICAgICAgICAvLyB0aW1lb3V0IHdoaWNoIHdpbGwgY2xlYW4gZXZlcnl0aGluZyB1cCBpZiB0aGUgYW5pbWF0aW9uIGhhc24ndCBmaXJlZCB3aXRoaW4gdGhlIHNwZWNpZmllZFxuICAgICAgICAgICAgLy8gYW1vdW50IG9mIHRpbWUgcGx1cyAxMDBtcy4gV2UgZG9uJ3QgbmVlZCB0byBydW4gdGhpcyBvdXRzaWRlIHRoZSBOZ1pvbmUsIGJlY2F1c2UgZm9yIHRoZVxuICAgICAgICAgICAgLy8gdmFzdCBtYWpvcml0eSBvZiBjYXNlcyB0aGUgdGltZW91dCB3aWxsIGhhdmUgYmVlbiBjbGVhcmVkIGJlZm9yZSBpdCBoYXMgdGhlIGNoYW5jZSB0byBmaXJlLlxuICAgICAgICAgICAgdGhpcy5fY2xvc2VGYWxsYmFja1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2hEaWFsb2dDbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAvL2V2ZW50LnRvdGFsVGltZSArIDEwMCk7XG4gICAgICAgICAgICAxMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAxIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLkNMT1NJTkcgKi87XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLl9zdGFydEV4aXRBbmltYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGlzIGZpbmlzaGVkIG9wZW5pbmcuXG4gICAgICovXG4gICAgYWZ0ZXJPcGVuZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZnRlck9wZW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGlzIGZpbmlzaGVkIGNsb3NpbmcuXG4gICAgICovXG4gICAgYWZ0ZXJDbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZnRlckNsb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGhhcyBzdGFydGVkIGNsb3NpbmcuXG4gICAgICovXG4gICAgYmVmb3JlQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmVmb3JlQ2xvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9ic2VydmFibGUgdGhhdCBlbWl0cyB3aGVuIHRoZSBvdmVybGF5J3MgYmFja2Ryb3AgaGFzIGJlZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICBiYWNrZHJvcENsaWNrKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgLyoqIEFkZCBhIENTUyBjbGFzcyBvciBhbiBhcnJheSBvZiBjbGFzc2VzIHRvIHRoZSBvdmVybGF5IHBhbmUuICovXG4gICAgYWRkUGFuZWxDbGFzcyhjbGFzc2VzKSB7XG4gICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYuYWRkUGFuZWxDbGFzcyhjbGFzc2VzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBSZW1vdmUgYSBDU1MgY2xhc3Mgb3IgYW4gYXJyYXkgb2YgY2xhc3NlcyBmcm9tIHRoZSBvdmVybGF5IHBhbmUuICovXG4gICAgcmVtb3ZlUGFuZWxDbGFzcyhjbGFzc2VzKSB7XG4gICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYucmVtb3ZlUGFuZWxDbGFzcyhjbGFzc2VzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkaWFsb2cncyBsaWZlY3ljbGUuICovXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGRpYWxvZyBjbG9zZSBieSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZ1xuICAgICAqIGFuZCBkaXNwb3NpbmcgdGhlIG92ZXJsYXkuXG4gICAgICovXG4gICAgX2ZpbmlzaERpYWxvZ0Nsb3NlKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDIgLyogTmF0aXZlRGlhbG9nU3RhdGUuQ0xPU0VEICovO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgfVxufVxuXG5sZXQgTmF0aXZlTW9kYWxSZWYgPSBjbGFzcyBOYXRpdmVNb2RhbFJlZiB7XG4gICAgY29uc3RydWN0b3IoX2NvbmZpZywgX2luamVjdG9yLCBsb2NhdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5vbkRpc21pc3MgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLl9pc0Rpc21pc3NlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGFyZW50VmlldyA9ICgoX2EgPSB0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVsZW1lbnQubmF0aXZlRWxlbWVudCkgfHwgQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKTtcbiAgICAgICAgaWYgKChwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgfHwgcGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RBc3luY1ZpZXcpICYmIHBhcmVudFZpZXcubmdBcHBSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5uZ0FwcFJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gX25nRGlhbG9nUm9vdCBpcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHByZXZpb3VzbHkgZGV0YWNoZWQgcHJveHkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBoYXZlICd2aWV3Q29udHJvbGxlcicgKGlPUykgb3IgJ19kaWFsb2dGcmFnbWVudCcgKEFuZHJvaWQpIGF2YWlsYWJsZSBmb3JcbiAgICAgICAgLy8gcHJlc2VudGluZyBmdXR1cmUgbW9kYWwgdmlld3MuXG4gICAgICAgIHdoaWxlIChwYXJlbnRWaWV3Ll9tb2RhbCB8fCBwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Ll9tb2RhbCB8fCBwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3ID0gcGFyZW50VmlldztcbiAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjayA9IG9uY2UoKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zaW5nJyB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNEaXNtaXNzZWQpIHtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgKChfYyA9IHRoaXMubG9jYXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKSk7XG4gICAgICAgICAgICAvLyB0aGlzLmRldGFjaGVkTG9hZGVyUmVmPy5kZXN0cm95KCk7XG4gICAgICAgICAgICBpZiAoKF9kID0gdGhpcy5tb2RhbFZpZXdSZWYpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5maXJzdE5hdGl2ZUxpa2VWaWV3LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgZnJvbUV2ZW50KHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsICd1bmxvYWRlZCcpXG4gICAgICAgICAgICAgICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2VkJyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zZWQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIF9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyKHZjUmVmKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gKHRoaXMuX2NvbmZpZy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5faW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgaWYgKHZjUmVmKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmID0gdmNSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZSgoKF9hID0gdGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmplY3RvcikgfHwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKS5hdHRhY2hWaWV3KHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBhdHRhY2hUZW1wbGF0ZVBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICBjb25zdCB2Y1JlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmIHx8IHRoaXMuX2NvbmZpZy52aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLl9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyKHZjUmVmKTtcbiAgICAgICAgcG9ydGFsLnZpZXdDb250YWluZXJSZWYgPSB0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjO1xuICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCB0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpLCB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmVmID0gdGhpcy5wb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmID0gbmV3IE5nVmlld1JlZih0ZW1wbGF0ZVJlZik7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXdbJ19fbmdfbW9kYWxfaWRfXyddID0gdGhpcy5faWQ7XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICBjb25zdCB1c2VyT3B0aW9ucyA9IHRoaXMuX2NvbmZpZy5uYXRpdmVPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnBhcmVudFZpZXcuc2hvd01vZGFsKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGNvbnRleHQ6IG51bGwgfSwgdXNlck9wdGlvbnMpLCB7IGNsb3NlQ2FsbGJhY2s6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgeWllbGQgKChfYSA9IHRoaXMubG9jYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSwgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UgfSkpO1xuICAgICAgICAvLyAgIGlmICh0aGlzLm1vZGFsVmlldyAhPT0gdGVtcGxhdGVSZWYucm9vdE5vZGVzWzBdKSB7XG4gICAgICAgIC8vICAgICBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudC5fbmdEaWFsb2dSb290ID0gdGhpcy5tb2RhbFZpZXc7XG4gICAgICAgIC8vICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGVSZWY7XG4gICAgfVxuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCB0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpLCB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcgIT09IHRoaXMubW9kYWxWaWV3UmVmLnZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLnZpZXcuX25nRGlhbG9nUm9vdCA9IHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlld1snX19uZ19tb2RhbF9pZF9fJ10gPSB0aGlzLl9pZDtcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgIGNvbnN0IHVzZXJPcHRpb25zID0gdGhpcy5fY29uZmlnLm5hdGl2ZU9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMucGFyZW50Vmlldy5zaG93TW9kYWwodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgY29udGV4dDogbnVsbCB9LCB1c2VyT3B0aW9ucyksIHsgY2xvc2VDYWxsYmFjazogKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzRGlzbWlzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7IC8vIGNsb3NlIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLCBzbyB3ZSBjYWxsIGl0IGhlcmUgdG8gc2V0dXAgdGhlIGV4aXQgZXZlbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSwgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UgfSkpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBfc3RhcnRFeGl0QW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgc3RhcnRNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50VmlldyBpbnN0YW5jZW9mIEZyYW1lID8gdGhpcy5wYXJlbnRWaWV3IDogKChfYiA9IChfYSA9IHRoaXMucGFyZW50VmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhZ2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mcmFtZSkgfHwgRnJhbWUudG9wbW9zdCgpO1xuICAgICAgICAoX2MgPSB0aGlzLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKTtcbiAgICB9XG59O1xuTmF0aXZlTW9kYWxSZWYgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDIsIE9wdGlvbmFsKCkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbTmF0aXZlRGlhbG9nQ29uZmlnLCBJbmplY3RvciwgTlNMb2NhdGlvblN0cmF0ZWd5XSlcbl0sIE5hdGl2ZU1vZGFsUmVmKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogSW5qZWN0aW9uIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBkYXRhIHRoYXQgd2FzIHBhc3NlZCBpbiB0byBhIGRpYWxvZy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREFUQSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlRGlhbG9nRGF0YScpO1xuLyoqIEluamVjdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgZGVmYXVsdCBkaWFsb2cgb3B0aW9ucy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TID0gbmV3IEluamVjdGlvblRva2VuKCduYXRpdmUtZGlhbG9nLWRlZmF1bHQtb3B0aW9ucycpO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBkaWFsb2cgc2VydmljZXMuIFRoZSBiYXNlIGRpYWxvZyBzZXJ2aWNlIGFsbG93c1xuICogZm9yIGFyYml0cmFyeSBkaWFsb2cgcmVmcyBhbmQgZGlhbG9nIGNvbnRhaW5lciBjb21wb25lbnRzLlxuICovXG5jbGFzcyBfTmF0aXZlRGlhbG9nQmFzZSB7XG4gICAgLyoqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLiAqL1xuICAgIGdldCBvcGVuRGlhbG9ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudERpYWxvZyA/IHRoaXMuX3BhcmVudERpYWxvZy5vcGVuRGlhbG9ncyA6IHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGEgZGlhbG9nIGhhcyBiZWVuIG9wZW5lZC4gKi9cbiAgICBnZXQgYWZ0ZXJPcGVuZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnREaWFsb2cgPyB0aGlzLl9wYXJlbnREaWFsb2cuYWZ0ZXJPcGVuZWQgOiB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsO1xuICAgIH1cbiAgICBfZ2V0QWZ0ZXJBbGxDbG9zZWQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3BhcmVudERpYWxvZztcbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKSA6IHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKF9pbmplY3RvciwgX2RlZmF1bHRPcHRpb25zLCBfcGFyZW50RGlhbG9nLCBfZGlhbG9nUmVmQ29uc3RydWN0b3IsIF9uYXRpdmVNb2RhbFR5cGUsIF9kaWFsb2dEYXRhVG9rZW4sIGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRPcHRpb25zID0gX2RlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLl9wYXJlbnREaWFsb2cgPSBfcGFyZW50RGlhbG9nO1xuICAgICAgICB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvciA9IF9kaWFsb2dSZWZDb25zdHJ1Y3RvcjtcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxUeXBlID0gX25hdGl2ZU1vZGFsVHlwZTtcbiAgICAgICAgdGhpcy5fZGlhbG9nRGF0YVRva2VuID0gX2RpYWxvZ0RhdGFUb2tlbjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCA9IFtdO1xuICAgICAgICB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8vIFRPRE8gKGplbGJvdXJuKTogdGlnaHRlbiB0aGUgdHlwaW5nIHJpZ2h0LWhhbmQgc2lkZSBvZiB0aGlzIGV4cHJlc3Npb24uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFsbCBvcGVuIGRpYWxvZyBoYXZlIGZpbmlzaGVkIGNsb3NpbmcuXG4gICAgICAgICAqIFdpbGwgZW1pdCBvbiBzdWJzY3JpYmUgaWYgdGhlcmUgYXJlIG5vIG9wZW4gZGlhbG9ncyB0byBiZWdpbiB3aXRoLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZnRlckFsbENsb3NlZCA9IGRlZmVyKCgpID0+ICh0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aCA/IHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkgOiB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpLnBpcGUoc3RhcnRXaXRoKHVuZGVmaW5lZCkpKSk7XG4gICAgfVxuICAgIG9wZW4oY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IF9hcHBseUNvbmZpZ0RlZmF1bHRzKGNvbmZpZywgdGhpcy5fZGVmYXVsdE9wdGlvbnMgfHwgbmV3IE5hdGl2ZURpYWxvZ0NvbmZpZygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pZCAmJiB0aGlzLmdldERpYWxvZ0J5SWQoY29uZmlnLmlkKSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYERpYWxvZyB3aXRoIGlkIFwiJHtjb25maWcuaWR9XCIgZXhpc3RzIGFscmVhZHkuIFRoZSBkaWFsb2cgaWQgbXVzdCBiZSB1bmlxdWUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gdGhpcy5fYXR0YWNoRGlhbG9nQ29udGVudChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcpO1xuICAgICAgICB0aGlzLm9wZW5EaWFsb2dzLnB1c2goZGlhbG9nUmVmKTtcbiAgICAgICAgZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3JlbW92ZU9wZW5EaWFsb2coZGlhbG9nUmVmKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJPcGVuZWQubmV4dChkaWFsb2dSZWYpO1xuICAgICAgICAvLyBOb3RpZnkgdGhlIGRpYWxvZyBjb250YWluZXIgdGhhdCB0aGUgY29udGVudCBoYXMgYmVlbiBhdHRhY2hlZC5cbiAgICAgICAgLy8gZGlhbG9nQ29udGFpbmVyLl9pbml0aWFsaXplV2l0aEF0dGFjaGVkQ29udGVudCgpO1xuICAgICAgICByZXR1cm4gZGlhbG9nUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgYWxsIG9mIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLlxuICAgICAqL1xuICAgIGNsb3NlQWxsKCkge1xuICAgICAgICB0aGlzLl9jbG9zZURpYWxvZ3ModGhpcy5vcGVuRGlhbG9ncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFuIG9wZW4gZGlhbG9nIGJ5IGl0cyBpZC5cbiAgICAgKiBAcGFyYW0gaWQgSUQgdG8gdXNlIHdoZW4gbG9va2luZyB1cCB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIGdldERpYWxvZ0J5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BlbkRpYWxvZ3MuZmluZCgoZGlhbG9nKSA9PiBkaWFsb2cuaWQgPT09IGlkKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIC8vIE9ubHkgY2xvc2UgdGhlIGRpYWxvZ3MgYXQgdGhpcyBsZXZlbCBvbiBkZXN0cm95XG4gICAgICAgIC8vIHNpbmNlIHRoZSBwYXJlbnQgc2VydmljZSBtYXkgc3RpbGwgYmUgYWN0aXZlLlxuICAgICAgICB0aGlzLl9jbG9zZURpYWxvZ3ModGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCk7XG4gICAgICAgIHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWwuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgdXNlci1wcm92aWRlZCBjb21wb25lbnQgdG8gdGhlIGFscmVhZHktY3JlYXRlZCBkaWFsb2cgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSBjb21wb25lbnRPclRlbXBsYXRlUmVmIFRoZSB0eXBlIG9mIGNvbXBvbmVudCBiZWluZyBsb2FkZWQgaW50byB0aGUgZGlhbG9nLFxuICAgICAqICAgICBvciBhIFRlbXBsYXRlUmVmIHRvIGluc3RhbnRpYXRlIGFzIHRoZSBjb250ZW50LlxuICAgICAqIEBwYXJhbSBkaWFsb2dDb250YWluZXIgUmVmZXJlbmNlIHRvIHRoZSB3cmFwcGluZyBkaWFsb2cgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSBvdmVybGF5UmVmIFJlZmVyZW5jZSB0byB0aGUgb3ZlcmxheSBpbiB3aGljaCB0aGUgZGlhbG9nIHJlc2lkZXMuXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgZGlhbG9nIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byB0aGUgTWF0RGlhbG9nUmVmIHRoYXQgc2hvdWxkIGJlIHJldHVybmVkIHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIF9hdHRhY2hEaWFsb2dDb250ZW50KGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZykge1xuICAgICAgICAvLyBDcmVhdGUgYSByZWZlcmVuY2UgdG8gdGhlIGRpYWxvZyB3ZSdyZSBjcmVhdGluZyBpbiBvcmRlciB0byBnaXZlIHRoZSB1c2VyIGEgaGFuZGxlXG4gICAgICAgIC8vIHRvIG1vZGlmeSBhbmQgY2xvc2UgaXQuXG4gICAgICAgIGNvbnN0IG5hdGl2ZU1vZGFsUmVmID0gbmV3IHRoaXMuX25hdGl2ZU1vZGFsVHlwZShjb25maWcsIHRoaXMuX2luamVjdG9yLCB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kpO1xuICAgICAgICBjb25zdCBkaWFsb2dSZWYgPSBuZXcgdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IobmF0aXZlTW9kYWxSZWYsIGNvbmZpZy5pZCk7XG4gICAgICAgIGlmIChjb21wb25lbnRPclRlbXBsYXRlUmVmIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSBvcHRpb25zLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIC8vICAgICBpZihvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5LCAwLCBjaGlsZEluamVjdG9yLCBudWxsKTtcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoY2hpbGRJbmplY3Rvcik7IC8vIHRoaXMgRGV0YWNoZWRMb2FkZXIgaXMgKipjb21wbGV0ZWx5KiogZGV0YWNoZWRcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7IC8vIHdlIGF0dGFjaCBpdCB0byB0aGUgYXBwbGljYXRpb25SZWYsIHNvIGl0IGJlY29tZXMgYSBcInJvb3RcIiB2aWV3IGluIGFuZ3VsYXIncyBoaWVyYXJjaHlcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpOyAvLyBmb3JjZSBhIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS5jcmVhdGVUZW1wbGF0ZVBvcnRhbChvcHRpb25zLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgIG5hdGl2ZU1vZGFsUmVmLmF0dGFjaFRlbXBsYXRlUG9ydGFsKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIG5ldyBUZW1wbGF0ZVBvcnRhbChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBudWxsLCB7ICRpbXBsaWNpdDogY29uZmlnLmRhdGEsIGRpYWxvZ1JlZiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuX2NyZWF0ZUluamVjdG9yKGNvbmZpZywgZGlhbG9nUmVmKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRSZWYgPSBuYXRpdmVNb2RhbFJlZi5hdHRhY2hDb21wb25lbnRQb3J0YWwobmV3IENvbXBvbmVudFBvcnRhbChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcudmlld0NvbnRhaW5lclJlZiwgaW5qZWN0b3IpKTtcbiAgICAgICAgICAgIGRpYWxvZ1JlZi5jb21wb25lbnRJbnN0YW5jZSA9IGNvbnRlbnRSZWYuaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpYWxvZ1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGN1c3RvbSBpbmplY3RvciB0byBiZSB1c2VkIGluc2lkZSB0aGUgZGlhbG9nLiBUaGlzIGFsbG93cyBhIGNvbXBvbmVudCBsb2FkZWQgaW5zaWRlXG4gICAgICogb2YgYSBkaWFsb2cgdG8gY2xvc2UgaXRzZWxmIGFuZCwgb3B0aW9uYWxseSwgdG8gcmV0dXJuIGEgdmFsdWUuXG4gICAgICogQHBhcmFtIGNvbmZpZyBDb25maWcgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVmIFJlZmVyZW5jZSB0byB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dDb250YWluZXIgRGlhbG9nIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgd3JhcHMgYWxsIG9mIHRoZSBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3VzdG9tIGluamVjdG9yIHRoYXQgY2FuIGJlIHVzZWQgaW5zaWRlIHRoZSBkaWFsb2cuXG4gICAgICovXG4gICAgX2NyZWF0ZUluamVjdG9yKGNvbmZpZywgZGlhbG9nUmVmKSB7XG4gICAgICAgIGNvbnN0IHVzZXJJbmplY3RvciA9IGNvbmZpZyAmJiBjb25maWcudmlld0NvbnRhaW5lclJlZiAmJiBjb25maWcudmlld0NvbnRhaW5lclJlZi5pbmplY3RvcjtcbiAgICAgICAgLy8gVGhlIGRpYWxvZyBjb250YWluZXIgc2hvdWxkIGJlIHByb3ZpZGVkIGFzIHRoZSBkaWFsb2cgY29udGFpbmVyIGFuZCB0aGUgZGlhbG9nJ3NcbiAgICAgICAgLy8gY29udGVudCBhcmUgY3JlYXRlZCBvdXQgb2YgdGhlIHNhbWUgYFZpZXdDb250YWluZXJSZWZgIGFuZCBhcyBzdWNoLCBhcmUgc2libGluZ3NcbiAgICAgICAgLy8gZm9yIGluamVjdG9yIHB1cnBvc2VzLiBUbyBhbGxvdyB0aGUgaGllcmFyY2h5IHRoYXQgaXMgZXhwZWN0ZWQsIHRoZSBkaWFsb2dcbiAgICAgICAgLy8gY29udGFpbmVyIGlzIGV4cGxpY2l0bHkgcHJvdmlkZWQgaW4gdGhlIGluamVjdG9yLlxuICAgICAgICBjb25zdCBwcm92aWRlcnMgPSBbXG4gICAgICAgICAgICB7IHByb3ZpZGU6IHRoaXMuX2RpYWxvZ0RhdGFUb2tlbiwgdXNlVmFsdWU6IGNvbmZpZy5kYXRhIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IHRoaXMuX2RpYWxvZ1JlZkNvbnN0cnVjdG9yLCB1c2VWYWx1ZTogZGlhbG9nUmVmIH0sXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBJbmplY3Rvci5jcmVhdGUoeyBwYXJlbnQ6IHVzZXJJbmplY3RvciB8fCB0aGlzLl9pbmplY3RvciwgcHJvdmlkZXJzIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZGlhbG9nIGZyb20gdGhlIGFycmF5IG9mIG9wZW4gZGlhbG9ncy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVmIERpYWxvZyB0byBiZSByZW1vdmVkLlxuICAgICAqL1xuICAgIF9yZW1vdmVPcGVuRGlhbG9nKGRpYWxvZ1JlZikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub3BlbkRpYWxvZ3MuaW5kZXhPZihkaWFsb2dSZWYpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRGlhbG9ncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgLy8gSWYgYWxsIHRoZSBkaWFsb2dzIHdlcmUgY2xvc2VkLCByZW1vdmUvcmVzdG9yZSB0aGUgYGFyaWEtaGlkZGVuYFxuICAgICAgICAgICAgLy8gdG8gYSB0aGUgc2libGluZ3MgYW5kIGVtaXQgdG8gdGhlIGBhZnRlckFsbENsb3NlZGAgc3RyZWFtLlxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBDbG9zZXMgYWxsIG9mIHRoZSBkaWFsb2dzIGluIGFuIGFycmF5LiAqL1xuICAgIF9jbG9zZURpYWxvZ3MoZGlhbG9ncykge1xuICAgICAgICBsZXQgaSA9IGRpYWxvZ3MubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAvLyBUaGUgYF9vcGVuRGlhbG9nc2AgcHJvcGVydHkgaXNuJ3QgdXBkYXRlZCBhZnRlciBjbG9zZSB1bnRpbCB0aGUgcnhqcyBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgIC8vIHJ1bnMgb24gdGhlIG5leHQgbWljcm90YXNrLCBpbiBhZGRpdGlvbiB0byBtb2RpZnlpbmcgdGhlIGFycmF5IGFzIHdlJ3JlIGdvaW5nXG4gICAgICAgICAgICAvLyB0aHJvdWdoIGl0LiBXZSBsb29wIHRocm91Z2ggYWxsIG9mIHRoZW0gYW5kIGNhbGwgY2xvc2Ugd2l0aG91dCBhc3N1bWluZyB0aGF0XG4gICAgICAgICAgICAvLyB0aGV5J2xsIGJlIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBpbnN0YW50YW5lb3VzbHkuXG4gICAgICAgICAgICBkaWFsb2dzW2ldLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fTmF0aXZlRGlhbG9nQmFzZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgZGVwczogXCJpbnZhbGlkXCIsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuX05hdGl2ZURpYWxvZ0Jhc2UuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkluamVjdG9yIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTAuVHlwZSB9LCB7IHR5cGU6IGkwLlR5cGUgfSwgeyB0eXBlOiBpMC5JbmplY3Rpb25Ub2tlbiB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XTsgfSB9KTtcbi8qKlxuICogU2VydmljZSB0byBvcGVuIE1hdGVyaWFsIERlc2lnbiBtb2RhbCBkaWFsb2dzLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dTZXJ2aWNlIGV4dGVuZHMgX05hdGl2ZURpYWxvZ0Jhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGluamVjdG9yLCBkZWZhdWx0T3B0aW9ucywgcGFyZW50RGlhbG9nLCBsb2NhdGlvbikge1xuICAgICAgICBzdXBlcihpbmplY3RvciwgZGVmYXVsdE9wdGlvbnMsIHBhcmVudERpYWxvZywgTmF0aXZlRGlhbG9nUmVmLCBOYXRpdmVNb2RhbFJlZiwgTkFUSVZFX0RJQUxPR19EQVRBLCBsb2NhdGlvbik7XG4gICAgfVxufVxuTmF0aXZlRGlhbG9nU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogaTAuSW5qZWN0b3IgfSwgeyB0b2tlbjogTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5OYXRpdmVEaWFsb2dTZXJ2aWNlLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTAuSW5qZWN0b3IgfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dDb25maWcsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlNdXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFNraXBTZWxmXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcbi8qKlxuICogQXBwbGllcyBkZWZhdWx0IG9wdGlvbnMgdG8gdGhlIGRpYWxvZyBjb25maWcuXG4gKiBAcGFyYW0gY29uZmlnIENvbmZpZyB0byBiZSBtb2RpZmllZC5cbiAqIEBwYXJhbSBkZWZhdWx0T3B0aW9ucyBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQuXG4gKiBAcmV0dXJucyBUaGUgbmV3IGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBfYXBwbHlDb25maWdEZWZhdWx0cyhjb25maWcsIGRlZmF1bHRPcHRpb25zKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBjb25maWcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQnV0dG9uIHRoYXQgd2lsbCBjbG9zZSB0aGUgY3VycmVudCBkaWFsb2cuXG4gKi9cbmNsYXNzIE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLyBUaGUgZGlhbG9nIHRpdGxlIGRpcmVjdGl2ZSBpcyBhbHdheXMgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIGEgYE1hdERpYWxvZ1JlZmAuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBsaWdodHdlaWdodC10b2tlbnNcbiAgICBkaWFsb2dSZWYsIF9lbGVtZW50UmVmLCBfZGlhbG9nKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nUmVmID0gZGlhbG9nUmVmO1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmID0gX2VsZW1lbnRSZWY7XG4gICAgICAgIHRoaXMuX2RpYWxvZyA9IF9kaWFsb2c7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlhbG9nUmVmKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMgZGlyZWN0aXZlIGlzIGluY2x1ZGVkIGluIGEgZGlhbG9nIHZpYSBUZW1wbGF0ZVJlZiAocmF0aGVyIHRoYW4gYmVpbmdcbiAgICAgICAgICAgIC8vIGluIGEgQ29tcG9uZW50KSwgdGhlIERpYWxvZ1JlZiBpc24ndCBhdmFpbGFibGUgdmlhIGluamVjdGlvbiBiZWNhdXNlIGVtYmVkZGVkXG4gICAgICAgICAgICAvLyB2aWV3cyBjYW5ub3QgYmUgZ2l2ZW4gYSBjdXN0b20gaW5qZWN0b3IuIEluc3RlYWQsIHdlIGxvb2sgdXAgdGhlIERpYWxvZ1JlZiBieVxuICAgICAgICAgICAgLy8gSUQuIFRoaXMgbXVzdCBvY2N1ciBpbiBgb25Jbml0YCwgYXMgdGhlIElEIGJpbmRpbmcgZm9yIHRoZSBkaWFsb2cgY29udGFpbmVyIHdvbid0XG4gICAgICAgICAgICAvLyBiZSByZXNvbHZlZCBhdCBjb25zdHJ1Y3RvciB0aW1lLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHRoaXMuZGlhbG9nUmVmID0gZ2V0Q2xvc2VzdERpYWxvZyh0aGlzLl9lbGVtZW50UmVmLCB0aGlzLl9kaWFsb2cub3BlbkRpYWxvZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgY29uc3QgcHJveGllZENoYW5nZSA9IGNoYW5nZXNbJ19tYXREaWFsb2dDbG9zZSddIHx8IGNoYW5nZXNbJ19tYXREaWFsb2dDbG9zZVJlc3VsdCddO1xuICAgICAgICBpZiAocHJveGllZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2dSZXN1bHQgPSBwcm94aWVkQ2hhbmdlLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25CdXR0b25DbGljaygpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5hdGUgdGhlIGZvY3VzIG9yaWdpbiB1c2luZyB0aGUgY2xpY2sgZXZlbnQsIGJlY2F1c2UgdXNpbmcgdGhlIEZvY3VzTW9uaXRvciB3aWxsXG4gICAgICAgIC8vIHJlc3VsdCBpbiBpbmNvcnJlY3Qgb3JpZ2lucy4gTW9zdCBvZiB0aGUgdGltZSwgY2xvc2UgYnV0dG9ucyB3aWxsIGJlIGF1dG8gZm9jdXNlZCBpbiB0aGVcbiAgICAgICAgLy8gZGlhbG9nLCBhbmQgdGhlcmVmb3JlIGNsaWNraW5nIHRoZSBidXR0b24gd29uJ3QgcmVzdWx0IGluIGEgZm9jdXMgY2hhbmdlLiBUaGlzIG1lYW5zIHRoYXRcbiAgICAgICAgLy8gdGhlIEZvY3VzTW9uaXRvciB3b24ndCBkZXRlY3QgYW55IG9yaWdpbiBjaGFuZ2UsIGFuZCB3aWxsIGFsd2F5cyBvdXRwdXQgYHByb2dyYW1gLlxuICAgICAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSh0aGlzLmRpYWxvZ1Jlc3VsdCk7XG4gICAgfVxufVxuTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVEaWFsb2dSZWYsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogTmF0aXZlRGlhbG9nU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5OYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW25hdGl2ZS1kaWFsb2ctY2xvc2VdLCBbbmF0aXZlRGlhbG9nQ2xvc2VdXCIsIGlucHV0czogeyBkaWFsb2dSZXN1bHQ6IFtcIm5hdGl2ZS1kaWFsb2ctY2xvc2VcIiwgXCJkaWFsb2dSZXN1bHRcIl0sIF9tYXREaWFsb2dDbG9zZTogW1wibmF0aXZlRGlhbG9nQ2xvc2VcIiwgXCJfbWF0RGlhbG9nQ2xvc2VcIl0gfSwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ0YXBcIjogXCJfb25CdXR0b25DbGljaygpXCIgfSB9LCBleHBvcnRBczogW1wibmF0aXZlRGlhbG9nQ2xvc2VcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25hdGl2ZS1kaWFsb2ctY2xvc2VdLCBbbmF0aXZlRGlhbG9nQ2xvc2VdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICduYXRpdmVEaWFsb2dDbG9zZScsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBOYXRpdmVEaWFsb2dSZWYsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH1dO1xuICAgIH0sIHByb3BEZWNvcmF0b3JzOiB7IGRpYWxvZ1Jlc3VsdDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25hdGl2ZS1kaWFsb2ctY2xvc2UnXVxuICAgICAgICAgICAgfV0sIF9tYXREaWFsb2dDbG9zZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25hdGl2ZURpYWxvZ0Nsb3NlJ11cbiAgICAgICAgICAgIH1dLCBfb25CdXR0b25DbGljazogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgYXJnczogWyd0YXAnXVxuICAgICAgICAgICAgfV0gfSB9KTtcbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgTWF0RGlhbG9nUmVmIHRvIGFuIGVsZW1lbnQgYnkgbG9va2luZyBhdCB0aGUgRE9NLlxuICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCByZWxhdGl2ZSB0byB3aGljaCB0byBsb29rIGZvciBhIGRpYWxvZy5cbiAqIEBwYXJhbSBvcGVuRGlhbG9ncyBSZWZlcmVuY2VzIHRvIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLlxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0RGlhbG9nKGVsZW1lbnQsIG9wZW5EaWFsb2dzKSB7XG4gICAgbGV0IHZpZXcgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQucGFyZW50O1xuICAgIHdoaWxlICh2aWV3ICYmICFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2aWV3LCAnX19uZ19tb2RhbF9pZF9fJykpIHtcbiAgICAgICAgdmlldyA9IHZpZXcucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gdmlldyA/IG9wZW5EaWFsb2dzLmZpbmQoKGRpYWxvZykgPT4gZGlhbG9nLmlkID09PSB2aWV3WydfX25nX21vZGFsX2lkX18nXSkgOiBudWxsO1xufVxuXG5jbGFzcyBOYXRpdmVEaWFsb2dNb2R1bGUge1xufVxuTmF0aXZlRGlhbG9nTW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVEaWFsb2dNb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVjbGFyYXRpb25zOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLCBleHBvcnRzOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdIH0pO1xuTmF0aXZlRGlhbG9nTW9kdWxlLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIHByb3ZpZGVyczogW05hdGl2ZURpYWxvZ1NlcnZpY2VdIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOYXRpdmVEaWFsb2dTZXJ2aWNlXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLy8gQWxsb3dzIGdyZWF0ZXIgZmxleGliaWxpdHkgd2l0aCBgZmlsZS1zeXN0ZW1gIGFuZCBBbmd1bGFyXG4vLyBBbHNvIHByb3ZpZGVzIGEgd2F5IGZvciBgZmlsZS1zeXN0ZW1gIHRvIGJlIG1vY2tlZCBmb3IgdGVzdGluZ1xuY2xhc3MgTlNGaWxlU3lzdGVtIHtcbiAgICBjdXJyZW50QXBwKCkge1xuICAgICAgICByZXR1cm4ga25vd25Gb2xkZXJzLmN1cnJlbnRBcHAoKTtcbiAgICB9XG4gICAgZmlsZUZyb21QYXRoKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIEZpbGUuZnJvbVBhdGgocGF0aCk7XG4gICAgfVxuICAgIGZpbGVFeGlzdHMocGF0aCkge1xuICAgICAgICByZXR1cm4gRmlsZS5leGlzdHMocGF0aCk7XG4gICAgfVxufVxuTlNGaWxlU3lzdGVtLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbk5TRmlsZVN5c3RlbS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNGaWxlU3lzdGVtIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogY3JlYXRlcyBhIERldGFjaGVkTG9hZGVyIGVpdGhlciBsaW5rZWQgdG8gdGhlIFZpZXdDb250YWluZXJSZWYgb3IgdGhlIEFwcGxpY2F0aW9uUmVmIGlmIFZpZXdDb250YWluZXJSZWYgaXMgbm90IGRlZmluZWRcbiAqIEBwYXJhbSByZXNvbHZlciBjb21wb25lbnQgZmFjdG9yeSByZXNvbHZlclxuICogQHBhcmFtIGluamVjdG9yIGRlZmF1bHQgaW5qZWN0b3IsIHVudXNlZCBpZiB2aWV3Q29udGFpbmVyUmVmIGlzIHNldFxuICogQHBhcmFtIHZpZXdDb250YWluZXJSZWYgd2hlcmUgdGhlIHZpZXcgc2hvdWxkIGxpdmUgaW4gdGhlIGFuZ3VsYXIgdHJlZVxuICogQHJldHVybnMgcmVmZXJlbmNlIHRvIHRoZSBEZXRhY2hlZExvYWRlclxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZURldGFjaGVkTG9hZGVyKHJlc29sdmVyLCBpbmplY3Rvciwgdmlld0NvbnRhaW5lclJlZikge1xuICAgIGluamVjdG9yID0gKHZpZXdDb250YWluZXJSZWYgPT09IG51bGwgfHwgdmlld0NvbnRhaW5lclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld0NvbnRhaW5lclJlZi5pbmplY3RvcikgfHwgaW5qZWN0b3I7XG4gICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgIGNvbnN0IGRldGFjaGVkTG9hZGVyUmVmID0gKHZpZXdDb250YWluZXJSZWYgPT09IG51bGwgfHwgdmlld0NvbnRhaW5lclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5KSkgfHwgZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShpbmplY3Rvcik7XG4gICAgaWYgKCF2aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIGluamVjdG9yLmdldChBcHBsaWNhdGlvblJlZikuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7XG4gICAgfVxuICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICByZXR1cm4gZGV0YWNoZWRMb2FkZXJSZWY7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIE5nVmlld1JlZiBmcm9tIGEgY29tcG9uZW50IG9yIHRlbXBsYXRlLiBAc2VlIE5nVmlld1JlZlxuICogUGFzcyBrZWVwTmF0aXZlVmlld0F0dGFjaGVkIGFzIGB0cnVlYCBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgZmlyc3QgbmF0aXZlIHZpZXcgdG8gYmUgZGV0YWNoZWQgZnJvbSBpdHMgcGFyZW50LlxuICogRm9yIG9wZW5pbmcgbW9kYWxzIGFuZCBvdGhlcnMsIHRoZSBmaXJzdE5hdGl2ZUxpa2VWaWV3IHNob3VsZCBiZSBkZXRhY2hlZC5cbiAqIEBwYXJhbSB0eXBlT3JUZW1wbGF0ZSBDb21wb25lbnRUeXBlIG9yIFRlbXBsYXRlUmVmIHRoYXQgc2hvdWxkIGJlIGluc3RhbmNlZFxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIHZpZXdcbiAqIEByZXR1cm5zIE5nVmlld1JlZlxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXcodHlwZU9yVGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5kZXRhY2hlZExvYWRlclJlZjtcbiAgICBjb25zdCByZXVzaW5nRGV0YWNoZWRMb2FkZXIgPSAhIWRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmIChyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmID0gZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmM7XG4gICAgfVxuICAgIGNvbnN0IGluamVjdG9yID0gKChfYSA9IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluamVjdG9yKSB8fCBvcHRpb25zLmluamVjdG9yO1xuICAgIGNvbnN0IHJlc29sdmVyID0gb3B0aW9ucy5yZXNvbHZlciB8fCBpbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKTtcbiAgICBpZiAoIWRldGFjaGVkTG9hZGVyUmVmICYmIChvcHRpb25zLnZpZXdDb250YWluZXJSZWYgfHwgdHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikpIHtcbiAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBnZW5lcmF0ZURldGFjaGVkTG9hZGVyKHJlc29sdmVyLCBpbmplY3Rvciwgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKTtcbiAgICB9XG4gICAgbGV0IHBvcnRhbDtcbiAgICBpZiAodHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikge1xuICAgICAgICBwb3J0YWwgPSBuZXcgVGVtcGxhdGVQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmID09PSBudWxsIHx8IGRldGFjaGVkTG9hZGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52Yyk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICBjb25zdCBwb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHBhcmVudFZpZXcsIHJlc29sdmVyLCBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCBpbmplY3Rvcik7XG4gICAgY29uc3QgY29tcG9uZW50T3JUZW1wbGF0ZVJlZiA9IHBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICBjb21wb25lbnRPclRlbXBsYXRlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgIHBvcnRhbE91dGxldC5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgaWYgKGRldGFjaGVkTG9hZGVyUmVmICYmICFyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgY29tcG9uZW50T3JUZW1wbGF0ZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qgdmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50T3JUZW1wbGF0ZVJlZik7XG4gICAgdmlld1JlZi5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmICghb3B0aW9ucy5rZWVwTmF0aXZlVmlld0F0dGFjaGVkKSB7XG4gICAgICAgIHZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdSZWY7XG59XG5cbmNsYXNzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IChhcmcpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcbiAgICB9XG4gICAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMudmlldy5pc0VuYWJsZWQgPSAhaXNEaXNhYmxlZDtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZShfKSB7XG4gICAgICAgIC8vXG4gICAgfVxuICAgIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JsYW5rKHZhbHVlKSA/IHVuc2V0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG59XG5cbmNvbnN0IFRFWFRfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVGV4dFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciB3cml0aW5nIGEgdGV4dCBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFRleHRGaWVsZCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgVGV4dFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSA/IGAke3ZhbHVlfWAgOiB2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy50ZXh0ID0gbm9ybWFsaXplZDtcbiAgICB9XG59XG5UZXh0VmFsdWVBY2Nlc3Nvci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuVGV4dFZhbHVlQWNjZXNzb3IuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlRleHRGaWVsZFtuZ01vZGVsXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xdLHRleHRGaWVsZFtuZ01vZGVsXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xdLHRleHRmaWVsZFtuZ01vZGVsXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xdLHRleHQtZmllbGRbbmdNb2RlbF0sdGV4dC1maWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xdLFRleHRWaWV3W25nTW9kZWxdLFRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGV4dFZpZXdbZm9ybUNvbnRyb2xdLHRleHRWaWV3W25nTW9kZWxdLHRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dFZpZXdbZm9ybUNvbnRyb2xdLHRleHR2aWV3W25nTW9kZWxdLHRleHR2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dHZpZXdbZm9ybUNvbnRyb2xdLHRleHQtdmlld1tuZ01vZGVsXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xdLFNlYXJjaEJhcltuZ01vZGVsXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xdLHNlYXJjaEJhcltuZ01vZGVsXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xdLHNlYXJjaGJhcltuZ01vZGVsXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xdLHNlYXJjaC1iYXJbbmdNb2RlbF0sIHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2gtYmFyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImJsdXJcIjogXCJvblRvdWNoZWQoKVwiLCBcInRleHRDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtURVhUX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RleHRGaWVsZFtuZ01vZGVsXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSxUZXh0RmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRGaWVsZFtuZ01vZGVsXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0RmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRmaWVsZFtuZ01vZGVsXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0ZmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtZmllbGRbbmdNb2RlbF0sdGV4dC1maWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RleHRWaWV3W25nTW9kZWxdLFRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGV4dFZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRWaWV3W25nTW9kZWxdLHRleHRWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dFZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHR2aWV3W25nTW9kZWxdLHRleHR2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dHZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtdmlld1tuZ01vZGVsXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LXZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlYXJjaEJhcltuZ01vZGVsXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWFyY2hCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaEJhcltuZ01vZGVsXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaGJhcltuZ01vZGVsXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2hiYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYXJjaC1iYXJbbmdNb2RlbF0sIHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWFyY2gtYmFyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1RFWFRfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhibHVyKSc6ICdvblRvdWNoZWQoKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKHRleHRDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBDaGVja2VkVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBjaGVja2VkIHByb3BlcnR5IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U3dpdGNoIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBDaGVja2VkVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LmNoZWNrZWQgPSBub3JtYWxpemVkO1xuICAgIH1cbn1cbkNoZWNrZWRWYWx1ZUFjY2Vzc29yLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5DaGVja2VkVmFsdWVBY2Nlc3Nvci7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU3dpdGNoW25nTW9kZWxdLFN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLFN3aXRjaFtmb3JtQ29udHJvbF0sc3dpdGNoW25nTW9kZWxdLHN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLHN3aXRjaFtmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJjaGVja2VkQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdTd2l0Y2hbbmdNb2RlbF0sU3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sU3dpdGNoW2Zvcm1Db250cm9sXSwnICsgJ3N3aXRjaFtuZ01vZGVsXSxzd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxzd2l0Y2hbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNoZWNrZWRDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgREFURV9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBkYXRlIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8RGF0ZVBpY2tlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgRGF0ZVZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy5kYXRlID0gbm9ybWFsaXplZDtcbiAgICB9XG59XG5EYXRlVmFsdWVBY2Nlc3Nvci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuRGF0ZVZhbHVlQWNjZXNzb3IuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIkRhdGVQaWNrZXJbbmdNb2RlbF0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGVwaWNrZXJbbmdNb2RlbF0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGVQaWNrZXJbbmdNb2RlbF0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLGRhdGUtcGlja2VyW25nTW9kZWxdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiZGF0ZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW0RBVEVfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRGF0ZVBpY2tlcltuZ01vZGVsXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGVQaWNrZXJbbmdNb2RlbF0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZS1waWNrZXJbbmdNb2RlbF0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoZGF0ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBUSU1FX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHRpbWUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxUaW1lUGlja2VyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBUaW1lVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnRpbWUgPSBub3JtYWxpemVkO1xuICAgIH1cbn1cblRpbWVWYWx1ZUFjY2Vzc29yLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5UaW1lVmFsdWVBY2Nlc3Nvci7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiVGltZVBpY2tlcltuZ01vZGVsXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sVGltZVBpY2tlcltmb3JtQ29udHJvbF0sdGltZXBpY2tlcltuZ01vZGVsXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZXBpY2tlcltmb3JtQ29udHJvbF0sdGltZVBpY2tlcltuZ01vZGVsXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZVBpY2tlcltmb3JtQ29udHJvbF0sdGltZS1waWNrZXJbbmdNb2RlbF0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ0aW1lQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbVElNRV9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUaW1lUGlja2VyW25nTW9kZWxdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWVwaWNrZXJbbmdNb2RlbF0sdGltZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZVBpY2tlcltuZ01vZGVsXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lLXBpY2tlcltuZ01vZGVsXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1RJTUVfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyh0aW1lQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IE5VTUJFUl9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBOdW1iZXJWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHZhbHVlIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH1cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U2xpZGVyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBOdW1iZXJWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudmFsdWUgPSBub3JtYWxpemVkO1xuICAgIH1cbn1cbk51bWJlclZhbHVlQWNjZXNzb3IuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuTnVtYmVyVmFsdWVBY2Nlc3Nvci7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTbGlkZXJbbmdNb2RlbF0sU2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sU2xpZGVyW2Zvcm1Db250cm9sXSxzbGlkZXJbbmdNb2RlbF0sc2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sc2xpZGVyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInZhbHVlQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbTlVNQkVSX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU2xpZGVyW25nTW9kZWxdLFNsaWRlcltmb3JtQ29udHJvbE5hbWVdLFNsaWRlcltmb3JtQ29udHJvbF0sJyArICdzbGlkZXJbbmdNb2RlbF0sc2xpZGVyW2Zvcm1Db250cm9sTmFtZV0sc2xpZGVyW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05VTUJFUl9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKHZhbHVlQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IFNFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHNlbGVjdGVkSW5kZXggYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxTZWdtZW50ZWRCYXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bWF4LWxpbmUtbGVuZ3RoIGRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIGlmICh0aGlzLnZpZXdJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMudmFsdWU7XG4gICAgfVxufVxuU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTZWdtZW50ZWRCYXJbbmdNb2RlbF0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRCYXJbbmdNb2RlbF0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRiYXJbbmdNb2RlbF0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWQtYmFyW25nTW9kZWxdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sXSxMaXN0UGlja2VyW25nTW9kZWxdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0UGlja2VyW25nTW9kZWxdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0cGlja2VyW25nTW9kZWxdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sXSxsaXN0LXBpY2tlcltuZ01vZGVsXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sXSxUYWJWaWV3W25nTW9kZWxdLFRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUYWJWaWV3W2Zvcm1Db250cm9sXSx0YWJWaWV3W25nTW9kZWxdLHRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJWaWV3W2Zvcm1Db250cm9sXSx0YWJ2aWV3W25nTW9kZWxdLHRhYnZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJ2aWV3W2Zvcm1Db250cm9sXSx0YWItdmlld1tuZ01vZGVsXSx0YWItdmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYi12aWV3W2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInNlbGVjdGVkSW5kZXhDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdTZWdtZW50ZWRCYXJbbmdNb2RlbF0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWRCYXJbbmdNb2RlbF0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWRiYXJbbmdNb2RlbF0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWdtZW50ZWQtYmFyW25nTW9kZWxdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdMaXN0UGlja2VyW25nTW9kZWxdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0UGlja2VyW25nTW9kZWxdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0cGlja2VyW25nTW9kZWxdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsaXN0LXBpY2tlcltuZ01vZGVsXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUYWJWaWV3W25nTW9kZWxdLFRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUYWJWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWJWaWV3W25nTW9kZWxdLHRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWJ2aWV3W25nTW9kZWxdLHRhYnZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJ2aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0YWItdmlld1tuZ01vZGVsXSx0YWItdmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYi12aWV3W2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1NFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoc2VsZWN0ZWRJbmRleENoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jbGFzcyBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSB7XG59XG5OYXRpdmVTY3JpcHRGb3Jtc01vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVTY3JpcHRGb3Jtc01vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlY2xhcmF0aW9uczogW1RleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sIGltcG9ydHM6IFtGb3Jtc01vZHVsZV0sIGV4cG9ydHM6IFtGb3Jtc01vZHVsZSwgVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSB9KTtcbk5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgaW1wb3J0czogW0Zvcm1zTW9kdWxlLCBGb3Jtc01vZHVsZV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1RleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW10sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtGb3Jtc01vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtGb3Jtc01vZHVsZSwgVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY29uc3QgREFTSF9DQVNFX1JFR0VYUCA9IC8tKyhbYS16MC05XSkvZztcbmZ1bmN0aW9uIGRhc2hDYXNlVG9DYW1lbENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShEQVNIX0NBU0VfUkVHRVhQLCAoLi4ubSkgPT4gbVsxXS50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICBjb25zdCBpbmZvID0gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIHJldHVybiBLZXlmcmFtZUFuaW1hdGlvbi5rZXlmcmFtZUFuaW1hdGlvbkZyb21JbmZvKGluZm8pO1xufVxuY29uc3QgY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvID0gKHN0eWxlcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpID0+ICh7XG4gICAgaXNGb3J3YXJkczogdHJ1ZSxcbiAgICBkdXJhdGlvbjogZHVyYXRpb24gfHwgMC4wMSxcbiAgICBkZWxheSxcbiAgICBjdXJ2ZTogZ2V0Q3VydmUoZWFzaW5nKSxcbiAgICBrZXlmcmFtZXM6IHN0eWxlcy5tYXAocGFyc2VBbmltYXRpb25LZXlmcmFtZSksXG59KTtcbmNvbnN0IGdldEN1cnZlID0gKHZhbHVlKSA9PiBhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlcih2YWx1ZSk7XG5jb25zdCBwYXJzZUFuaW1hdGlvbktleWZyYW1lID0gKHN0eWxlcykgPT4gKHtcbiAgICBkdXJhdGlvbjogZ2V0S2V5ZnJhbWVEdXJhdGlvbihzdHlsZXMpLFxuICAgIGRlY2xhcmF0aW9uczogZ2V0RGVjbGFyYXRpb25zKHN0eWxlcyksXG59KTtcbmNvbnN0IGdldEtleWZyYW1lRHVyYXRpb24gPSAoc3R5bGVzKSA9PiBzdHlsZXMub2Zmc2V0O1xuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25zKHN0eWxlcykge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHN0eWxlcy5rZXlzKCkpO1xuICAgIGNvbnN0IHVucGFyc2VkRGVjbGFyYXRpb25zID0ga2V5cy5tYXAoKHByb3BlcnR5KSA9PiAoeyBwcm9wZXJ0eSwgdmFsdWU6IHN0eWxlcy5nZXQocHJvcGVydHkpIH0pKTtcbiAgICByZXR1cm4gcGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucyh1bnBhcnNlZERlY2xhcmF0aW9ucyk7XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5wYXJlbnRQbGF5ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluaXRLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgZ2V0IHRvdGFsVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXkgKyB0aGlzLmR1cmF0aW9uO1xuICAgIH1cbiAgICBpbml0KCkgeyB9XG4gICAgaGFzU3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0ZWQ7XG4gICAgfVxuICAgIG9uU3RhcnQoZm4pIHtcbiAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBvbkRvbmUoZm4pIHtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIG9uRGVzdHJveShmbikge1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucGxheWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhpcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vTmF0aXZlU2NyaXB0L05hdGl2ZVNjcmlwdC9pc3N1ZXMvNzk4NCBpcyBmaXhlcyBpbiBAbmF0aXZlc2NyaXB0L2NvcmVcbiAgICAgICAgLy8gd2UgY2FuIGNoYW5nZSB0aGlzIGZpeCBhbmQgYXBwbHkgdGhlIG9uZSB0aGF0IGlzIHJlY29tbWVuZGVkIGluIHRoYXQgaXNzdWUuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbihWaWV3LmxvYWRlZEV2ZW50LCB0aGlzLm9uVGFyZ2V0TG9hZGVkLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVGFyZ2V0TG9hZGVkKGFyZ3MpIHtcbiAgICAgICAgdGhpcy50YXJnZXQub2ZmKFZpZXcubG9hZGVkRXZlbnQsIHRoaXMub25UYXJnZXRMb2FkZWQpO1xuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oKTtcbiAgICB9XG4gICAgcGxheUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25cbiAgICAgICAgICAgIC5wbGF5KHRoaXMudGFyZ2V0KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5vbkZpbmlzaCgpKVxuICAgICAgICAgICAgLmNhdGNoKChfZSkgPT4geyB9KTtcbiAgICB9XG4gICAgcGF1c2UoKSB7IH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnJlc2V0YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uICYmIHRoaXMuYW5pbWF0aW9uLmlzUGxheWluZykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdGFydCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucmVzdGFydGApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLmRlc3Ryb3lgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgfVxuICAgIHNldFBvc2l0aW9uKF9wKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0aW9uUGxheWVyLnNldFBvc2l0aW9uIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIScpO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGluaXRLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLmluaXRLZXlmcmFtZUFuaW1hdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgfVxuICAgIG9uRmluaXNoKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5vbkZpbmlzaGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zID0gW107XG4gICAgfVxufVxuXG5jbGFzcyBTZWxlY3RvciB7XG4gICAgY29uc3RydWN0b3IocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5wYXJzZShyYXdTZWxlY3Rvcik7XG4gICAgfVxuICAgIG1hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnNTZWxlY3Rvck1hdGNoKGVsZW1lbnQpIHx8IHRoaXMuY2xhc3NTZWxlY3RvcnNNYXRjaChlbGVtZW50KTtcbiAgICB9XG4gICAgcGFyc2UocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gcmF3U2VsZWN0b3Iuc3BsaXQoJywnKS5tYXAoKHMpID0+IHMudHJpbSgpKTtcbiAgICAgICAgdGhpcy5uc1NlbGVjdG9ycyA9IHNlbGVjdG9ycy5tYXAoQ1NTSGVscGVyLmNyZWF0ZVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5jbGFzc1NlbGVjdG9ycyA9IHNlbGVjdG9ycy5maWx0ZXIoKHMpID0+IHMuc3RhcnRzV2l0aCgnLicpKS5tYXAoKHMpID0+IHMuc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgbnNTZWxlY3Rvck1hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnNTZWxlY3RvcnMuc29tZSgocykgPT4gcy5tYXRjaChlbGVtZW50KSk7XG4gICAgfVxuICAgIGNsYXNzU2VsZWN0b3JzTWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzc1NlbGVjdG9ycy5zb21lKChzKSA9PiB0aGlzLmhhc0NsYXNzKGVsZW1lbnQsIHMpKTtcbiAgICB9XG4gICAgLy8gd2UncmUgdXNpbmcgdGhhdCBpbnN0ZWFkIG9mIG1hdGNoIGZvciBjbGFzc2VzXG4gICAgLy8gdGhhdCBhcmUgZHluYW1pY2FsbHkgYWRkZWQgYnkgdGhlIGFuaW1hdGlvbiBlbmdpbmVcbiAgICAvLyBzdWNoIGFzIC5uZy10cmlnZ2VyLCB0aGF0J3MgYWRkZWQgZm9yIGV2ZXJ5IDplbnRlciB2aWV3XG4gICAgaGFzQ2xhc3MoZWxlbWVudCwgY2xzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnRbJyQkY2xhc3NlcyddICYmIGVsZW1lbnRbJyQkY2xhc3NlcyddW2Nsc107XG4gICAgfVxufVxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyIHtcbiAgICBnZXRQYXJlbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHZhbGlkYXRlU3R5bGVQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBDc3NBbmltYXRpb25Qcm9wZXJ0eS52YWxpZGF0ZVN0eWxlUHJvcGVydHk6ICR7cHJvcGVydHl9YCk7XG4gICAgICAgIHJldHVybiBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIudmFsaWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpICE9PSAtMTtcbiAgICB9XG4gICAgbWF0Y2hlc0VsZW1lbnQoZWxlbWVudCwgcmF3U2VsZWN0b3IpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLm1hdGNoZXNFbGVtZW50IGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgc2VsZWN0b3I6ICR7cmF3U2VsZWN0b3J9YCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5tYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IubWF0Y2goZWxlbWVudCk7XG4gICAgfVxuICAgIGNvbnRhaW5zRWxlbWVudChlbG0xLCBlbG0yKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5jb250YWluc0VsZW1lbnQgYCArIGBlbGVtZW50MTogJHtlbG0xfSwgZWxlbWVudDI6ICR7ZWxtMn1gKTtcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHBhcmVudCBpcyBvdXIgZmFrZSBib2R5IG9iamVjdFxuICAgICAgICBpZiAoZWxtMVsnaXNPdmVycmlkZSddKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IG9yaWdpbmFsVmlldzogZWxtMiB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZpc2l0RGVzY2VuZGFudHMoZWxtMSwgdmlld01hdGNoZXMsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZm91bmQ7XG4gICAgfVxuICAgIHF1ZXJ5KGVsZW1lbnQsIHJhd1NlbGVjdG9yLCBtdWx0aSkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIucXVlcnkgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBzZWxlY3RvcjogJHtyYXdTZWxlY3Rvcn0gYCArIGBtdWx0aTogJHttdWx0aX1gKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm1ha2VTZWxlY3RvcihyYXdTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgc2VsZWN0b3IsIG11bHRpIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMudmlzaXREZXNjZW5kYW50cyhlbGVtZW50LCBxdWVyeURlc2NlbmRhbnRzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0Lm1hdGNoZXMgfHwgW107XG4gICAgfVxuICAgIGNvbXB1dGVTdHlsZShlbGVtZW50LCBwcm9wKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5jb21wdXRlU3R5bGUgYCArIGBlbGVtZW50OiAke2VsZW1lbnR9LCBwcm9wOiAke3Byb3B9YCk7XG4gICAgICAgIGNvbnN0IGNhbWVsQ2FzZVByb3AgPSBkYXNoQ2FzZVRvQ2FtZWxDYXNlKHByb3ApO1xuICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbENhc2VQcm9wXTtcbiAgICB9XG4gICAgYW5pbWF0ZShlbGVtZW50LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5hbmltYXRlIGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwga2V5ZnJhbWVzOiAke2tleWZyYW1lc30gYCArIGBkdXJhdGlvbjogJHtkdXJhdGlvbn0sIGRlbGF5OiAke2RlbGF5fSBgICsgYGVhc2luZzogJHtlYXNpbmd9YCk7XG4gICAgICAgIHJldHVybiBuZXcgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyKGVsZW1lbnQsIGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBtYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RvcihyYXdTZWxlY3Rvcik7XG4gICAgfVxuICAgIHZpc2l0RGVzY2VuZGFudHMoZWxlbWVudCwgY2IsIGNiUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICAvLyBmaWxsIHRoZSByZXN1bHQgb2JqIHdpdGggdGhlIHJlc3VsdCBmcm9tIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBlYWNoRGVzY2VuZGFudChlbGVtZW50LCAoY2hpbGQpID0+IGNiKGNoaWxkLCByZXN1bHQsIGNiUGFyYW1zKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnZhbGlkUHJvcGVydGllcyA9IFsuLi5Dc3NBbmltYXRpb25Qcm9wZXJ0eS5fZ2V0UHJvcGVydHlOYW1lcygpLCAndHJhbnNmb3JtJ107XG5mdW5jdGlvbiB2aWV3TWF0Y2hlcyhlbGVtZW50LCByZXN1bHQsIHBhcmFtcykge1xuICAgIGlmIChlbGVtZW50ID09PSBwYXJhbXMub3JpZ2luYWxWaWV3KSB7XG4gICAgICAgIHJlc3VsdC5mb3VuZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhcmVzdWx0LmZvdW5kO1xufVxuZnVuY3Rpb24gcXVlcnlEZXNjZW5kYW50cyhlbGVtZW50LCByZXN1bHQsIHBhcmFtcykge1xuICAgIGlmICghcmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgcmVzdWx0Lm1hdGNoZXMgPSBbXTtcbiAgICB9XG4gICAgY29uc3QgeyBzZWxlY3RvciwgbXVsdGkgfSA9IHBhcmFtcztcbiAgICAvLyBza2lwIGNvbW1lbnQgYW5kIHRleHQgbm9kZXNcbiAgICAvLyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBhY3R1YWwgVmlld3NcbiAgICAvLyBhbmQgY2Fubm90IGJlIGFuaW1hdGVkXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlIHx8ICFzZWxlY3Rvci5tYXRjaChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgZWxlbWVudC5lYWNoQ2hpbGQoKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQubWF0Y2hlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdC5tYXRjaGVzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBtdWx0aTtcbn1cblxuY2xhc3MgSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSBleHRlbmRzIMm1QW5pbWF0aW9uRW5naW5lIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2MsIGRyaXZlciwgbm9ybWFsaXplcikge1xuICAgICAgICBzdXBlcihkb2MuYm9keSwgZHJpdmVyLCBub3JtYWxpemVyKTtcbiAgICB9XG59XG5JbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIGRlcHM6IFt7IHRva2VuOiBET0NVTUVOVCB9LCB7IHRva2VuOiBpMSQyLkFuaW1hdGlvbkRyaXZlciB9LCB7IHRva2VuOiBpMSQyLsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5JbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW0RPQ1VNRU5UXVxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkxJDIuQW5pbWF0aW9uRHJpdmVyIH0sIHsgdHlwZTogaTEkMi7JtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9XTtcbiAgICB9IH0pO1xuZnVuY3Rpb24gaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIoKTtcbn1cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5KHJlbmRlcmVyLCBlbmdpbmUsIHpvbmUpIHtcbiAgICByZXR1cm4gbmV3IMm1QW5pbWF0aW9uUmVuZGVyZXJGYWN0b3J5KHJlbmRlcmVyLCBlbmdpbmUsIHpvbmUpO1xufVxuZnVuY3Rpb24gaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyKCkge1xuICAgIHJldHVybiBuZXcgybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyKCk7XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgLy8gUHJldmVudHMgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSBmcm9tIGdldHRpbmcgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgdGhyb3dJZkFscmVhZHlMb2FkZWQocGFyZW50TW9kdWxlLCAnTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZScpO1xuICAgIH1cbn1cbk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIG9wdGlvbmFsOiB0cnVlLCBza2lwU2VsZjogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTtcbk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGltcG9ydHM6IFtOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pO1xuTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICB9LFxuICAgICAgICB7IHByb3ZpZGU6IEFuaW1hdGlvbkJ1aWxkZXIsIHVzZUNsYXNzOiDJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IMm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLFxuICAgICAgICB9LFxuICAgICAgICB7IHByb3ZpZGU6IMm1QW5pbWF0aW9uRW5naW5lLCB1c2VDbGFzczogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnksXG4gICAgICAgICAgICBkZXBzOiBbTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCDJtUFuaW1hdGlvbkVuZ2luZSwgTmdab25lXSxcbiAgICAgICAgfSxcbiAgICBdLCBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQW5pbWF0aW9uQnVpbGRlciwgdXNlQ2xhc3M6IMm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiDJtUFuaW1hdGlvbkVuZ2luZSwgdXNlQ2xhc3M6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksIMm1QW5pbWF0aW9uRW5naW5lLCBOZ1pvbmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG5mdW5jdGlvbiBpc0xvY2FsUmVxdWVzdCh1cmwpIHtcbiAgICByZXR1cm4gdXJsLmluZGV4T2YoJ34nKSA9PT0gMCB8fCB1cmwuaW5kZXhPZignLycpID09PSAwO1xufVxuZnVuY3Rpb24gZ2V0QWJzb2x1dGVQYXRoKHVybCwgbnNGaWxlU3lzdGVtKSB7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoJ34nLCAnJykucmVwbGFjZSgnLycsICcnKTtcbiAgICB1cmwgPSBwYXRoLmpvaW4obnNGaWxlU3lzdGVtLmN1cnJlbnRBcHAoKS5wYXRoLCB1cmwpO1xuICAgIHJldHVybiB1cmw7XG59XG5mdW5jdGlvbiBwcm9jZXNzTG9jYWxGaWxlUmVxdWVzdCh1cmwsIG5zRmlsZVN5c3RlbSwgc3VjY2Vzc1Jlc3BvbnNlLCBlcnJvclJlc3BvbnNlKSB7XG4gICAgdXJsID0gZ2V0QWJzb2x1dGVQYXRoKHVybCwgbnNGaWxlU3lzdGVtKTtcbiAgICAvLyByZXF1ZXN0IGZyb20gbG9jYWwgYXBwIHJlc291cmNlc1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSQxKChvYnNlcnZlcikgPT4ge1xuICAgICAgICBpZiAobnNGaWxlU3lzdGVtLmZpbGVFeGlzdHModXJsKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxGaWxlID0gbnNGaWxlU3lzdGVtLmZpbGVGcm9tUGF0aCh1cmwpO1xuICAgICAgICAgICAgbG9jYWxGaWxlLnJlYWRUZXh0KCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHN1Y2Nlc3NSZXNwb25zZSh1cmwsIGpzb24sIDIwMCkpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggdGhlIHJlc3BvbnNlIHN0YXR1cyB3YXMgMnh4LCB0aGlzIGlzIHN0aWxsIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcGFyc2UgZXJyb3IgY29udGFpbnMgdGhlIHRleHQgb2YgdGhlIGJvZHkgdGhhdCBmYWlsZWQgdG8gcGFyc2UuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yUmVzdWx0ID0geyBlcnJvciwgdGV4dDogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgZXJyb3JSZXN1bHQsIDIwMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgZXJyLCA0MDApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsICdOb3QgRm91bmQnLCA0MDQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jbGFzcyBOc0h0dHBCYWNrRW5kIGV4dGVuZHMgSHR0cFhockJhY2tlbmQge1xuICAgIGNvbnN0cnVjdG9yKHhockZhY3RvcnksIG5zRmlsZVN5c3RlbSkge1xuICAgICAgICBzdXBlcih4aHJGYWN0b3J5KTtcbiAgICAgICAgdGhpcy5uc0ZpbGVTeXN0ZW0gPSBuc0ZpbGVTeXN0ZW07XG4gICAgfVxuICAgIGhhbmRsZShyZXEpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKGlzTG9jYWxSZXF1ZXN0KHJlcS51cmwpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmhhbmRsZUxvY2FsRmlsZVJlcXVlc3QocmVxLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzdXBlci5oYW5kbGUocmVxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBoYW5kbGVMb2NhbEZpbGVSZXF1ZXN0KHVybCkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QodXJsLCB0aGlzLm5zRmlsZVN5c3RlbSwgY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlLCBjcmVhdGVFcnJvclJlc3BvbnNlKTtcbiAgICB9XG59XG5Oc0h0dHBCYWNrRW5kLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQsIGRlcHM6IFt7IHRva2VuOiBpMSQxLlhockZhY3RvcnkgfSwgeyB0b2tlbjogTlNGaWxlU3lzdGVtIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Oc0h0dHBCYWNrRW5kLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMS5YaHJGYWN0b3J5IH0sIHsgdHlwZTogTlNGaWxlU3lzdGVtIH1dOyB9IH0pO1xuZnVuY3Rpb24gY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlKHVybCwgYm9keSwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2Uoe1xuICAgICAgICB1cmwsXG4gICAgICAgIGJvZHksXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yUmVzcG9uc2UodXJsLCBib2R5LCBzdGF0dXMpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBFcnJvclJlc3BvbnNlKHtcbiAgICAgICAgdXJsLFxuICAgICAgICBlcnJvcjogYm9keSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiAnRVJST1InLFxuICAgIH0pO1xufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlIHtcbn1cbk5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSB9KTtcbk5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIHByb3ZpZGVyczogW05TRmlsZVN5c3RlbSwgTnNIdHRwQmFja0VuZCwgeyBwcm92aWRlOiBIdHRwQmFja2VuZCwgdXNlRXhpc3Rpbmc6IE5zSHR0cEJhY2tFbmQgfV0sIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOU0ZpbGVTeXN0ZW0sIE5zSHR0cEJhY2tFbmQsIHsgcHJvdmlkZTogSHR0cEJhY2tlbmQsIHVzZUV4aXN0aW5nOiBOc0h0dHBCYWNrRW5kIH1dLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgbXVsdGlwbGUgYWN0aXZhdGVkUm91dGUgbm9kZXMgc2hvdWxkIGJlIGFzc29jaWF0ZWQvaGFuZGxlZCBieSB0aGUgc2FtZSBQYWdlUm91dGVyT3V0bGV0LlxuICogV2UgY2FuIGdhdCBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlcyBub2RlcyB3aGVuIHRoZXJlIGlzOlxuICogIC0gTGF6eSBsb2FkaW5nIC0gdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZSBub2RlIGZvciB0aGUgUm91dGVDb25maWcgd2l0aCB0aGUgYGxvYWRDaGlsZHJlbmAgc2V0dXBcbiAqICAtIENvbXBvbmVudGxlc3Mgcm91dGVzIC0gdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZSBub2RlIGZvciB0aGUgY29tcG9uZW50bGVzcyBSb3V0ZUNvbmZpZ1xuICpcbiAqIEV4YW1wbGU6XG4gKiAgIFIgIDwtLSByb290XG4gKiAgIHxcbiAqIGZlYXR1cmUgKGxhenkgbW9kdWxlKSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJsYXp5XCIsIGxvYWRDaGlsZHJlbjogXCIuL2ZlYXR1cmUvZmVhdHVyZS5tb2R1bGUjRmVhdHVyZU1vZHVsZVwiIH1cbiAqICAgfFxuICogbW9kdWxlIChjb21wb25lbnRsZXNzIHJvdXRlKSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJtb2R1bGVcIiwgY2hpbGRyZW46IFsuLi5dIH0gLy8gTm90ZTogTm8gJ2NvbXBvbmVudCdcbiAqICAgfFxuICogIGhvbWUgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibW9kdWxlXCIsIGNvbXBvbmVudDogTXlDb21wb25lbnQgfSAtIHRoaXMgaXMgd2hhdCB3ZSBnZXQgYXMgYWN0aXZhdGVkUm91dGUgcGFyYW1cbiAqXG4gKiAgSW4gdGhlc2UgY2FzZXMgd2Ugd2lsbCBtYXJrIHRoZSB0b3AtbW9zdCBub2RlIChmZWF0dXJlKS4gTlNSb3V0ZVJldXNlU3RyYXRlZ3kgd2lsbCBkZXRhY2ggdGhlIHRyZWUgdGhlcmUgYW5kXG4gKiAgdXNlIHRoaXMgQWN0aXZhdGVSb3V0ZSBhcyBhIGtheSBmb3IgY2FjaGluZy5cbiAqL1xuZnVuY3Rpb24gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChhY3RpdmF0ZWRSb3V0ZSkge1xuICAgIC8vIFRPRE86IHRlc3QgdGhpcyBhbmQgZmlndXJlIGl0IG91dCBpZiBpdCdzIHJlYWxseSBubyBsb25nZXIgbmVlZGVkXG4gICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlO1xuICAgIC8vIGxldCBvdXRsZXRBY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgIC8vIHdoaWxlIChvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQgJiYgb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50LnJvdXRlQ29uZmlnICYmICFvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQucm91dGVDb25maWcuY29tcG9uZW50KSB7XG4gICAgLy8gICBvdXRsZXRBY3RpdmF0ZWRSb3V0ZSA9IG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudDtcbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIG91dGxldEFjdGl2YXRlZFJvdXRlO1xufVxuY29uc3QgcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbCA9IFN5bWJvbCgncGFnZS1yb3V0ZXItYWN0aXZhdGVkJyk7XG5jb25zdCBsb2FkZXJSZWZTeW1ib2wgPSBTeW1ib2woJ2xvYWRlci1yZWYnKTtcbmZ1bmN0aW9uIGRlc3Ryb3lDb21wb25lbnRSZWYoY29tcG9uZW50UmVmKSB7XG4gICAgaWYgKGNvbXBvbmVudFJlZikge1xuICAgICAgICBjb25zdCBsb2FkZXJSZWYgPSBjb21wb25lbnRSZWZbbG9hZGVyUmVmU3ltYm9sXTtcbiAgICAgICAgaWYgKGxvYWRlclJlZikge1xuICAgICAgICAgICAgbG9hZGVyUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgIH1cbn1cblxuY29uc3QgZ2V0U25hcHNob3RLZXkgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcbiAgICByZXR1cm4gc25hcHNob3QucGF0aEZyb21Sb290LmpvaW4oJy0+Jyk7XG59O1xuLyoqXG4gKiBEZXRhY2hlZCBzdGF0ZSBjYWNoZVxuICovXG5jbGFzcyBEZXRhY2hlZFN0YXRlQ2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IEFycmF5KCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmxlbmd0aDtcbiAgICB9XG4gICAgcHVzaChjYWNoZUl0ZW0pIHtcbiAgICAgICAgdGhpcy5jYWNoZS5wdXNoKGNhY2hlSXRlbSk7XG4gICAgfVxuICAgIHBvcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUucG9wKCk7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlW3RoaXMuY2FjaGUubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgRGV0YWNoZWRTdGF0ZUNhY2hlLmNsZWFyKCkgJHt0aGlzLmNhY2hlLmxlbmd0aH0gaXRlbXMgd2lsbCBiZSBkZXN0cm95ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5jYWNoZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2FjaGUucG9wKCkuc3RhdGU7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ3VycmVudEZvckNsZWFyKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jYWNoZSkge1xuICAgICAgICAgICAgaXRlbS5tYXJrZWRGb3JEZWxldGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNYXJrZWQoKSB7XG4gICAgICAgIC8vIHRyeSB0byBwcmVzZXJ2ZSBzYW1lIG9yZGVyIGFzIC5jbGVhcigpXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNhY2hlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmNhY2hlW2ldO1xuICAgICAgICAgICAgaWYgKGNhY2hlSXRlbS5tYXJrZWRGb3JEZWxldGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGVJdGVtLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTW9kYWxDYWNoZSgpIHtcbiAgICAgICAgbGV0IHJlbW92ZWRJdGVtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgaGFzTW9kYWxQYWdlcyA9IHRoaXMuY2FjaGUuc29tZSgoY2FjaGVJdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVJdGVtLmlzTW9kYWw7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzTW9kYWxQYWdlcykge1xuICAgICAgICAgICAgbGV0IG1vZGFsQ2FjaGVDbGVhcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoIW1vZGFsQ2FjaGVDbGVhcmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVJdGVtID0gdGhpcy5wZWVrKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjYWNoZUl0ZW0uc3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlSXRlbS5pc01vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsQ2FjaGVDbGVhcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wb3AoKTtcbiAgICAgICAgICAgICAgICByZW1vdmVkSXRlbXNDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBEZXRhY2hlZFN0YXRlQ2FjaGUuY2xlYXJNb2RhbENhY2hlKCkgJHtyZW1vdmVkSXRlbXNDb3VudH0gaXRlbXMgd2lsbCBiZSBkZXN0cm95ZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGV0YWNoZXMgc3VidHJlZXMgbG9hZGVkIGluc2lkZSBQYWdlUm91dGVyT3V0bGV0IGluIGZvcndhcmQgbmF2aWdhdGlvblxuICogYW5kIHJlYXR0YWNoZXMgdGhlbSBvbiBiYWNrLlxuICogUmV1c2VzIHJvdXRlcyBhcyBsb25nIGFzIHRoZWlyIHJvdXRlIGNvbmZpZyBpcyB0aGUgc2FtZS5cbiAqL1xuY2xhc3MgTlNSb3V0ZVJldXNlU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5jYWNoZUJ5T3V0bGV0ID0ge307XG4gICAgfVxuICAgIHNob3VsZERldGFjaChyb3V0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCB7IG91dGxldCB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGxldCBpc1BhZ2VBY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRtcCA9IHJvdXRlO1xuICAgICAgICB3aGlsZSAoIShpc1BhZ2VBY3RpdmF0ZWQgPSB0bXBbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0pICYmIHRtcC5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRtcCA9IHRtcC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGREZXRhY2ggPSBvdXRsZXQgJiYgIWlzQmFjayAmJiBpc1BhZ2VBY3RpdmF0ZWQ7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIGlmIChvdXRsZXQucGFyZW50ICYmICFvdXRsZXQucGFyZW50LnNob3VsZERldGFjaCkge1xuICAgICAgICAgICAgICAgIHNob3VsZERldGFjaCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0bGV0LnNob3VsZERldGFjaCA9IHNob3VsZERldGFjaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkRGV0YWNoIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHJlc3VsdDogJHtzaG91bGREZXRhY2h9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZERldGFjaDtcbiAgICB9XG4gICAgZmluZFZhbGlkT3V0bGV0QW5kS2V5KHRhcmdldFJvdXRlKSB7XG4gICAgICAgIGxldCByb3V0ZSA9IHRhcmdldFJvdXRlO1xuICAgICAgICBjb25zdCByb3V0ZU91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgIGxldCBvdXRsZXRLZXkgPSByb3V0ZU91dGxldEtleTtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMubG9jYXRpb24uZmluZE91dGxldChvdXRsZXRLZXksIHJvdXRlKTtcbiAgICAgICAgd2hpbGUgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgIGlmICghcm91dGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgb3V0bGV0OiBudWxsLCBvdXRsZXRLZXk6IHJvdXRlT3V0bGV0S2V5IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3V0ZSA9IHJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgIG91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgICAgICBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uLmZpbmRPdXRsZXQob3V0bGV0S2V5LCByb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgd2hpbGUgKCFvdXRsZXQub3V0bGV0S2V5cy5pbmNsdWRlcyhvdXRsZXRLZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyb3V0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBDb3VsZCBub3QgZmluZCB2YWxpZCBvdXRsZXQga2V5IGZvciByb3V0ZTogJHt0YXJnZXRSb3V0ZX0uYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG91dGxldCwgb3V0bGV0S2V5OiByb3V0ZU91dGxldEtleSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZSA9IHJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG91dGxldCwgb3V0bGV0S2V5IH07XG4gICAgfVxuICAgIHNob3VsZEF0dGFjaChyb3V0ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0LCBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKCFjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IHNob3VsZEF0dGFjaCA9IGlzQmFjayAmJiAoKF9hID0gY2FjaGUucGVlaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eua2V5KSA9PT0ga2V5O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkQXR0YWNoIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHJlc3VsdDogJHtzaG91bGRBdHRhY2h9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgb3V0bGV0LnNob3VsZERldGFjaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZEF0dGFjaDtcbiAgICB9XG4gICAgc3RvcmUocm91dGUsIHN0YXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHN0b3JlIGtleTogJHtrZXl9LCBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIGNvbnN0IGNhY2hlID0gKHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV0gfHwgbmV3IERldGFjaGVkU3RhdGVDYWNoZSgpKTtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBsZXQgaXNNb2RhbCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9jYXRpb24uX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGlzTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGUucHVzaCh7IGtleSwgc3RhdGUsIGlzTW9kYWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0b3BJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKHRvcEl0ZW0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIHBvcCBmcm9tIERldGFjaGVkU3RhdGVDYWNoZSBidXQga2V5cyBkb24ndCBtYXRjaC4gXCIgKyBgZXhwZWN0ZWQ6ICR7dG9wSXRlbS5rZXl9IGFjdHVhbDogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0cmlldmUocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQsIG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBpZiAoaXNCYWNrICYmIGNhY2hlZEl0ZW0gJiYgY2FjaGVkSXRlbS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgc3RhdGUgPSBjYWNoZWRJdGVtLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGByZXRyaWV2ZWQgaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gc3RhdGU6ICR7c3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBzaG91bGRSZXVzZVJvdXRlKGZ1dHVyZSwgY3Vycikge1xuICAgICAgICBjb25zdCBzaG91bGRSZXVzZSA9IGZ1dHVyZS5yb3V0ZUNvbmZpZyA9PT0gY3Vyci5yb3V0ZUNvbmZpZztcbiAgICAgICAgaWYgKHNob3VsZFJldXNlICYmIGN1cnIgJiYgY3VycltwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSkge1xuICAgICAgICAgICAgLy8gV2hlbiByZXVzaW5nIHJvdXRlIC0gY29weSB0aGUgcGFnZVJvdXRlckFjdGl2YXRlZCB0byB0aGUgbmV3IHNuYXBzaG90XG4gICAgICAgICAgICAvLyBJdCdzIG5lZWRlZCBpbiBzaG91bGREZXRhY2ggdG8gZGV0ZXJtaW5lIGlmIHRoZSByb3V0ZSBzaG91bGQgYmUgZGV0YWNoZWQuXG4gICAgICAgICAgICBmdXR1cmVbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0gPSBjdXJyW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGRSZXVzZVJvdXRlIHJlc3VsdDogJHtzaG91bGRSZXVzZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkUmV1c2U7XG4gICAgfVxuICAgIGNsZWFyQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ2FjaGVGb3JDbGVhcihvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5tYXJrQ3VycmVudEZvckNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUucGVlaygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSAoX2EgPSBjYWNoZS5wb3AoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDYWNoZUZvclBvcChvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLm1hcmtlZEZvckRlbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1hcmtlZENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTWFya2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNb2RhbENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTW9kYWxDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuTlNSb3V0ZVJldXNlU3RyYXRlZ3kuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbk5TUm91dGVSZXVzZVN0cmF0ZWd5Lsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV07IH0gfSk7XG5cbmNsYXNzIFJvdXRlckV4dGVuc2lvbnMge1xuICAgIGNvbnN0cnVjdG9yKHJvdXRlciwgbG9jYXRpb25TdHJhdGVneSwgZnJhbWVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZSA9IGZyYW1lU2VydmljZTtcbiAgICB9XG4gICAgbmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcyk7XG4gICAgfVxuICAgIG5hdmlnYXRlQnlVcmwodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKHVybCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGJhY2soYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgIGlmIChiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja091dGxldHMoYmFja05hdmlnYXRpb25PcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuR29CYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICBsZXQgY2FuR29CYWNrID0gdHJ1ZTtcbiAgICAgICAgaWYgKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgeyBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzIH0gPSB0aGlzLmZpbmRPdXRsZXRzVG9CYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAob3V0bGV0c1RvQmFjay5sZW5ndGggIT09IG91dGxldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ05vIG91dGxldCBmb3VuZCByZWxhdGl2ZSB0byBhY3RpdmF0ZWQgcm91dGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dGxldHNUb0JhY2suZm9yRWFjaCgob3V0bGV0VG9CYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNhbkdvQmFjayhvdXRsZXRUb0JhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Hb0JhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FuR29CYWNrID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNhbkdvQmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW5Hb0JhY2s7XG4gICAgfVxuICAgIGJhY2tUb1ByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKS5nb0JhY2soKTtcbiAgICB9XG4gICAgY2FuR29CYWNrVG9QcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpLmNhbkdvQmFjaygpO1xuICAgIH1cbiAgICBiYWNrT3V0bGV0cyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0c1RvQmFjaywgb3V0bGV0cyB9ID0gdGhpcy5maW5kT3V0bGV0c1RvQmFjayhvcHRpb25zKTtcbiAgICAgICAgaWYgKG91dGxldHNUb0JhY2subGVuZ3RoICE9PSBvdXRsZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ05vIG91dGxldCBmb3VuZCByZWxhdGl2ZSB0byBhY3RpdmF0ZWQgcm91dGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dGxldHNUb0JhY2suZm9yRWFjaCgob3V0bGV0VG9CYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldFRvQmFjay5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgc3RhcnRHb0JhY2sgd2hpbGUgZ29pbmcgYmFjazonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG91dGxldFRvQmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgIGZpbmRPdXRsZXRzVG9CYWNrKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgcm9vdFJvdXRlID0gdGhpcy5yb3V0ZXIucm91dGVyU3RhdGUucm9vdDtcbiAgICAgICAgbGV0IG91dGxldHMgPSBvcHRpb25zLm91dGxldHM7XG4gICAgICAgIGxldCByZWxhdGl2ZVJvdXRlID0gb3B0aW9ucy5yZWxhdGl2ZVRvIHx8IHJvb3RSb3V0ZTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVSb3V0ZU91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5Um91dGUocmVsYXRpdmVSb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzTlNFbXB0eU91dGxldCA9IHJlbGF0aXZlUm91dGVPdXRsZXQgJiYgcmVsYXRpdmVSb3V0ZU91dGxldC5pc05TRW1wdHlPdXRsZXQ7XG4gICAgICAgIC8vIExhenkgbmFtZWQgb3V0bGV0IGhhcyBhZGRlZCAncHJpbWFyeScgaW5uZXIgTlNFbXB0eU91dGxldCBjaGlsZC5cbiAgICAgICAgLy8gVGFrZSBwYXJlbnQgcm91dGUgd2hlbiBgcmVsYXRpdmVUb2Agb3B0aW9uIHBvaW50cyB0byB0aGUgb3V0ZXIgbmFtZWQgb3V0bGV0LlxuICAgICAgICBpZiAoaXNOU0VtcHR5T3V0bGV0ICYmIHJlbGF0aXZlUm91dGUub3V0bGV0ICE9PSAncHJpbWFyeScpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlUm91dGUgPSByZWxhdGl2ZVJvdXRlLnBhcmVudCB8fCByZWxhdGl2ZVJvdXRlO1xuICAgICAgICB9XG4gICAgICAgIG91dGxldHMgPSBvdXRsZXRzIHx8IFtyZWxhdGl2ZVJvdXRlLm91dGxldF07XG4gICAgICAgIGNvbnN0IG91dGxldHNUb0JhY2sgPSB0aGlzLmZpbmRPdXRsZXRzUmVjdXJzaXZlKFsuLi5vdXRsZXRzXSwgcmVsYXRpdmVSb3V0ZSk7XG4gICAgICAgIHJldHVybiB7IG91dGxldHNUb0JhY2s6IG91dGxldHNUb0JhY2ssIG91dGxldHM6IG91dGxldHMgfTtcbiAgICB9XG4gICAgLy8gd2FybmluZywgb3V0bGV0cyBpcyBtdXRhYmxlIVxuICAgIGZpbmRPdXRsZXRzUmVjdXJzaXZlKG91dGxldHMsIHJvdXRlKSB7XG4gICAgICAgIGlmICghcm91dGUgfHwgb3V0bGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRsZXRzVG9CYWNrID0gW107XG4gICAgICAgIGlmIChvdXRsZXRzLnNvbWUoKGN1cnJlbnRPdXRsZXQpID0+IGN1cnJlbnRPdXRsZXQgPT09IHJvdXRlLm91dGxldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5Um91dGUocm91dGUpO1xuICAgICAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgICAgIG91dGxldHMuc3BsaWNlKG91dGxldHMuaW5kZXhPZihyb3V0ZS5vdXRsZXQpLCAxKTtcbiAgICAgICAgICAgICAgICBvdXRsZXRzVG9CYWNrLnB1c2gob3V0bGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0bGV0c1RvQmFjaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm91dGUuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBpZiAob3V0bGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHJvdXRlLmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgIG91dGxldHNUb0JhY2sucHVzaCguLi50aGlzLmZpbmRPdXRsZXRzUmVjdXJzaXZlKG91dGxldHMsIGN1cnJlbnRSb3V0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXRzVG9CYWNrO1xuICAgIH1cbiAgICBmaW5kT3V0bGV0QnlSb3V0ZShjdXJyZW50Um91dGUpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFJvdXRlU25hcHNob3AgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGN1cnJlbnRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKGN1cnJlbnRSb3V0ZVNuYXBzaG9wKTtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5LCBjdXJyZW50Um91dGVTbmFwc2hvcCk7XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxufVxuUm91dGVyRXh0ZW5zaW9ucy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBkZXBzOiBbeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IEZyYW1lU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuUm91dGVyRXh0ZW5zaW9ucy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm91dGVyRXh0ZW5zaW9ucywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0eXBlOiBGcmFtZVNlcnZpY2UgfV07IH0gfSk7XG5cbi8qKlxuICogVGhlIG5zUm91dGVyTGluayBkaXJlY3RpdmUgbGV0cyB5b3UgbGluayB0byBzcGVjaWZpYyBwYXJ0cyBvZiB5b3VyIGFwcC5cbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIHJvdXRlIGNvbmZpZ3VyYXRpb246XG4gKiBgYGBcbiAqIFt7IHBhdGg6IFwiL3VzZXJcIiwgY29tcG9uZW50OiBVc2VyQ21wIH1dXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGxpbmtpbmcgdG8gdGhpcyBgVXNlcmAgcm91dGUsIHlvdSBjYW4gd3JpdGU6XG4gKlxuICogYGBgXG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIltcIi91c2VyXCJdXCI+bGluayB0byB1c2VyIGNvbXBvbmVudDwvYT5cbiAqIGBgYFxuICpcbiAqIE5TUm91dGVyTGluayBleHBlY3RzIHRoZSB2YWx1ZSB0byBiZSBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzLCBmb2xsb3dlZCBieSB0aGUgcGFyYW1zXG4gKiBmb3IgdGhhdCBsZXZlbCBvZiByb3V0aW5nLiBGb3IgaW5zdGFuY2UgYFtcIi90ZWFtXCIsIHt0ZWFtSWQ6IDF9LCBcInVzZXJcIiwge3VzZXJJZDogMn1dYFxuICogbWVhbnMgdGhhdCB3ZSB3YW50IHRvIGdlbmVyYXRlIGEgbGluayB0byBgL3RlYW07dGVhbUlkPTEvdXNlcjt1c2VySWQ9MmAuXG4gKlxuICogVGhlIGZpcnN0IHNlZ21lbnQgbmFtZSBjYW4gYmUgcHJlcGVuZGVkIHdpdGggYC9gLCBgLi9gLCBvciBgLi4vYC5cbiAqIElmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAvYCwgdGhlIHJvdXRlciB3aWxsIGxvb2sgdXAgdGhlIHJvdXRlIGZyb20gdGhlIHJvb3Qgb2YgdGhlIGFwcC5cbiAqIElmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAuL2AsIG9yIGRvZXNuXCJ0IGJlZ2luIHdpdGggYSBzbGFzaCwgdGhlIHJvdXRlciB3aWxsXG4gKiBpbnN0ZWFkIGxvb2sgaW4gdGhlIGN1cnJlbnQgY29tcG9uZW50XCJzIGNoaWxkcmVuIGZvciB0aGUgcm91dGUuXG4gKiBBbmQgaWYgdGhlIHNlZ21lbnQgYmVnaW5zIHdpdGggYC4uL2AsIHRoZSByb3V0ZXIgd2lsbCBnbyB1cCBvbmUgbGV2ZWwuXG4gKi9cbmNsYXNzIE5TUm91dGVyTGluayB7XG4gICAgY29uc3RydWN0b3Iobmdab25lLCByb3V0ZXIsIG5hdmlnYXRvciwgcm91dGUsIGVsKSB7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IgPSBuYXZpZ2F0b3I7XG4gICAgICAgIHRoaXMucm91dGUgPSByb3V0ZTtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLnBhZ2VUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5vbigndGFwJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFwKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldCBwYXJhbXMoZGF0YSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzID0gW2RhdGFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVGFwKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgbnNSb3V0ZXJMaW5rLnRhcHBlZDogJHt0aGlzLmNvbW1hbmRzfSBgICsgYGNsZWFyOiAke3RoaXMuY2xlYXJIaXN0b3J5fSBgICsgYHRyYW5zaXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5wYWdlVHJhbnNpdGlvbil9IGAgKyBgZHVyYXRpb246ICR7dGhpcy5wYWdlVHJhbnNpdGlvbkR1cmF0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dHJhcyA9IHRoaXMuZ2V0RXh0cmFzKCk7XG4gICAgICAgIC8vIHRoaXMubmF2aWdhdG9yLm5hdmlnYXRlQnlVcmwodGhpcy51cmxUcmVlLCBleHRyYXMpO1xuICAgICAgICB0aGlzLm5hdmlnYXRvci5uYXZpZ2F0ZSh0aGlzLmNvbW1hbmRzLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV4dHJhcyksIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgcXVlcnlQYXJhbXM6IHRoaXMucXVlcnlQYXJhbXMsIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50LCBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLnF1ZXJ5UGFyYW1zSGFuZGxpbmcsIHByZXNlcnZlRnJhZ21lbnQ6IGF0dHJCb29sVmFsdWUodGhpcy5wcmVzZXJ2ZUZyYWdtZW50KSB9KSk7XG4gICAgfVxuICAgIGdldEV4dHJhcygpIHtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHRoaXMuZ2V0VHJhbnNpdGlvbigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2tpcExvY2F0aW9uQ2hhbmdlOiBhdHRyQm9vbFZhbHVlKHRoaXMuc2tpcExvY2F0aW9uQ2hhbmdlKSxcbiAgICAgICAgICAgIHJlcGxhY2VVcmw6IGF0dHJCb29sVmFsdWUodGhpcy5yZXBsYWNlVXJsKSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogdGhpcy5jb252ZXJ0Q2xlYXJIaXN0b3J5KHRoaXMuY2xlYXJIaXN0b3J5KSxcbiAgICAgICAgICAgIGFuaW1hdGVkOiB0cmFuc2l0aW9uLmFuaW1hdGVkLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbi50cmFuc2l0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgdXJsVHJlZSgpIHtcbiAgICAgICAgY29uc3QgdXJsVHJlZSA9IHRoaXMucm91dGVyLmNyZWF0ZVVybFRyZWUodGhpcy5jb21tYW5kcywge1xuICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IHRoaXMuZnJhZ21lbnQsXG4gICAgICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXG4gICAgICAgICAgICBwcmVzZXJ2ZUZyYWdtZW50OiBhdHRyQm9vbFZhbHVlKHRoaXMucHJlc2VydmVGcmFnbWVudCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgbnNSb3V0ZXJMaW5rIHVybFRyZWUgY3JlYXRlZDogJHt1cmxUcmVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxUcmVlO1xuICAgIH1cbiAgICBjb252ZXJ0Q2xlYXJIaXN0b3J5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICBnZXRUcmFuc2l0aW9uKCkge1xuICAgICAgICBsZXQgdHJhbnNpdGlvbjtcbiAgICAgICAgbGV0IGFuaW1hdGVkO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgYW5pbWF0ZWQgPSB0aGlzLnBhZ2VUcmFuc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdub25lJyB8fCB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnBhZ2VUcmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbmltYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uID0gdGhpcy5wYWdlVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9ICt0aGlzLnBhZ2VUcmFuc2l0aW9uRHVyYXRpb247XG4gICAgICAgIGlmICghaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbiB8fCB7fTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBhbmltYXRlZCwgdHJhbnNpdGlvbiB9O1xuICAgIH1cbn1cbk5TUm91dGVyTGluay7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmssIGRlcHM6IFt7IHRva2VuOiBpMC5OZ1pvbmUgfSwgeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogUm91dGVyRXh0ZW5zaW9ucyB9LCB7IHRva2VuOiBpMSQzLkFjdGl2YXRlZFJvdXRlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuTlNSb3V0ZXJMaW5rLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IE5TUm91dGVyTGluaywgc2VsZWN0b3I6IFwiW25zUm91dGVyTGlua11cIiwgaW5wdXRzOiB7IHRhcmdldDogXCJ0YXJnZXRcIiwgcXVlcnlQYXJhbXM6IFwicXVlcnlQYXJhbXNcIiwgZnJhZ21lbnQ6IFwiZnJhZ21lbnRcIiwgcXVlcnlQYXJhbXNIYW5kbGluZzogXCJxdWVyeVBhcmFtc0hhbmRsaW5nXCIsIHByZXNlcnZlUXVlcnlQYXJhbXM6IFwicHJlc2VydmVRdWVyeVBhcmFtc1wiLCBwcmVzZXJ2ZUZyYWdtZW50OiBcInByZXNlcnZlRnJhZ21lbnRcIiwgc2tpcExvY2F0aW9uQ2hhbmdlOiBcInNraXBMb2NhdGlvbkNoYW5nZVwiLCByZXBsYWNlVXJsOiBcInJlcGxhY2VVcmxcIiwgY2xlYXJIaXN0b3J5OiBcImNsZWFySGlzdG9yeVwiLCBwYWdlVHJhbnNpdGlvbjogXCJwYWdlVHJhbnNpdGlvblwiLCBwYWdlVHJhbnNpdGlvbkR1cmF0aW9uOiBcInBhZ2VUcmFuc2l0aW9uRHVyYXRpb25cIiwgcGFyYW1zOiBbXCJuc1JvdXRlckxpbmtcIiwgXCJwYXJhbXNcIl0gfSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGluaywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25zUm91dGVyTGlua10nIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zIH0sIHsgdHlwZTogaTEkMy5BY3RpdmF0ZWRSb3V0ZSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHRhcmdldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHF1ZXJ5UGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBxdWVyeVBhcmFtc0hhbmRsaW5nOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcHJlc2VydmVRdWVyeVBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHByZXNlcnZlRnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBza2lwTG9jYXRpb25DaGFuZ2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCByZXBsYWNlVXJsOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgY2xlYXJIaXN0b3J5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFnZVRyYW5zaXRpb246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwYWdlVHJhbnNpdGlvbkR1cmF0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbnNSb3V0ZXJMaW5rJ11cbiAgICAgICAgICAgIH1dIH0gfSk7XG5mdW5jdGlvbiBhdHRyQm9vbFZhbHVlKHMpIHtcbiAgICByZXR1cm4gcyA9PT0gJycgfHwgISFzO1xufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpmb3JpbiAqL1xuZnVuY3Rpb24gY29udGFpbnNUcmVlKGNvbnRhaW5lciwgY29udGFpbmVlLCBleGFjdCkge1xuICAgIGlmIChleGFjdCkge1xuICAgICAgICByZXR1cm4gZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLnJvb3QsIGNvbnRhaW5lZS5yb290KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFNlZ21lbnRHcm91cHMoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGNvbnRhaW5lZS5zZWdtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLm51bWJlck9mQ2hpbGRyZW4gIT09IGNvbnRhaW5lZS5udW1iZXJPZkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLCBjb250YWluZWUsIGNvbnRhaW5lZS5zZWdtZW50cyk7XG59XG5mdW5jdGlvbiBjb250YWluc1NlZ21lbnRHcm91cEhlbHBlcihjb250YWluZXIsIGNvbnRhaW5lZSwgY29udGFpbmVlUGF0aHMpIHtcbiAgICBpZiAoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCA+IGNvbnRhaW5lZVBhdGhzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY29udGFpbmVyLnNlZ21lbnRzLnNsaWNlKDAsIGNvbnRhaW5lZVBhdGhzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGN1cnJlbnQsIGNvbnRhaW5lZVBhdGhzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZWUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluZXIuc2VnbWVudHMubGVuZ3RoID09PSBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjb250YWluZWVQYXRocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGMgaW4gY29udGFpbmVlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLmNoaWxkcmVuW2NdLCBjb250YWluZWUuY2hpbGRyZW5bY10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKDAsIGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBuZXh0ID0gY29udGFpbmVlUGF0aHMuc2xpY2UoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltQUklNQVJZX09VVExFVF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSwgY29udGFpbmVlLCBuZXh0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFBhdGgoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0ucGF0aCAhPT0gYltpXS5wYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVGhlIE5TUm91dGVyTGlua0FjdGl2ZSBkaXJlY3RpdmUgbGV0cyB5b3UgYWRkIGEgQ1NTIGNsYXNzIHRvIGFuIGVsZW1lbnQgd2hlbiB0aGUgbGlua1wicyByb3V0ZVxuICogYmVjb21lcyBhY3RpdmUuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyXCIgb3IgXCIvdXNlci9ib2JcIiwgdGhlIGFjdGl2ZS1saW5rIGNsYXNzIHdpbGxcbiAqIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnQuIElmIHRoZSB1cmwgY2hhbmdlcywgdGhlIGNsYXNzIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXG4gKiBZb3UgY2FuIHNldCBtb3JlIHRoYW4gb25lIGNsYXNzLCBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImNsYXNzMSBjbGFzczJcIj5Cb2I8L2E+XG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiW1wiY2xhc3MxXCIsIFwiY2xhc3MyXCJdXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogWW91IGNhbiBjb25maWd1cmUgTlNSb3V0ZXJMaW5rQWN0aXZlIGJ5IHBhc3NpbmcgYGV4YWN0OiB0cnVlYC4gVGhpcyB3aWxsIGFkZCB0aGVcbiAqIGNsYXNzZXMgb25seSB3aGVuIHRoZSB1cmwgbWF0Y2hlcyB0aGUgbGluayBleGFjdGx5LlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCJcbiAqIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5Cb2I8L2E+XG4gKiBgYGBcbiAqXG4gKiBGaW5hbGx5LCB5b3UgY2FuIGFwcGx5IHRoZSBOU1JvdXRlckxpbmtBY3RpdmUgZGlyZWN0aXZlIHRvIGFuIGFuY2VzdG9yIG9mIGEgUm91dGVyTGluay5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5cbiAqICAgPGEgW25zUm91dGVyTGlua109XCIvdXNlci9qaW1cIj5KaW08L2E+XG4gKiAgIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCI+Qm9iPC9hPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHdpbGwgc2V0IHRoZSBhY3RpdmUtbGluayBjbGFzcyBvbiB0aGUgZGl2IHRhZyBpZiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyL2ppbVwiIG9yXG4gKiBcIi91c2VyL2JvYlwiLlxuICpcbiAqIEBzdGFibGVcbiAqL1xuY2xhc3MgTlNSb3V0ZXJMaW5rQWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGVsZW1lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMgPSB7IGV4YWN0OiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHJvdXRlci5ldmVudHMuc3Vic2NyaWJlKChzKSA9PiB7XG4gICAgICAgICAgICBpZiAocyBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XG4gICAgfVxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgdGhpcy5saW5rcy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgc2V0IG5zUm91dGVyTGlua0FjdGl2ZShkYXRhKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gZGF0YS5zcGxpdCgnICcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNBY3RpdmVMaW5rcyA9IHRoaXMuaGFzQWN0aXZlTGlua3MoKTtcbiAgICAgICAgLy8gcmVhY3Qgb25seSB3aGVuIHN0YXR1cyBoYXMgY2hhbmdlZCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IGRvbSB1cGRhdGVzXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSAhPT0gaGFzQWN0aXZlTGlua3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVcmxUcmVlID0gdGhpcy5yb3V0ZXIucGFyc2VVcmwodGhpcy5yb3V0ZXIudXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlTGlua3MgPSB0aGlzLnJlZHVjZUxpc3QoY3VycmVudFVybFRyZWUsIHRoaXMubGlua3MpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmVMaW5rcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShoYXNBY3RpdmVMaW5rcykudGhlbigoYWN0aXZlKSA9PiAodGhpcy5hY3RpdmUgPSBhY3RpdmUpKTtcbiAgICB9XG4gICAgcmVkdWNlTGlzdChjdXJyZW50VXJsVHJlZSwgcSkge1xuICAgICAgICByZXR1cm4gcS5yZWR1Y2UoKHJlcywgbGluaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyB8fCBjb250YWluc1RyZWUoY3VycmVudFVybFRyZWUsIGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgICBpc0xpbmtBY3RpdmUocm91dGVyKSB7XG4gICAgICAgIHJldHVybiAobGluaykgPT4gcm91dGVyLmlzQWN0aXZlKGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICB9XG4gICAgaGFzQWN0aXZlTGlua3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmtzLnNvbWUodGhpcy5pc0xpbmtBY3RpdmUodGhpcy5yb3V0ZXIpKTtcbiAgICB9XG59XG5OU1JvdXRlckxpbmtBY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rQWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuTlNSb3V0ZXJMaW5rQWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgc2VsZWN0b3I6IFwiW25zUm91dGVyTGlua0FjdGl2ZV1cIiwgaW5wdXRzOiB7IG5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnM6IFwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc1wiLCBuc1JvdXRlckxpbmtBY3RpdmU6IFwibnNSb3V0ZXJMaW5rQWN0aXZlXCIgfSwgcXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxpbmtzXCIsIHByZWRpY2F0ZTogTlNSb3V0ZXJMaW5rIH1dLCBleHBvcnRBczogW1wicm91dGVyTGlua0FjdGl2ZVwiXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25zUm91dGVyTGlua0FjdGl2ZV0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ3JvdXRlckxpbmtBY3RpdmUnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBsaW5rczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBDb250ZW50Q2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgYXJnczogW05TUm91dGVyTGlua11cbiAgICAgICAgICAgIH1dLCBuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbnNSb3V0ZXJMaW5rQWN0aXZlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBQYWdlUm91dGUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0Um91dGUpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRSb3V0ZSA9IG5ldyBCZWhhdmlvclN1YmplY3Qoc3RhcnRSb3V0ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoaXRlbSkge1xuICAgIHJldHVybiAhIWl0ZW0ucmVzb2x2ZUNvbXBvbmVudEZhY3Rvcnk7XG59XG5mdW5jdGlvbiBjYWxsYWJsZU9uY2UoZm4pIHtcbiAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgfTtcbn1cbmNsYXNzIERlc3RydWN0aWJsZUluamVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihkZXN0cnVjdGlibGVQcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycyA9IGRlc3RydWN0aWJsZVByb3ZpZGVycztcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMucmVmcyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgICAgICBjb25zdCByZWYgPSB0aGlzLnBhcmVudC5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKTtcbiAgICAgICAgLy8gaWYgd2UncmUgc2tpcHBpbmcgb3Vyc2VsdmVzIHRoZW4gaXQncyBub3Qgb3VyIHJlc3BvbnNpYmlsaXR5IHRvIGRlc3Ryb3lcbiAgICAgICAgaWYgKHR5cGVvZiBmbGFncyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmICghKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpICYmIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMuYWRkKHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIShmbGFncyA9PT0gbnVsbCB8fCBmbGFncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmxhZ3Muc2tpcFNlbGYpICYmIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMuYWRkKHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goKHJlZikgPT4ge1xuICAgICAgICAgICAgaWYgKHJlZi5uZ09uRGVzdHJveSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVmLm5nT25EZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlZnMuY2xlYXIoKTtcbiAgICB9XG59XG5jb25zdCByb3V0ZVRvU3RyaW5nID0gZnVuY3Rpb24gKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlLnBhdGhGcm9tUm9vdC5qb2luKCctPicpO1xufTtcbnJlZ2lzdGVyRWxlbWVudCgncGFnZS1yb3V0ZXItb3V0bGV0JywgKCkgPT4gRnJhbWUpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbmNsYXNzIFBhZ2VSb3V0ZXJPdXRsZXQge1xuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25JbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24uaW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25GYWN0b3J5UmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVyO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuYWN0aXZhdGVkO1xuICAgIH1cbiAgICBnZXQgY29tcG9uZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgIH1cbiAgICBnZXQgYWN0aXZhdGVkUm91dGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGU7XG4gICAgfVxuICAgIGdldCBhY3RpdmF0ZWRSb3V0ZURhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRDb250ZXh0cywgbG9jYXRpb24sIG5hbWUsIGFjdGlvbkJhclZpc2liaWxpdHksIGlzRW1wdHlPdXRsZXQsIGxvY2F0aW9uU3RyYXRlZ3ksIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgcmVzb2x2ZXIsIGNoYW5nZURldGVjdG9yLCBwYWdlRmFjdG9yeSwgcm91dGVSZXVzZVN0cmF0ZWd5LCBuZ1pvbmUsIHJvdXRlciwgZWxSZWYsIHZpZXdVdGlsLCBlbnZpcm9ubWVudEluamVjdG9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMgPSBwYXJlbnRDb250ZXh0cztcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yID0gY2hhbmdlRGV0ZWN0b3I7XG4gICAgICAgIHRoaXMucGFnZUZhY3RvcnkgPSBwYWdlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kgPSByb3V0ZVJldXNlU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudEluamVjdG9yID0gZW52aXJvbm1lbnRJbmplY3RvcjtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZXRhY2hFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuaXNFbXB0eU91dGxldCA9IGlzRW1wdHlPdXRsZXQ7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnNldEFjdGlvbkJhclZpc2liaWxpdHkoYWN0aW9uQmFyVmlzaWJpbGl0eSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmNvbnN0cnVjdG9yIGZyYW1lOiAke3RoaXMuZnJhbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSB8fCBQUklNQVJZX09VVExFVDtcbiAgICAgICAgcGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IHZpZXdVdGlsO1xuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICB9XG4gICAgc2V0QWN0aW9uQmFyVmlzaWJpbGl0eShhY3Rpb25CYXJWaXNpYmlsaXR5KSB7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uQmFyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgICAgIGNhc2UgJ25ldmVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkgPSBhY3Rpb25CYXJWaXNpYmlsaXR5O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5ID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIEluIHRoZSBldmVudCB0aGF0IHRoZSBgcGFyZW50Q29udGV4dHNgIGhhcyBjaGFuZ2VkIHRoZSBvdXRsZXRcbiAgICAgICAgLy8gdmlhIHRoZSBjcmVhdGlvbiBvZiBhbm90aGVyIG91dGxldCwgdGhlIGBvbkNoaWxkT3V0bGV0RGVzdHJveWVkYFxuICAgICAgICAvLyB3aWxsIGJlIHNraXBwZWRcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm91dGxldCkgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIC8vIENsZWFyIGFjY3VtdWxhdGVkIG1vZGFsIHZpZXcgcGFnZSBjYWNoZSB3aGVuIHBhZ2Utcm91dGVyLW91dGxldFxuICAgICAgICAgICAgLy8gZGVzdHJveWVkIG9uIG1vZGFsIHZpZXcgY2xvc2luZ1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyTW9kYWxDYWNoZShrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuY2xlYXJPdXRsZXQodGhpcy5mcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQubmdPbkRlc3Ryb3k6IG5vIG91dGxldCBhdmFpbGFibGUgZm9yIHBhZ2Utcm91dGVyLW91dGxldCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5kZXRhY2goKTtcbiAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYodGhpcy5hY3RpdmF0ZWQpO1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQoYyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMub3V0bGV0IHx8ICF0aGlzLm91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdDdXJyZW50bHkgbm90IGluIHBhZ2UgYmFjayBuYXZpZ2F0aW9uIC0gY29tcG9uZW50IHNob3VsZCBiZSBkZXRhY2hlZCBpbnN0ZWFkIG9mIGRlYWN0aXZhdGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0LmRlYWN0aXZhdGUoKSB3aGlsZSBnb2luZyBiYWNrIC0gc2hvdWxkIGRlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnBvc3ROYXZGdW5jdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZTtcbiAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZih0aGlzLmFjdGl2YXRlZCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVFdmVudHMuZW1pdChjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGBSb3V0ZVJldXNlU3RyYXRlZ3lgIGluc3RydWN0cyB0byBkZXRhY2ggdGhlIHN1YnRyZWVcbiAgICAgKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuZGV0YWNoKCkgLSAke3JvdXRlVG9TdHJpbmcodGhpcy5fYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMucG9zdE5hdkZ1bmN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gRGV0YWNoIGZyb20gQ2hhbmdlRGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LmRldGFjaCgpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmFjdGl2YXRlZDtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzLmVtaXQoY29tcG9uZW50Lmluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGBSb3V0ZVJldXNlU3RyYXRlZ3lgIGluc3RydWN0cyB0byByZS1hdHRhY2ggYSBwcmV2aW91c2x5IGRldGFjaGVkIHN1YnRyZWVcbiAgICAgKi9cbiAgICBhdHRhY2gocmVmLCBhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5hdHRhY2goKSAtICR7cm91dGVUb1N0cmluZyhhY3RpdmF0ZWRSb3V0ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSByZWY7XG4gICAgICAgIC8vIHJlYXR0YWNoIHRvIENoYW5nZURldGVjdGlvblxuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcucmVhdHRhY2goKTtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAgICAgdGhpcy5tYXJrQWN0aXZhdGVkUm91dGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyB3ZSBoYXZlIGEgY2hpbGQgd2l0aCB0aGUgc2FtZSBuYW1lLCBzbyB3ZSBkb24ndCBmaW5pc2ggdGhlIGJhY2sgbmF2XG4gICAgICAgIGlmICh0aGlzLmlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzLmVtaXQocmVmLmluc3RhbmNlKTtcbiAgICB9XG4gICAgaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gKF9hID0gdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jaGlsZHJlbjtcbiAgICAgICAgd2hpbGUgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbnRleHQgPSBjaGlsZHJlbi5nZXRDb250ZXh0KHRoaXMubmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNoaWxkQ29udGV4dCB8fCAhY2hpbGRDb250ZXh0Lm91dGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkQ29udGV4dC5vdXRsZXQgaW5zdGFuY2VvZiBQYWdlUm91dGVyT3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZENvbnRleHQuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSB0aGUgUm91dGVyIHRvIGluc3RhbnRpYXRlIGEgbmV3IGNvbXBvbmVudCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSBvZiBhIG5hdmlnYXRpb24uXG4gICAgICogVGhpcyBtZXRob2QgaW4gdHVybiBpcyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyB0aGUgYHJvdXRlck9uQWN0aXZhdGVgIGhvb2sgb2YgaXRzIGNoaWxkLlxuICAgICAqL1xuICAgIGFjdGl2YXRlV2l0aChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgdGhpcy5vdXRsZXQgPSB0aGlzLm91dGxldCB8fCB0aGlzLmdldE91dGxldChhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXQuaXNOU0VtcHR5T3V0bGV0ID0gdGhpcy5pc0VtcHR5T3V0bGV0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kudXBkYXRlT3V0bGV0RnJhbWUodGhpcy5vdXRsZXQsIHRoaXMuZnJhbWUsIHRoaXMuaXNFbXB0eU91dGxldCk7XG4gICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLm91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdDdXJyZW50bHkgaW4gcGFnZSBiYWNrIG5hdmlnYXRpb24gLSBjb21wb25lbnQgc2hvdWxkIGJlIHJlYXR0YWNoZWQgaW5zdGVhZCBvZiBhY3RpdmF0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGVXaXRoKCkgLSAke3JvdXRlVG9TdHJpbmcoYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIHRoaXMubWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlciB8fCB0aGlzLmVudmlyb25tZW50SW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlck9ySW5qZWN0b3IpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGUoKSBmb3J3YXJkIG5hdmlnYXRpb24gLSAnICsgJ2NyZWF0ZSBkZXRhY2hlZCBsb2FkZXIgaW4gdGhlIGxvYWRlciBjb250YWluZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudFR5cGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlRmFjdG9yeSh7XG4gICAgICAgICAgICBpc05hdmlnYXRpb246IHRydWUsXG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBjb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgICAgIGNvbnN0IGRlc3RydWN0aWJsZXMgPSBuZXcgU2V0KFtQYWdlU2VydmljZV0pO1xuICAgICAgICBjb25zdCBwYXJlbnRJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2UsIHVzZVZhbHVlOiBwYWdlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBGcmFtZSwgdXNlVmFsdWU6IHRoaXMuZnJhbWUgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2VSb3V0ZSwgdXNlVmFsdWU6IG5ldyBQYWdlUm91dGUoYWN0aXZhdGVkUm91dGUpIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBBY3RpdmF0ZWRSb3V0ZSwgdXNlVmFsdWU6IGFjdGl2YXRlZFJvdXRlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBDaGlsZHJlbk91dGxldENvbnRleHRzLCB1c2VWYWx1ZTogdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRPckNyZWF0ZUNvbnRleHQodGhpcy5uYW1lKS5jaGlsZHJlbiB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGFnZVNlcnZpY2UsIHVzZUNsYXNzOiBQYWdlU2VydmljZSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhcmVudDogbG9jYXRpb24uaW5qZWN0b3IsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IG5ldyBEZXN0cnVjdGlibGVJbmplY3RvcihkZXN0cnVjdGlibGVzLCBwYXJlbnRJbmplY3Rvcik7XG4gICAgICAgIGxldCBsb2FkZXJSZWY7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihyZXNvbHZlck9ySW5qZWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcmVzb2x2ZXJPckluamVjdG9yLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIGxvYWRlclJlZiA9IGxvY2F0aW9uLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5LCBsb2NhdGlvbi5sZW5ndGgsIGluamVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVudmlyb25tZW50SW5qZWN0b3IgPSByZXNvbHZlck9ySW5qZWN0b3I7XG4gICAgICAgICAgICBsb2FkZXJSZWYgPSBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoRGV0YWNoZWRMb2FkZXIsIHsgaW5kZXg6IGxvY2F0aW9uLmxlbmd0aCwgaW5qZWN0b3IsIGVudmlyb25tZW50SW5qZWN0b3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyUmVmLm9uRGVzdHJveSgoKSA9PiBpbmplY3Rvci5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGxvYWRlclJlZi5pbnN0YW5jZS5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZC5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMubG9hZENvbXBvbmVudEluUGFnZShwYWdlLCB0aGlzLmFjdGl2YXRlZCwgeyBhY3RpdmF0ZWRSb3V0ZSB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRbbG9hZGVyUmVmU3ltYm9sXSA9IGxvYWRlclJlZjtcbiAgICB9XG4gICAgbG9hZENvbXBvbmVudEluUGFnZShwYWdlLCBjb21wb25lbnRSZWYsIG5hdmlnYXRpb25Db250ZXh0KSB7XG4gICAgICAgIC8vIENvbXBvbmVudCBsb2FkZWQuIEZpbmQgaXRzIHJvb3QgbmF0aXZlIHZpZXcuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gb3JpZ2luYWwgbmF0aXZlIHBhcmVudC5cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDaGlsZChjb21wb25lbnRWaWV3LnBhcmVudCwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgbmV3IHBhZ2VcbiAgICAgICAgdGhpcy52aWV3VXRpbC5hcHBlbmRDaGlsZChwYWdlLCBjb21wb25lbnRWaWV3KTtcbiAgICAgICAgbGV0IHRvcEFjdGl2YXRlZFJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCh0aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGxldCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGNvbnN0IHRoaXNSb3V0ZUtleSA9IG91dGxldEtleTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXkpKSB7XG4gICAgICAgICAgICB0b3BBY3RpdmF0ZWRSb3V0ZSA9IHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgIGlmICghdG9wQWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQ291bGQgbm90IGZpbmQgb3V0bGV0IGZvciByb3V0ZTogJyArIHRoaXNSb3V0ZUtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2aWdhdGVkRnJvbUNhbGxiYWNrID0gZ2xvYmFsLlpvbmUuY3VycmVudC53cmFwKChhcmdzKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lLCBvdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogZXhwZXJpbWVudCB3aXRoIHVzaW5nIE5nWm9uZSBpbnN0ZWFkIG9mIGdsb2JhbCBhYm92ZVxuICAgICAgICAvLyBjb25zdCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2sgPSAoYXJnczogTmF2aWdhdGVkRGF0YSkgPT4ge1xuICAgICAgICAvLyBcdGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIFx0fVxuICAgICAgICAvLyB9O1xuICAgICAgICBwYWdlLm9uKFBhZ2UubmF2aWdhdGVkRnJvbUV2ZW50LCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2spO1xuICAgICAgICBjb21wb25lbnRSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgICAgICAgcGFnZS5vZmYoUGFnZS5uYXZpZ2F0ZWRGcm9tRXZlbnQsIG5hdmlnYXRlZEZyb21DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcGFnZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TmF2T3B0aW9ucyksICh0aGlzLnJvdXRlci5nZXRDdXJyZW50TmF2aWdhdGlvbigpLmV4dHJhcyB8fCB7fSkpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSwgbmF2T3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGlzUmVwbGFjZSA9IG5hdk9wdGlvbnMucmVwbGFjZVVybCAmJiAhbmF2T3B0aW9ucy5jbGVhckhpc3Rvcnk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHRoaXMuYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIC8vIENsZWFyIHJlZkNhY2hlIGlmIG5hdmlnYXRpb24gd2l0aCBjbGVhckhpc3RvcnlcbiAgICAgICAgaWYgKG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kubWFya0NhY2hlRm9yQ2xlYXIoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCB3aXBlQ2FjaGUgPSBjYWxsYWJsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROYXZGdW5jdGlvbiA9PT0gd2lwZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0bGV0ICYmIHRoaXMuYWN0aXZhdGVkUm91dGUgPT09IGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWwgYWx0ZXJuYXRpdmUgZml4IChvbmx5IGZpeCBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCBvdXRsZXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG5lc3RzID0gb3V0bGV0S2V5LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZmlsdGVyKChrKSA9PiBrLnNwbGl0KCcvJykubGVuZ3RoID49IG5lc3RzLmxlbmd0aCkuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhckNhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNYXJrZWRDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gd2lwZUNhY2hlO1xuICAgICAgICAgICAgY29uc3QgY2xlYXJDYWxsYmFjayA9ICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpcGVDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYXZPcHRpb25zLnJlcGxhY2VVcmwpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5tYXJrQ2FjaGVGb3JQb3Aoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCBwb3BDYWNoZSA9IGNhbGxhYmxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5hdkZ1bmN0aW9uID09PSBwb3BDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLmFjdGl2YXRlZFJvdXRlID09PSBjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsIGFsdGVybmF0aXZlIGZpeCAob25seSBmaXggY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgb3V0bGV0KVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXN0cyA9IG91dGxldEtleS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucG9wQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1hcmtlZENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBwb3BDYWNoZTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ2FsbGJhY2sgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3BDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogbmF2aWdhdGlvbkNvbnRleHQsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5LFxuICAgICAgICAgICAgYW5pbWF0ZWQ6IG5hdk9wdGlvbnMuYW5pbWF0ZWQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBuYXZPcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc1JlcGxhY2UgJiYgdGhpcy5mcmFtZS5jdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5yZXBsYWNlUGFnZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmQgYW5kIG1hcmsgdGhlIHRvcCBhY3RpdmF0ZWQgcm91dGUgYXMgYW4gYWN0aXZhdGVkIG9uZS5cbiAgICAvLyBJbiBucy1sb2NhdGlvbi1zdHJhdGVneSB3ZSBhcmUgcmV1c2luZyBjb21wb25lbnRzIG9ubHkgaWYgdGhlaXIgY29ycmVzcG9uaW5nIHJvdXRlc1xuICAgIC8vIGFyZSBtYXJrZWQgYXMgYWN0aXZhdGVkIGZyb20gdGhpcyBtZXRob2QuXG4gICAgbWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIHF1ZXVlLnB1c2goYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBsZXQgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY3VycmVudFJvdXRlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkUm91dGUpID0+IHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkUm91dGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAgICAgaWYgKG91dGxldCAmJiBvdXRsZXQuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvcEFjdGl2YXRlZFJvdXRlW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdBY3RpdmF0ZWQgcm91dGUgbWFya2VkIGFzIHBhZ2U6ICcgKyByb3V0ZVRvU3RyaW5nKHRvcEFjdGl2YXRlZFJvdXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb21wb25lbnRUeXBlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZS5yb3V0ZUNvbmZpZy5jb21wb25lbnQgfHwgYWN0aXZhdGVkUm91dGUuY29tcG9uZW50O1xuICAgIH1cbiAgICBnZXRPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCk7XG4gICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyBOYW1lZCBsYXp5IGxvYWRlZCBvdXRsZXQuXG4gICAgICAgIGlmICghb3V0bGV0ICYmIHRoaXMuaXNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXQub3V0bGV0S2V5cy5wdXNoKG91dGxldEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG59XG5QYWdlUm91dGVyT3V0bGV0Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIGRlcHM6IFt7IHRva2VuOiBpMSQzLkNoaWxkcmVuT3V0bGV0Q29udGV4dHMgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiAnbmFtZScsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiAnYWN0aW9uQmFyVmlzaWJpbGl0eScsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiAnaXNFbXB0eU91dGxldCcsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHRva2VuOiBQQUdFX0ZBQ1RPUlkgfSwgeyB0b2tlbjogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogVmlld1V0aWwgfSwgeyB0b2tlbjogaTAuRW52aXJvbm1lbnRJbmplY3RvciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5QYWdlUm91dGVyT3V0bGV0Lsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIHNlbGVjdG9yOiBcInBhZ2Utcm91dGVyLW91dGxldFwiLCBvdXRwdXRzOiB7IGFjdGl2YXRlRXZlbnRzOiBcImFjdGl2YXRlXCIsIGRlYWN0aXZhdGVFdmVudHM6IFwiZGVhY3RpdmF0ZVwiIH0sIG5nSW1wb3J0OiBpMCB9KTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FjdGl2YXRlZFJvdXRlLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwiYWN0aXZhdGVXaXRoXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbUGFnZSwgQ29tcG9uZW50UmVmLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwibG9hZENvbXBvbmVudEluUGFnZVwiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdwYWdlLXJvdXRlci1vdXRsZXQnIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmFtZSddXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogWydhY3Rpb25CYXJWaXNpYmlsaXR5J11cbiAgICAgICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ2lzRW1wdHlPdXRsZXQnXVxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW1BBR0VfRkFDVE9SWV1cbiAgICAgICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LCB7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IFZpZXdVdGlsIH0sIHsgdHlwZTogaTAuRW52aXJvbm1lbnRJbmplY3RvciB9XTtcbiAgICB9LCBwcm9wRGVjb3JhdG9yczogeyBhY3RpdmF0ZUV2ZW50czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWydhY3RpdmF0ZSddXG4gICAgICAgICAgICB9XSwgZGVhY3RpdmF0ZUV2ZW50czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWydkZWFjdGl2YXRlJ11cbiAgICAgICAgICAgIH1dLCBhY3RpdmF0ZVdpdGg6IFtdLCBsb2FkQ29tcG9uZW50SW5QYWdlOiBbXSB9IH0pO1xuXG5jbGFzcyBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIGV4dGVuZHMgUGxhdGZvcm1Mb2NhdGlvbiB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb25TdHJhdGVneSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbi5jb25zdHJ1Y3RvcigpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldEJhc2VIcmVmRnJvbURPTSgpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgb25Qb3BTdGF0ZShmbikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kub25Qb3BTdGF0ZShmbik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICBvbkhhc2hDaGFuZ2UoX2ZuKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgc2VhcmNoKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGdldCBoYXNoKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGdldCBwYXRobmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25TdHJhdGVneS5wYXRoKCk7XG4gICAgfVxuICAgIHNldCBwYXRobmFtZShfbmV3UGF0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gc2V0IHBhdGhuYW1lIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIHB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBudWxsKTtcbiAgICB9XG4gICAgcmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwsIG51bGwpO1xuICAgIH1cbiAgICBmb3J3YXJkKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGJhY2soKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKCk7XG4gICAgfVxufVxuTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbi7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5OYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dOyB9IH0pO1xuXG5jbGFzcyBOU0VtcHR5T3V0bGV0Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwYWdlKSB7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCdsb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZVJvdXRlck91dGxldCAmJiB0aGlzLnBhZ2UuZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlUm91dGVyT3V0bGV0LnNldEFjdGlvbkJhclZpc2liaWxpdHkodGhpcy5wYWdlLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuTlNFbXB0eU91dGxldENvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5OU0VtcHR5T3V0bGV0Q29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIHNlbGVjdG9yOiBcIm5zLWVtcHR5LW91dGxldFwiLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcInBhZ2VSb3V0ZXJPdXRsZXRcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogUGFnZVJvdXRlck91dGxldCwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFBhZ2VSb3V0ZXJPdXRsZXQgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IFwiPHBhZ2Utcm91dGVyLW91dGxldCBpc0VtcHR5T3V0bGV0PSd0cnVlJz48L3BhZ2Utcm91dGVyLW91dGxldD5cIiwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgc2VsZWN0b3I6IFwicGFnZS1yb3V0ZXItb3V0bGV0XCIsIG91dHB1dHM6IFtcImFjdGl2YXRlXCIsIFwiZGVhY3RpdmF0ZVwiXSB9XSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ25zLWVtcHR5LW91dGxldCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxwYWdlLXJvdXRlci1vdXRsZXQgaXNFbXB0eU91dGxldD0ndHJ1ZSc+PC9wYWdlLXJvdXRlci1vdXRsZXQ+XCIsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMS5QYWdlIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBwYWdlUm91dGVyT3V0bGV0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbUGFnZVJvdXRlck91dGxldCwgeyByZWFkOiBQYWdlUm91dGVyT3V0bGV0LCBzdGF0aWM6IGZhbHNlIH1dXG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5mdW5jdGlvbiBwcm92aWRlTG9jYXRpb25TdHJhdGVneShsb2NhdGlvblN0cmF0ZWd5LCBmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCkge1xuICAgIHJldHVybiBsb2NhdGlvblN0cmF0ZWd5ID8gbG9jYXRpb25TdHJhdGVneSA6IG5ldyBOU0xvY2F0aW9uU3RyYXRlZ3koZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpO1xufVxuY2xhc3MgTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlIHtcbiAgICBzdGF0aWMgZm9yUm9vdChyb3V0ZXMsIGNvbmZpZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIC4uLlJvdXRlck1vZHVsZS5mb3JSb290KHJvdXRlcywgY29uZmlnKS5wcm92aWRlcnMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IHByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiBbW05TTG9jYXRpb25TdHJhdGVneSwgbmV3IE9wdGlvbmFsKCksIG5ldyBTa2lwU2VsZigpXSwgRnJhbWVTZXJ2aWNlLCBbbmV3IE9wdGlvbmFsKCksIFNUQVJUX1BBVEhdXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogTG9jYXRpb25TdHJhdGVneSwgdXNlRXhpc3Rpbmc6IE5TTG9jYXRpb25TdHJhdGVneSB9LFxuICAgICAgICAgICAgICAgIE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQbGF0Zm9ybUxvY2F0aW9uLCB1c2VFeGlzdGluZzogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiB9LFxuICAgICAgICAgICAgICAgIFJvdXRlckV4dGVuc2lvbnMsXG4gICAgICAgICAgICAgICAgTlNSb3V0ZVJldXNlU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBSb3V0ZVJldXNlU3RyYXRlZ3ksIHVzZUV4aXN0aW5nOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGZvckNoaWxkKHJvdXRlcykge1xuICAgICAgICByZXR1cm4geyBuZ01vZHVsZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBwcm92aWRlcnM6IFJvdXRlck1vZHVsZS5mb3JDaGlsZChyb3V0ZXMpLnByb3ZpZGVycyB9O1xuICAgIH1cbn1cbk5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlY2xhcmF0aW9uczogW05TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSwgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSwgZXhwb3J0czogW1JvdXRlck1vZHVsZSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdIH0pO1xuTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgUm91dGVyTW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW05TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW1JvdXRlck1vZHVsZSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbmxldCBjdXJyZW50UmFmSWQgPSAxO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuLyoqXG4gKiBBbiBpbmplY3RhYmxlIHNlcnZpY2UgZm9yIGV4ZWN1dGluZyB3b3JrIGluc2lkZSBvciBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gb3B0aW1pemUgcGVyZm9ybWFuY2Ugd2hlbiBzdGFydGluZyBhIHdvcmsgY29uc2lzdGluZyBvZlxuICogb25lIG9yIG1vcmUgYXN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgcmVxdWlyZSBVSSB1cGRhdGVzIG9yIGVycm9yIGhhbmRsaW5nIHRvIGJlIGhhbmRsZWQgYnlcbiAqIEFuZ3VsYXIuIFN1Y2ggdGFza3MgY2FuIGJlIGtpY2tlZCBvZmYgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFuZCBpZiBuZWVkZWQsIHRoZXNlIHRhc2tzXG4gKiBjYW4gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIHZpYSB7QGxpbmsgI3J1bn0uXG4gKlxuICogPCEtLSBUT0RPOiBhZGQvZml4IGxpbmtzIHRvOlxuICogICAtIGRvY3MgZXhwbGFpbmluZyB6b25lcyBhbmQgdGhlIHVzZSBvZiB6b25lcyBpbiBBbmd1bGFyIGFuZCBjaGFuZ2UtZGV0ZWN0aW9uXG4gKiAgIC0gbGluayB0byBydW5PdXRzaWRlQW5ndWxhci9ydW4gKHRocm91Z2hvdXQgdGhpcyBmaWxlISlcbiAqICAgLS0+XG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgTmdab25lfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7TmdJZn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICduZy16b25lLWRlbW8nLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxoMj5EZW1vOiBOZ1pvbmU8L2gyPlxuICpcbiAqICAgICA8cD5Qcm9ncmVzczoge3twcm9ncmVzc319JTwvcD5cbiAqICAgICA8cCAqbmdJZj1cInByb2dyZXNzID49IDEwMFwiPkRvbmUgcHJvY2Vzc2luZyB7e2xhYmVsfX0gb2YgQW5ndWxhciB6b25lITwvcD5cbiAqXG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIHdpdGhpbiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgb3V0c2lkZSBvZiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgYCxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTmdab25lRGVtbyB7XG4gKiAgIHByb2dyZXNzOiBudW1iZXIgPSAwO1xuICogICBsYWJlbDogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbmdab25lOiBOZ1pvbmUpIHt9XG4gKlxuICogICAvLyBMb29wIGluc2lkZSB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ2luc2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiBjb25zb2xlLmxvZygnSW5zaWRlIERvbmUhJykpO1xuICogICB9XG4gKlxuICogICAvLyBMb29wIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyBOT1QgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnb3V0c2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAqICAgICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4ge1xuICogICAgICAgICAvLyByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRpc3BsYXkgZG9uZVxuICogICAgICAgICB0aGlzLl9uZ1pvbmUucnVuKCgpID0+IHsgY29uc29sZS5sb2coJ091dHNpZGUgRG9uZSEnKTsgfSk7XG4gKiAgICAgICB9KTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spLCAxMCk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOYXRpdmVTY3JpcHROZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKHsgZW5hYmxlTG9uZ1N0YWNrVHJhY2UgPSBpc0Rldk1vZGUoKSwgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9IHRydWUsIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBubyBvdXRzdGFuZGluZyBtaWNyb3Rhc2tzIG9yIG1hY3JvdGFza3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gY29kZSBlbnRlcnMgQW5ndWxhciBab25lLiBUaGlzIGdldHMgZmlyZWQgZmlyc3Qgb24gVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGVyZSBpcyBubyBtb3JlIG1pY3JvdGFza3MgZW5xdWV1ZWQgaW4gdGhlIGN1cnJlbnQgVk0gVHVybi5cbiAgICAgICAgICogVGhpcyBpcyBhIGhpbnQgZm9yIEFuZ3VsYXIgdG8gZG8gY2hhbmdlIGRldGVjdGlvbiwgd2hpY2ggbWF5IGVucXVldWUgbW9yZSBtaWNyb3Rhc2tzLlxuICAgICAgICAgKiBGb3IgdGhpcyByZWFzb24gdGhpcyBldmVudCBjYW4gZmlyZSBtdWx0aXBsZSB0aW1lcyBwZXIgVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGUgbGFzdCBgb25NaWNyb3Rhc2tFbXB0eWAgaGFzIHJ1biBhbmQgdGhlcmUgYXJlIG5vIG1vcmUgbWljcm90YXNrcywgd2hpY2hcbiAgICAgICAgICogaW1wbGllcyB3ZSBhcmUgYWJvdXQgdG8gcmVsaW5xdWlzaCBWTSB0dXJuLlxuICAgICAgICAgKiBUaGlzIGV2ZW50IGdldHMgY2FsbGVkIGp1c3Qgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYW4gZXJyb3IgaGFzIGJlZW4gZGVsaXZlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIGlmICh0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzYCk7XG4gICAgICAgIH1cbiAgICAgICAgWm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5fbmVzdGluZyA9IDA7XG4gICAgICAgIHNlbGYuX291dGVyID0gc2VsZi5faW5uZXIgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgIGlmIChab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsobmV3IFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10oKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUxvbmdTdGFja1RyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZSwgYWxsIHRhc2tzIGluY2x1ZGluZyBldmVudCB0YXNrcyB3aWxsIGJlXG4gICAgICAgIC8vIGNvYWxlc2NlZCwgc28gc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiBvcHRpb24gaXMgbm90IG5lY2Vzc2FyeSBhbmQgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9ICFzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiAmJiBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgIHNlbGYubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEaXNwYXRjaFRvTWFpblRocmVhZCA9IFV0aWxzW1pvbmUuX19zeW1ib2xfXygnZGlzcGF0Y2hUb01haW5UaHJlYWQnKV0gfHwgVXRpbHMuZGlzcGF0Y2hUb01haW5UaHJlYWQ7XG4gICAgICAgICAgICBuYXRpdmVEaXNwYXRjaFRvTWFpblRocmVhZChjYik7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFJhZklkKys7XG4gICAgICAgIH07XG4gICAgICAgIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHNlbGYpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICByZXR1cm4gWm9uZS5jdXJyZW50LmdldCgnaXNBbmd1bGFyWm9uZScpID09PSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKCFOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90IScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFzIGEgdGFzayBhbmQgcmV0dXJucyB2YWx1ZVxuICAgICAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5faW5uZXI7XG4gICAgICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdOZ1pvbmVFdmVudDogJyArIG5hbWUsIGZuLCBFTVBUWV9QQVlMT0FELCBub29wLCBub29wKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB6b25lLnJ1blRhc2sodGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYHJ1bmAsIGV4Y2VwdCB0aGF0IHN5bmNocm9ub3VzIGVycm9ycyBhcmUgY2F1Z2h0IGFuZCBmb3J3YXJkZWQgdmlhIGBvbkVycm9yYCBhbmQgbm90XG4gICAgICogcmV0aHJvd24uXG4gICAgICovXG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSBpbiBBbmd1bGFyJ3MgcGFyZW50IHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYWxsb3dzIHlvdSB0byBlc2NhcGUgQW5ndWxhcidzIHpvbmUgYW5kIGRvXG4gICAgICogd29yayB0aGF0XG4gICAgICogZG9lc24ndCB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlLWRldGVjdGlvbiBvciBpcyBzdWJqZWN0IHRvIEFuZ3VsYXIncyBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayAjcnVufSB0byByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRvIHdvcmsgdGhhdCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBtb2RlbC5cbiAgICAgKi9cbiAgICBydW5PdXRzaWRlQW5ndWxhcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGZuKTtcbiAgICB9XG59XG5jb25zdCBFTVBUWV9QQVlMT0FEID0ge307XG5mdW5jdGlvbiBjaGVja1N0YWJsZSh6b25lKSB7XG4gICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIGNoZWNrIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgdG8gcHJldmVudFxuICAgIC8vIHJlLWVudHJ5LiBUaGUgY2FzZSBpczpcbiAgICAvL1xuICAgIC8vIEBDb21wb25lbnQoey4uLn0pXG4gICAgLy8gZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgLy8gY29uc3RydWN0b3IocHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSkge1xuICAgIC8vICAgdGhpcy5uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAvLyAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IGNvbnNvbGUubG9nKCdzdGFibGUnKTspO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gVGhlIG9uU3RhYmxlIHN1YnNjcmliZXIgcnVuIGFub3RoZXIgZnVuY3Rpb24gaW5zaWRlIG5nWm9uZVxuICAgIC8vIHdoaWNoIGNhdXNlcyBgY2hlY2tTdGFibGUoKWAgcmUtZW50cnkuXG4gICAgLy8gQnV0IHRoaXMgZml4IGNhdXNlcyBzb21lIGlzc3VlcyBpbiBnMywgc28gdGhpcyBmaXggd2lsbCBiZVxuICAgIC8vIGxhdW5jaGVkIGluIGFub3RoZXIgUFIuXG4gICAgaWYgKHpvbmUuX25lc3RpbmcgPT0gMCAmJiAhem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyAmJiAhem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZysrO1xuICAgICAgICAgICAgem9uZS5vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgICAgICAgICBpZiAoIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25TdGFibGUuZW1pdChudWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKSB7XG4gICAgLyoqXG4gICAgICogV2UgYWxzbyBuZWVkIHRvIGNoZWNrIF9uZXN0aW5nIGhlcmVcbiAgICAgKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2Ugd2l0aCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWVcbiAgICAgKlxuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqXG4gICAgICogV2Ugd2FudCB0aGUgdHdvIGBuZ1pvbmUucnVuKClgIG9ubHkgdHJpZ2dlciBvbmUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHdoZW4gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZS5cbiAgICAgKiBBbmQgYmVjYXVzZSBpbiB0aGlzIGNhc2UsIGNoYW5nZSBkZXRlY3Rpb24gcnVuIGluIGFzeW5jIHdheShyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxuICAgICAqIHNvIHdlIGFsc28gbmVlZCB0byBjaGVjayB0aGUgX25lc3RpbmcgaGVyZSB0byBwcmV2ZW50IG11bHRpcGxlXG4gICAgICogY2hhbmdlIGRldGVjdGlvbnMuXG4gICAgICovXG4gICAgaWYgKHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSB6b25lLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKGdsb2JhbCwgKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIGlzIGEgd29yayBhcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM2ODM5LlxuICAgICAgICAvLyBUaGUgY29yZSBpc3N1ZSBpcyB0aGF0IHdoZW4gZXZlbnQgY29hbGVzY2luZyBpcyBlbmFibGVkIGl0IGlzIHBvc3NpYmxlIGZvciBtaWNyb3Rhc2tzXG4gICAgICAgIC8vIHRvIGdldCBmbHVzaGVkIHRvbyBlYXJseSAoQXMgaXMgdGhlIGNhc2Ugd2l0aCBgUHJvbWlzZS50aGVuYCkgYmV0d2VlbiB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUbyB3b3JrYXJvdW5kIHRoaXMgd2Ugc2NoZWR1bGUgYSBcImZha2VcIiBldmVudFRhc2sgYmVmb3JlIHdlIHByb2Nlc3MgdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy4gVGhlIGJlbmVmaXQgb2YgdGhpcyBpcyB0aGF0IHRoZSBcImZha2VcIiBjb250YWluZXIgZXZlbnRUYXNrXG4gICAgICAgIC8vICB3aWxsIHByZXZlbnQgdGhlIG1pY3JvdGFza3MgcXVldWUgZnJvbSBnZXR0aW5nIGRyYWluZWQgaW4gYmV0d2VlbiB0aGUgY29hbGVzY2luZ1xuICAgICAgICAvLyBldmVudFRhc2sgZXhlY3V0aW9uLlxuICAgICAgICBpZiAoIXpvbmUuZmFrZVRvcEV2ZW50VGFzaykge1xuICAgICAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrID0gWm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCdmYWtlVG9wRXZlbnRUYXNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgKCkgPT4geyB9LCAoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKTtcbiAgICB9KTtcbiAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG59XG5mdW5jdGlvbiBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcih6b25lKSB7XG4gICAgY29uc3QgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSA9ICgpID0+IHtcbiAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSk7XG4gICAgfTtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgaXNBbmd1bGFyWm9uZTogdHJ1ZSB9LFxuICAgICAgICBvbkludm9rZVRhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKCh6b25lLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gJiYgdGFzay50eXBlID09PSAnZXZlbnRUYXNrJykgfHwgem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiB8fCAhVXRpbHMuaXNNYWluVGhyZWFkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkludm9rZTogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZSh0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICh6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIHx8ICFVdGlscy5pc01haW5UaHJlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFzVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGhhc1Rhc2tTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFzVGFzayh0YXJnZXQsIGhhc1Rhc2tTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBoYXNUYXNrIGV2ZW50cyB3aGljaCBvcmlnaW5hdGUgZnJvbSBvdXIgem9uZVxuICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtaWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1pY3JvVGFzaztcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWFjcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1hY3JvVGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFuZGxlRXJyb3I6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25FcnJvci5lbWl0KGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSkge1xuICAgIGlmICh6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gb25FbnRlcih6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZysrO1xuICAgIGlmICh6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHpvbmUuaXNTdGFibGUgPSBmYWxzZTtcbiAgICAgICAgem9uZS5vblVuc3RhYmxlLmVtaXQobnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gb25MZWF2ZSh6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZy0tO1xuICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFQUF9ST09UX1ZJRVcsIEFjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIEFwcEhvc3RBc3luY1ZpZXcsIEFwcEhvc3RWaWV3LCBCYXNlUG9ydGFsT3V0bGV0LCBCYXNlVmFsdWVBY2Nlc3NvciwgQ09NTU9OX1BST1ZJREVSUywgQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXQsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBDb21tZW50Tm9kZSwgQ29tcG9uZW50UG9ydGFsLCBERVZJQ0UsIERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCBEYXRlVmFsdWVBY2Nlc3NvciwgRGV0YWNoZWRMb2FkZXIsIERvbVBvcnRhbCwgRU5BQkxFX1JFVVNBQkVfVklFV1MsIEVtdWxhdGVkUmVuZGVyZXIsIEZyYW1lRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnQsIEZyYW1lUGFnZU1vZHVsZSwgRnJhbWVTZXJ2aWNlLCBJT1NGaWx0ZXJDb21wb25lbnQsIEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIEludmlzaWJsZU5vZGUsIEl0ZW1Db250ZXh0LCBMaXN0Vmlld0NvbXBvbmVudCwgTW9kYWxEaWFsb2dQYXJhbXMsIE1vZGFsRGlhbG9nU2VydmljZSwgTkFNRVNQQUNFX0ZJTFRFUlMsIE5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTLCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgTkFUSVZFX0RJQUxPR19EQVRBLCBOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUywgTlNFbXB0eU91dGxldENvbXBvbmVudCwgTlNGaWxlU3lzdGVtLCBOU0xvY2F0aW9uU3RyYXRlZ3ksIE5TUm91dGVSZXVzZVN0cmF0ZWd5LCBOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIE5hdGl2ZURpYWxvZ0NvbmZpZywgTmF0aXZlRGlhbG9nTW9kdWxlLCBOYXRpdmVEaWFsb2dSZWYsIE5hdGl2ZURpYWxvZ1NlcnZpY2UsIE5hdGl2ZU1vZGFsUmVmLCBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBOYXRpdmVTY3JpcHREb2N1bWVudCwgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0LCBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIE5hdGl2ZVNjcmlwdE1vZHVsZSwgTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQsIE5hdGl2ZVNjcmlwdE5nWm9uZSwgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdFNhbml0aXplciwgTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTmdWaWV3UmVmLCBOc0h0dHBCYWNrRW5kLCBOc1RlbXBsYXRlZEl0ZW0sIE51bWJlclZhbHVlQWNjZXNzb3IsIE91dGxldCwgUEFHRV9GQUNUT1JZLCBQYWdlRGlyZWN0aXZlLCBQYWdlUm91dGUsIFBhZ2VSb3V0ZXJPdXRsZXQsIFBhZ2VTZXJ2aWNlLCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciwgUG9ydGFsLCBQb3J0YWxNb2R1bGUsIFJvb3RDb21wb3NpdGVNb2R1bGUsIFJvb3RWaWV3UHJveHksIFJvdXRlckV4dGVuc2lvbnMsIFNUQVJUX1BBVEgsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRlbXBsYXRlUG9ydGFsLCBUZXh0Tm9kZSwgVGV4dFZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBfTmF0aXZlRGlhbG9nQmFzZSwgYm9vdHN0cmFwQXBwbGljYXRpb24sIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uLCBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksIGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSwgY3VzdG9tUGFnZUZhY3RvcnksIGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLCBkYXNoQ2FzZVRvQ2FtZWxDYXNlLCBkZWZhdWx0TmF2T3B0aW9ucywgZGVmYXVsdFBhZ2VGYWN0b3J5LCBkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgZGV0YWNoVmlld0Zyb21QYXJlbnQsIGRpc2FibGVSb290Vmlld0hhbmRpbmcsIGVycm9ySGFuZGxlciwgZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUsIGZyYW1lTWV0YSwgZ2VuZXJhdGVEZXRhY2hlZExvYWRlciwgZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3LCBnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXcsIGdlbmVyYXRlUmFuZG9tSWQsIGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5LCBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3LCBnZXRJdGVtVmlld1Jvb3QsIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUsIGdldFZpZXdDbGFzcywgZ2V0Vmlld01ldGEsIGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciwgaW5zdGFudGlhdGVSZW5kZXJlckZhY3RvcnksIGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLCBpc0JsYW5rLCBpc0NvbnRlbnRWaWV3LCBpc0RldGFjaGVkRWxlbWVudCwgaXNJbnZpc2libGVOb2RlLCBpc0pzT2JqZWN0LCBpc0tub3duVmlldywgaXNMYXlvdXQsIGlzTGlzdExpa2VJdGVyYWJsZSwgaXNQcmVzZW50LCBpc1ZpZXcsIG9uQWZ0ZXJMaXZlc3luYywgb25CZWZvcmVMaXZlc3luYywgb25jZSwgcGxhdGZvcm1OYXRpdmVTY3JpcHQsIHBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYywgcG9zdEFuZ3VsYXJCb290c3RyYXAkLCBwcmVBbmd1bGFyRGlzcG9zYWwkLCBwcm92aWRlTG9jYXRpb25TdHJhdGVneSwgcmVnaXN0ZXJFbGVtZW50LCByZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzLCBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwLCB0aHJvd0lmQWxyZWFkeUxvYWRlZCwgdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IsIHRocm93TnVsbFBvcnRhbEVycm9yLCB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvciwgdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvciwgdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvciwgdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yLCBDT01QT05FTlRfVkFSSUFCTEUgYXMgybVDT01QT05FTlRfVkFSSUFCTEUsIENPTlRFTlRfQVRUUiBhcyDJtUNPTlRFTlRfQVRUUiwgSE9TVF9BVFRSIGFzIMm1SE9TVF9BVFRSLCBOYXRpdmVTY3JpcHREZWJ1ZyBhcyDJtU5hdGl2ZVNjcmlwdEFuZ3VsYXJEZWJ1Zywgdmlld1V0aWwgYXMgybVWaWV3VXRpbCwgYWN0aW9uQmFyTWV0YSBhcyDJtWFjdGlvbkJhck1ldGEsIGVsZW1lbnRNYXAgYXMgybVlbGVtZW50TWFwLCBpc0FjdGlvbkl0ZW0gYXMgybVpc0FjdGlvbkl0ZW0sIGlzTmF2aWdhdGlvbkJ1dHRvbiBhcyDJtWlzTmF2aWdhdGlvbkJ1dHRvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlc2NyaXB0LWFuZ3VsYXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbImkxIiwiVmlldyIsIkxheW91dEJhc2UiLCJDb250ZW50VmlldyIsIlByb3h5Vmlld0NvbnRhaW5lciIsIlBhZ2UiLCJwbGF0Zm9ybU5hbWVzIiwiR3JpZExheW91dCIsIkFwcGxpY2F0aW9uIiwiVHJhY2UiLCJGb3JtYXR0ZWRTdHJpbmciLCJTcGFuIiwiQWJzb2x1dGVMYXlvdXQiLCJBY3Rpdml0eUluZGljYXRvciIsIkJ1dHRvbiIsIkRhdGVQaWNrZXIiLCJEb2NrTGF5b3V0IiwiRnJhbWUiLCJIdG1sVmlldyIsIkltYWdlIiwiTGFiZWwiLCJMaXN0UGlja2VyIiwiTGlzdFZpZXciLCJQbGFjZWhvbGRlciIsIlByb2dyZXNzIiwiUmVwZWF0ZXIiLCJSb290TGF5b3V0IiwiU2Nyb2xsVmlldyIsIlNlYXJjaEJhciIsIlNlZ21lbnRlZEJhciIsIlNlZ21lbnRlZEJhckl0ZW0iLCJTbGlkZXIiLCJTdGFja0xheW91dCIsIkZsZXhib3hMYXlvdXQiLCJTd2l0Y2giLCJUYWJWaWV3IiwiVGV4dEZpZWxkIiwiVGV4dFZpZXciLCJUaW1lUGlja2VyIiwiV2ViVmlldyIsIldyYXBMYXlvdXQiLCJ1bnNldFZhbHVlIiwicHJvZmlsZSIsImFkZFRhZ2dlZEFkZGl0aW9uYWxDU1MiLCJnZXRWaWV3QnlJZCIsIk9ic2VydmFibGUiLCJBY3Rpb25JdGVtIiwiTmF2aWdhdGlvbkJ1dHRvbiIsIkFjdGlvbkJhciIsIk9ic2VydmFibGVBcnJheSIsIlRhYlZpZXdJdGVtIiwiQ29sb3IiLCJEZXZpY2UiLCJVdGlscyIsInJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1MiLCJrbm93bkZvbGRlcnMiLCJGaWxlIiwiS2V5ZnJhbWVBbmltYXRpb24iLCJhbmltYXRpb25UaW1pbmdGdW5jdGlvbkNvbnZlcnRlciIsInBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnMiLCJDU1NIZWxwZXIiLCJlYWNoRGVzY2VuZGFudCIsIkNzc0FuaW1hdGlvblByb3BlcnR5IiwicGF0aCIsImkwIiwiSW5qZWN0aW9uVG9rZW4iLCJJbmplY3QiLCJDb21wb25lbnRSZWYiLCJJbmplY3RhYmxlIiwiVmlld0VuY2Fwc3VsYXRpb24iLCJPcHRpb25hbCIsIkVsZW1lbnRSZWYiLCJEaXJlY3RpdmUiLCJFdmVudEVtaXR0ZXIiLCJPdXRwdXQiLCJOZ01vZHVsZSIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkFwcGxpY2F0aW9uUmVmIiwiSW5qZWN0b3IiLCJWaWV3Q29udGFpbmVyUmVmIiwiQ29tcG9uZW50IiwiVmlld0NoaWxkIiwiSW5wdXQiLCJpbmplY3QiLCJJdGVyYWJsZURpZmZlcnMiLCJDaGFuZ2VEZXRlY3RvclJlZiIsImZvcndhcmRSZWYiLCJUZW1wbGF0ZVJlZiIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiQ29udGVudENoaWxkIiwiSG9zdExpc3RlbmVyIiwiSG9zdCIsIk5PX0VSUk9SU19TQ0hFTUEiLCJFcnJvckhhbmRsZXIiLCJTa2lwU2VsZiIsIsm1SU5KRUNUT1JfU0NPUEUiLCJSZW5kZXJlckZhY3RvcnkyIiwiQXBwbGljYXRpb25Nb2R1bGUiLCJQbGF0Zm9ybVJlZiIsIk5nTW9kdWxlUmVmIiwiybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uIiwiTmdab25lIiwiU2FuaXRpemVyIiwiY3JlYXRlUGxhdGZvcm1GYWN0b3J5IiwicGxhdGZvcm1Db3JlIiwiQ29udGVudENoaWxkcmVuIiwiSW5qZWN0RmxhZ3MiLCJBdHRyaWJ1dGUiLCJpc0Rldk1vZGUiLCJfX2RlY29yYXRlIiwiX19wYXJhbSIsIl9fbWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJpMSQxIiwiWGhyRmFjdG9yeSIsIkxvY2F0aW9uU3RyYXRlZ3kiLCJDb21tb25Nb2R1bGUiLCJWaWV3cG9ydFNjcm9sbGVyIiwiybVOdWxsVmlld3BvcnRTY3JvbGxlciIsIkRPQ1VNRU5UIiwiUGxhdGZvcm1Mb2NhdGlvbiIsImZpbHRlciIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwibWFwIiwidGFrZSIsInN0YXJ0V2l0aCIsIkJlaGF2aW9yU3ViamVjdCIsIlN1YmplY3QiLCJmcm9tRXZlbnQiLCJkZWZlciIsIk9ic2VydmFibGUkMSIsImkxJDMiLCJEZWZhdWx0VXJsU2VyaWFsaXplciIsIlBSSU1BUllfT1VUTEVUIiwiTmF2aWdhdGlvbkVuZCIsIkFjdGl2YXRlZFJvdXRlIiwiQ2hpbGRyZW5PdXRsZXRDb250ZXh0cyIsIlJvdXRlck1vZHVsZSIsIlJvdXRlUmV1c2VTdHJhdGVneSIsIk5HX1ZBTFVFX0FDQ0VTU09SIiwiRm9ybXNNb2R1bGUiLCJBbmltYXRpb25CdWlsZGVyIiwiaTEkMiIsIsm1QW5pbWF0aW9uRW5naW5lIiwiybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyIiwiQW5pbWF0aW9uRHJpdmVyIiwiybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIiLCLJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeSIsIsm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIiLCJIdHRwWGhyQmFja2VuZCIsIkh0dHBSZXNwb25zZSIsIkh0dHBFcnJvclJlc3BvbnNlIiwiSHR0cENsaWVudE1vZHVsZSIsIkh0dHBCYWNrZW5kIiwiZ2V0Q2xhc3NOYW1lIiwiaW5zdGFuY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJJbnZpc2libGVOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsInRvU3RyaW5nIiwiaWQiLCJDb21tZW50Tm9kZSIsInZhbHVlIiwibWV0YSIsInNraXBBZGRUb0RvbSIsIlRleHROb2RlIiwidGV4dCIsIl90ZXh0IiwidCIsIm5vdGlmeSIsImV2ZW50TmFtZSIsInRleHRDaGFuZ2VFdmVudCIsIm9iamVjdCIsImNhbGxiYWNrTWFwIiwiTWFwIiwicmVnaXN0ZXJUZXh0Q2hhbmdlIiwiY2FsbGJhY2siLCJjYiIsImV2dCIsImNiQXJyIiwiZ2V0IiwicHVzaCIsInNldCIsIm9uIiwidW5yZWdpc3RlclRleHRDaGFuZ2UiLCJmb3JFYWNoIiwib2ZmIiwiZGVsZXRlIiwiaXNEZXRhY2hlZEVsZW1lbnQiLCJlbGVtZW50IiwiaXNWaWV3IiwidmlldyIsImlzSW52aXNpYmxlTm9kZSIsImlzTGF5b3V0IiwiaXNDb250ZW50VmlldyIsImdldEZpcnN0TmF0aXZlTGlrZVZpZXciLCJleHRyYWN0RnJvbU5TUGFyZW50IiwiZ2V0Q2hpbGRyZW5Db3VudCIsImdldENoaWxkQXQiLCJub2RlIiwicGFyZW50Tm9kZSIsImRldGFjaFZpZXdGcm9tUGFyZW50IiwicGFyZW50IiwicmVtb3ZlQ2hpbGQiLCJjb250ZW50IiwiX3JlbW92ZVZpZXciLCJBUFBfUk9PVF9WSUVXIiwiTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEIiwiU1RBUlRfUEFUSCIsIkVOQUJMRV9SRVVTQUJFX1ZJRVdTIiwiRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkciLCJERVZJQ0UiLCJQQUdFX0ZBQ1RPUlkiLCJkZWZhdWx0UGFnZUZhY3RvcnkiLCJfb3B0cyIsIlBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyIiwiZGV2aWNlIiwicnVuc0luIiwibmFtZXNwYWNlIiwibmV4dCIsIm9zIiwiYW5kcm9pZCIsImlvcyIsIk9iamVjdCIsIk5BTUVTUEFDRV9GSUxURVJTIiwiTmdWaWV3UmVmIiwicmVmIiwibG9jYXRpb24iLCJuYXRpdmVFbGVtZW50Iiwicm9vdE5vZGVzIiwiZmluZCIsInYiLCJmaXJzdE5hdGl2ZUxpa2VWaWV3IiwiZGV0YWNoTmF0aXZlTGlrZVZpZXciLCJBcHBIb3N0VmlldyIsImJhY2tncm91bmRDb2xvciIsInRpbWVvdXQiLCJuZ0FwcFJvb3QiLCJfbmdBcHBSb290IiwiX2NvbnRlbnQiLCJ1bmRlZmluZWQiLCJncmlkIiwiYWRkQ2hpbGQiLCJzY2hlZHVsZVJvb3RDaGFuZ2UiLCJzZXRUaW1lb3V0IiwicmVzZXRSb290VmlldyIsImNyZWF0ZSIsIkFwcEhvc3RBc3luY1ZpZXciLCJOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSIsIm1haW5Nb2R1bGVSZWFkeSQiLCJyZWFkeVRvRGVzdHJveSQiLCJvbk1haW5Nb2R1bGVSZWFkeSQiLCJwaXBlIiwicmVhZHkiLCJ3YWl0VW50aWxOb3RpZmllZCIsIm5vdGlmeVJlYWR5VG9EZXN0cm95IiwiaXNNYWluTW9kdWxlUmVhZHkiLCJuZ09uRGVzdHJveSIsImNvbXBsZXRlIiwiX25vdGlmeU1haW5Nb2R1bGVSZWFkeSIsIsm1ZmFjIiwiybVwcm92IiwidHlwZSIsImFyZ3MiLCJwcm92aWRlZEluIiwiTmF0aXZlU2NyaXB0RGVidWciLCJpc0xvZ0VuYWJsZWQiLCJpc0VuYWJsZWQiLCJhbmltYXRpb25zTG9nIiwibWVzc2FnZSIsIndyaXRlIiwiYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkiLCJyZW5kZXJlckxvZyIsIm1zZyIsInJlbmRlcmVyVHJhY2VDYXRlZ29yeSIsInJlbmRlcmVyRXJyb3IiLCJtZXNzYWdlVHlwZSIsImVycm9yIiwidmlld1V0aWxMb2ciLCJ2aWV3VXRpbENhdGVnb3J5Iiwicm91dGVyTG9nIiwicm91dGVyVHJhY2VDYXRlZ29yeSIsInJvdXRlckVycm9yIiwicm91dGVSZXVzZVN0cmF0ZWd5TG9nIiwicm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSIsInN0eWxlRXJyb3IiLCJjYXRlZ29yaWVzIiwiU3R5bGUiLCJsaXN0Vmlld0xvZyIsImxpc3RWaWV3VHJhY2VDYXRlZ29yeSIsImxpc3RWaWV3RXJyb3IiLCJib290c3RyYXBMb2ciLCJib290c3RyYXBDYXRlZ29yeSIsImJvb3RzdHJhcExvZ0Vycm9yIiwiZW5hYmxlZCIsIk5hdGl2ZXNjcmlwdFhockZhY3RvcnkiLCJidWlsZCIsIlhNTEh0dHBSZXF1ZXN0IiwiZnJhbWVNZXRhIiwiaW5zZXJ0Q2hpbGQiLCJjaGlsZCIsIm5hdmlnYXRlIiwiRXJyb3IiLCJmb3JtYXR0ZWRTdHJpbmdNZXRhIiwiaW5kZXgiLCJzcGFucyIsImluZGV4T2YiLCJzcGxpY2UiLCJ0ZXh0QmFzZU1ldGEiLCJfYSIsImZvcm1hdHRlZFRleHQiLCJlbGVtZW50TWFwIiwiY2FtZWxDYXNlU3BsaXQiLCJkZWZhdWx0Vmlld01ldGEiLCJyZWdpc3RlckVsZW1lbnQiLCJlbGVtZW50TmFtZSIsInJlc29sdmVyIiwiZW50cnkiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJnZXRWaWV3Q2xhc3MiLCJUeXBlRXJyb3IiLCJlIiwiZ2V0Vmlld01ldGEiLCJpc0tub3duVmlldyIsImhhcyIsImV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlIiwibm9kZXMiLCJuZXN0TGV2ZWwiLCJhY3R1YWxOb2RlcyIsImxlbmd0aCIsInJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsInBhcmVudExheW91dCIsImdldFNpbmdsZVZpZXdSZWN1cnNpdmUiLCJyZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzIiwiZ2xvYmFsIiwiX19uZ1JlZ2lzdGVyZWRWaWV3cyIsImlzQ3NzVmFyaWFibGUiLCJwcm9wZXJ0eSIsInRlc3QiLCJFTEVNRU5UX05PREVfVFlQRSIsIlhNTF9BVFRSSUJVVEVTIiwiZnJlZXplIiwid2hpdGVTcGFjZVNwbGl0dGVyIiwicHJpbnROZ1RyZWUiLCJmaXJzdENoaWxkIiwicHJpbnRDaGlsZHJlblJlY3Vyc2UiLCJnZXRDaGlsZHJlblNpYmxpbmdzIiwibmV4dFNpYmxpbmdzIiwiY29uc29sZSIsImxvZyIsImxhc3RDaGlsZCIsImMiLCJwcmV2aW91c1NpYmxpbmdzIiwic2libGluZyIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwicHJpbnRTaWJsaW5nc1RyZWUiLCJwcm9wZXJ0eU1hcHMiLCJWaWV3VXRpbCIsIm5hbWVzcGFjZUZpbHRlcnMiLCJyZXVzZVZpZXdzIiwicHJldmlvdXMiLCJleHRlbmRlZFBhcmVudCIsImVuc3VyZU5nVmlld0V4dGVuc2lvbnMiLCJleHRlbmRlZENoaWxkIiwiaW5zZXJ0SW5MaXN0IiwibmV4dFZpc3VhbCIsImZpbmROZXh0VmlzdWFsIiwiYWRkVG9WaXN1YWxUcmVlIiwiYWRkSW52aXNpYmxlTm9kZSIsImluc2VydEJlZm9yZSIsInJlZkNoaWxkIiwiZXh0ZW5kZWRSZWYiLCJpbnNlcnRBZnRlciIsImFwcGVuZENoaWxkIiwiaW5zZXJ0VG9MYXlvdXQiLCJfYWRkQ2hpbGRGcm9tQnVpbGRlciIsImluc2VydEludmlzaWJsZU5vZGUiLCJyZW1vdmVMYXlvdXRDaGlsZCIsImdldENoaWxkSW5kZXgiLCJyZW1vdmVGcm9tTGlzdCIsInJlbW92ZUZyb21WaXN1YWxUcmVlIiwicmVtb3ZlSW52aXNpYmxlTm9kZSIsImZpbmRQcmV2aW91c0VsZW1lbnQiLCJwcmV2aW91c1Zpc3VhbCIsImdldFByZXZpb3VzVmlzdWFsRWxlbWVudCIsImVsZW1lbnRJbmRleCIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVUZXh0IiwiY3JlYXRlVmlldyIsIm9yaWdpbmFsTmFtZSIsInZpZXdDbGFzcyIsIm5nVmlldyIsInNldE5nVmlld0V4dGVuc2lvbnMiLCJyZXVzYWJsZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNzc1R5cGUiLCJ0eXBlTmFtZSIsInNldFByb3BlcnR5IiwiYXR0cmlidXRlTmFtZSIsInByb3BlcnRpZXMiLCJzcGxpdCIsInByb3BNYXAiLCJnZXRQcm9wZXJ0aWVzIiwiaSIsInByb3AiLCJzZXRQcm9wZXJ0eUludGVybmFsIiwicGxhdGZvcm0iLCJydW5zIiwibGFzdCIsImNoYWluIiwicCIsImN1cnJlbnRDaGFpbiIsInNldENsYXNzZXMiLCJwcm9wZXJ0eU5hbWUiLCJBcnJheSIsImlzQXJyYXkiLCJyZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwicHJvcE5hbWUiLCJjc3NDbGFzc2VzIiwibmdDc3NDbGFzc2VzIiwiYWRkQ2xhc3MiLCJjbGFzc05hbWUiLCJleHRlbmRlZFZpZXciLCJzeW5jQ2xhc3NlcyIsInJlbW92ZUNsYXNzIiwiY2xhc3Nlc1ZhbHVlIiwiY2xhc3NlcyIsImNsZWFyIiwiY2xhc3NWYWx1ZSIsImZyb20iLCJrZXlzIiwiam9pbiIsInNldFN0eWxlIiwic3R5bGVOYW1lIiwic3R5bGUiLCJzZXRVbnNjb3BlZENzc1ZhcmlhYmxlIiwiX29uQ3NzU3RhdGVDaGFuZ2UiLCJyZW1vdmVTdHlsZSIsInVuc2NvcGVkQ3NzVmFyaWFibGVzIiwidmlld1V0aWwiLCJfX3Byb3RvX18iLCJhZGRTdHlsZVRvQ3NzIiwidGFnIiwiYWRkQ3NzIiwicnVuSW5Sb290Wm9uZSIsImZuIiwiWm9uZSIsInJvb3QiLCJydW4iLCJpblJvb3Rab25lIiwidGFyZ2V0Iiwia2V5IiwiZGVzY3JpcHRvciIsImNoaWxkRnVuY3Rpb24iLCJiaW5kIiwiTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5Iiwicm9vdFZpZXciLCJyb290TW9kdWxlSUQiLCJjb21wb25lbnRSZW5kZXJlcnMiLCJkZWZhdWx0UmVuZGVyZXIiLCJOYXRpdmVTY3JpcHRSZW5kZXJlciIsImNyZWF0ZVJlbmRlcmVyIiwiaG9zdEVsZW1lbnQiLCJlbmNhcHN1bGF0aW9uIiwicmVuZGVyZXIiLCJFbXVsYXRlZFJlbmRlcmVyIiwiYXBwbHlUb0hvc3QiLCJOb25lIiwic3R5bGVzIiwicyIsIndoZW5SZW5kZXJpbmdEb25lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbnRlcnZhbCIsInNjaGVkdWxlUmVzb2x2ZSIsImZpcmVXaGVuTG9hZGVkIiwicm9vdEZhY3RvcnkiLCJpc0xvYWRlZCIsIm9uY2UiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkZXN0cm95Tm9kZSIsImRhdGEiLCJkZXN0cm95IiwiY3JlYXRlRWxlbWVudCIsIm9sZE5hbWUiLCJjdXN0b21DU1NOYW1lIiwibmV3Q2hpbGQiLCJvbGRDaGlsZCIsImlzSG9zdEVsZW1lbnQiLCJzZWxlY3RSb290RWxlbWVudCIsInNlbGVjdG9yT3JOb2RlIiwicHJlc2VydmVDb250ZW50IiwicmVzdWx0Iiwic2xpY2UiLCJzZXRBdHRyaWJ1dGUiLCJlbCIsInJlbW92ZUF0dHJpYnV0ZSIsImZsYWdzIiwic2V0VmFsdWUiLCJsaXN0ZW4iLCJsb2FkZWRFdmVudCIsIm9icyIsIkZ1bmN0aW9uIiwiU3RyaW5nIiwicHJvdG90eXBlIiwiQm9vbGVhbiIsIk51bWJlciIsIkNPTVBPTkVOVF9SRUdFWCIsIkFUVFJfU0FOSVRJWkVSIiwiQ09NUE9ORU5UX1ZBUklBQkxFIiwiSE9TVF9BVFRSIiwiQ09OVEVOVF9BVFRSIiwicmVwbGFjZU5nQXR0cmlidXRlIiwiaW5wdXQiLCJjb21wb25lbnRJZCIsImFkZFNjb3BlZFN0eWxlVG9Dc3MiLCJjb21wb25lbnQiLCJyb290TW9kdWxlSWQiLCJjb250ZW50QXR0ciIsImhvc3RBdHRyIiwiYWRkU3R5bGVzIiwidGhyb3dOdWxsUG9ydGFsRXJyb3IiLCJ0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yIiwidGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvciIsInRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvciIsInRocm93TnVsbFBvcnRhbE91dGxldEVycm9yIiwidGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IiLCJQb3J0YWwiLCJhdHRhY2giLCJob3N0IiwibmdEZXZNb2RlIiwiaGFzQXR0YWNoZWQiLCJfYXR0YWNoZWRIb3N0IiwiZGV0YWNoIiwiaXNBdHRhY2hlZCIsInNldEF0dGFjaGVkSG9zdCIsIkNvbXBvbmVudFBvcnRhbCIsInZpZXdDb250YWluZXJSZWYiLCJpbmplY3RvciIsImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIlRlbXBsYXRlUG9ydGFsIiwidGVtcGxhdGUiLCJjb250ZXh0IiwidGVtcGxhdGVSZWYiLCJvcmlnaW4iLCJlbGVtZW50UmVmIiwiRG9tUG9ydGFsIiwiQmFzZVBvcnRhbE91dGxldCIsIl9pc0Rpc3Bvc2VkIiwiYXR0YWNoRG9tUG9ydGFsIiwiX2F0dGFjaGVkUG9ydGFsIiwicG9ydGFsIiwiYXR0YWNoQ29tcG9uZW50UG9ydGFsIiwiYXR0YWNoVGVtcGxhdGVQb3J0YWwiLCJfaW52b2tlRGlzcG9zZUZuIiwiZGlzcG9zZSIsInNldERpc3Bvc2VGbiIsIl9kaXNwb3NlRm4iLCJDZGtQb3J0YWwiLCLJtWRpciIsInNlbGVjdG9yIiwiZXhwb3J0QXMiLCJDZGtQb3J0YWxPdXRsZXQiLCJfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiX3ZpZXdDb250YWluZXJSZWYiLCJfaXNJbml0aWFsaXplZCIsImF0dGFjaGVkIiwiYW5jaG9yTm9kZSIsIl9nZXRSb290Tm9kZSIsImF0dGFjaGVkUmVmIiwiX2F0dGFjaGVkUmVmIiwibmdPbkluaXQiLCJjb21wb25lbnRGYWN0b3J5IiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJjcmVhdGVDb21wb25lbnQiLCJob3N0VmlldyIsImVtaXQiLCJ2aWV3UmVmIiwiY3JlYXRlRW1iZWRkZWRWaWV3IiwiUmVuZGVyZXIyIiwiaW5wdXRzIiwiUG9ydGFsTW9kdWxlIiwiybVtb2QiLCLJtWluaiIsImV4cG9ydHMiLCJkZWNsYXJhdGlvbnMiLCJOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQiLCJvdXRsZXRFbGVtZW50IiwiX2FwcFJlZiIsIl9kZWZhdWx0SW5qZWN0b3IiLCJfdmlld1V0aWwiLCJjb21wb25lbnRSZWYiLCJhdHRhY2hWaWV3IiwiZGV0YWNoVmlldyIsInJvb3ROb2RlIiwiX2dldENvbXBvbmVudFJvb3ROb2RlIiwidmlld0NvbnRhaW5lciIsImRldGVjdENoYW5nZXMiLCJyZW1vdmUiLCJEZXRhY2hlZExvYWRlciIsImNoYW5nZURldGVjdG9yIiwiY29udGFpbmVyUmVmIiwiYXBwUmVmIiwiZGlzcG9zZUZ1bmN0aW9ucyIsImNyZWF0ZUNvbXBvbmVudFBvcnRhbCIsImNvbXBvbmVudFR5cGUiLCJjdXN0b21JbmplY3RvciIsInZjIiwiY3JlYXRlVGVtcGxhdGVQb3J0YWwiLCJsb2FkSW5BcHBSZWYiLCJmYWN0b3J5IiwibG9hZEluTG9jYXRpb24iLCJtYXJrRm9yQ2hlY2siLCJsb2FkQ29tcG9uZW50IiwibG9hZENvbXBvbmVudFN5bmMiLCJsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbiIsImxvYWRXaXRoRmFjdG9yeSIsImxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24iLCLJtWNtcCIsInJlYWQiLCJzdGF0aWMiLCJQYWdlU2VydmljZSIsImluUGFnZSIsIl9pblBhZ2UkIiwiaW5QYWdlJCIsInBhZ2VFdmVudHMkIiwiX3BhZ2VFdmVudHMkIiwiYXNPYnNlcnZhYmxlIiwicGFnZSIsImVsUmVmIiwicGFnZUV2ZW50IiwiVmlld0Jhc2UiLCJkZWNvcmF0b3JzIiwiY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5IiwiY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUiLCJGcmFtZVBhZ2VDb21wb25lbnQiLCJhY3Rpb25CYXJIaWRkZW4iLCJuZ09uQ2hhbmdlcyIsImNoYW5nZXMiLCJwcmV2aW91c1ZhbHVlIiwiY3VycmVudFZhbHVlIiwibmdBZnRlclZpZXdJbml0IiwicHJvdmlkZSIsInVzZUZhY3RvcnkiLCJkZXBzIiwicHJvdmlkZXJzIiwiY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5IiwiRnJhbWVEaXJlY3RpdmUiLCJjdXN0b21QYWdlRmFjdG9yeSIsIlBhZ2VEaXJlY3RpdmUiLCJGcmFtZVBhZ2VNb2R1bGUiLCJpc1ByZXNlbnQiLCJvYmoiLCJpc0JsYW5rIiwiaXNBY3Rpb25JdGVtIiwiaXNOYXZpZ2F0aW9uQnV0dG9uIiwiYWN0aW9uQmFyTWV0YSIsIm5hdmlnYXRpb25CdXR0b24iLCJhZGRBY3Rpb25JdGVtIiwidGl0bGVWaWV3IiwiYWN0aW9uSXRlbXMiLCJyZW1vdmVJdGVtIiwiYmFyIiwiaW5zZXJ0QWN0aW9uSXRlbUJlZm9yZSIsImFwcGVuZEFjdGlvbkl0ZW0iLCJhY3Rpb25JdGVtc0NvbGxlY3Rpb24iLCJnZXRJdGVtcyIsImluZGV4VG9JbnNlcnQiLCJzZXRJdGVtcyIsImFkZEl0ZW0iLCJBY3Rpb25CYXJDb21wb25lbnQiLCJhY3Rpb25CYXIiLCJ1cGRhdGUiLCJBY3Rpb25CYXJTY29wZSIsIm9uTmF2QnV0dG9uSW5pdCIsIm5hdkJ0biIsIm9uTmF2QnV0dG9uRGVzdHJveSIsIm5hdiIsIm9uQWN0aW9uSW5pdCIsIm9uQWN0aW9uRGVzdHJveSIsIkFjdGlvbkl0ZW1EaXJlY3RpdmUiLCJvd25lclNjb3BlIiwiTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSIsInRocm93SWZBbHJlYWR5TG9hZGVkIiwicGFyZW50TW9kdWxlIiwibW9kdWxlTmFtZSIsIndhc0NhbGxlZCIsIndyYXBwZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsImlzTGlzdExpa2VJdGVyYWJsZSIsImlzSnNPYmplY3QiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm8iLCJOR19WSUVXIiwiVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCIsIkl0ZW1Db250ZXh0IiwiJGltcGxpY2l0IiwiZXZlbiIsIm9kZCIsIk5zVGVtcGxhdGVkSXRlbSIsIm9uQ3JlYXRlIiwic2V0dXBJdGVtQ29udGV4dCIsInJlc3VsdFZpZXciLCJnZXRJdGVtVmlld1Jvb3QiLCJnZXRFbWJlZGRlZFZpZXdSZWYiLCJyZWF0dGFjaCIsImlzVmFsaWQiLCJvbGRWaWV3IiwiTGlzdFZpZXdDb21wb25lbnQiLCJ0ZW1wbGF0ZWRJdGVtc1ZpZXciLCJfaXRlbXMiLCJuZWVkRGlmZmVyIiwiX2RpZmZlciIsIl9pdGVyYWJsZURpZmZlcnMiLCJfaW5kZXgiLCJfZWxlbWVudFJlZiIsIl9jaGFuZ2VEZXRlY3RvclJlZiIsIl92aWV3VG9UZW1wbGF0ZSIsIldlYWtNYXAiLCJzZXR1cEl0ZW1WaWV3IiwibmdBZnRlckNvbnRlbnRJbml0Iiwic2V0SXRlbVRlbXBsYXRlcyIsIl90ZW1wbGF0ZU1hcCIsImZhbGxiYWNrSXRlbVRlbXBsYXRlIiwiaXRlbVRlbXBsYXRlUXVlcnkiLCJyZWdpc3RlclRlbXBsYXRlIiwibG9hZGVyIiwidGVtcGxhdGVzIiwiaXRlbVRlbXBsYXRlcyIsIm9uSXRlbUxvYWRpbmciLCJsdmlldyIsImN1cnJlbnRJdGVtIiwiZ2V0SXRlbSIsInRlbXBsYXRlS2V5IiwiaXRlbVRlbXBsYXRlU2VsZWN0b3IiLCJzZXR1cFZpZXdSZWYiLCJuZ0RvQ2hlY2siLCJkaWZmIiwicmVmcmVzaCIsInVzZUV4aXN0aW5nIiwiY2hhbmdlRGV0ZWN0aW9uIiwiT25QdXNoIiwicm9vdExvY2F0b3IiLCJUZW1wbGF0ZUtleURpcmVjdGl2ZSIsImNvbXAiLCJuc1RlbXBsYXRlS2V5IiwibnNUZW1wbGF0ZUtleXMiLCJ2YWx1ZXMiLCJPdXRsZXQiLCJpc1BhZ2VOYXZpZ2F0aW9uQmFjayIsIl9uYXZpZ2F0aW5nQmFja091dGxldHMiLCJzaXplIiwiaXNCYWNrIiwib3V0bGV0S2V5cyIsImFkZCIsIm91dGxldEtleSIsInBhdGhCeU91dGxldHMiLCJtb2RhbE5hdmlnYXRpb25EZXB0aCIsIlNldCIsImZyYW1lcyIsInN0YXRlcyIsInNob3VsZERldGFjaCIsInNob3dpbmdNb2RhbCIsInNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrIiwibmVzdHMiLCJrIiwiY29udGFpbnNGcmFtZSIsImZyYW1lIiwicGVla1N0YXRlIiwiY29udGFpbnNUb3BTdGF0ZSIsInN0YXRlVXJsIiwibGFzdFN0YXRlIiwic2VnbWVudEdyb3VwIiwiZ2V0RnJhbWVUb0JhY2siLCJpc05TRW1wdHlPdXRsZXQiLCJjdXJyZW50RnJhbWUiLCJjYW5Hb0JhY2siLCJkZWZhdWx0TmF2T3B0aW9ucyIsImNsZWFySGlzdG9yeSIsImFuaW1hdGVkIiwiRnJhbWVTZXJ2aWNlIiwiZ2V0RnJhbWUiLCJ0b3Btb3N0IiwiTlNMb2NhdGlvblN0cmF0ZWd5IiwiZnJhbWVTZXJ2aWNlIiwic3RhcnRQYXRoIiwib3V0bGV0cyIsInBvcFN0YXRlQ2FsbGJhY2tzIiwiX21vZGFsTmF2aWdhdGlvbkRlcHRoIiwiZ2V0U3RhdGUiLCJjdXJyZW50T3V0bGV0IiwiY3VycmVudFVybFRyZWUiLCJzdGF0ZSIsInRyZWUiLCJjaGFuZ2VkT3V0bGV0IiwiZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQiLCJpc1Jvb3RTZWdtZW50R3JvdXAiLCJ1cGRhdGVTZWdtZW50R3JvdXAiLCJ1cmxTZXJpYWxpemVyIiwicXVlcnlQYXJhbXMiLCJ1cmwiLCJzZXJpYWxpemUiLCJwcmVwYXJlRXh0ZXJuYWxVcmwiLCJpbnRlcm5hbCIsInB1c2hTdGF0ZSIsInRpdGxlIiwicHVzaFN0YXRlSW50ZXJuYWwiLCJwYXJzZSIsInVybFRyZWVSb290IiwiZ2V0T3V0bGV0S2V5IiwiZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgiLCJvdXRsZXQiLCJmaW5kT3V0bGV0IiwidXBkYXRlU3RhdGVzIiwicm9vdE91dGxldCIsImNyZWF0ZU91dGxldCIsInF1ZXVlIiwiY3VycmVudFRyZWUiLCJvdXRsZXROYW1lIiwiY3VycmVudFNlZ21lbnRHcm91cCIsIm91dGxldFBhdGgiLCJwYXJlbnRPdXRsZXROYW1lIiwicGFyZW50T3V0bGV0UGF0aCIsInBhcmVudE91dGxldEtleSIsInBhcmVudE91dGxldCIsImNvbnRhaW5zTGFzdFN0YXRlIiwidXBzZXJ0TW9kYWxPdXRsZXQiLCJzaGlmdCIsInJlcGxhY2VTdGF0ZSIsImZvcndhcmQiLCJiYWNrIiwicG9wIiwiY291bnQiLCJpc1BhZ2VOYXZpZ2F0aW9uIiwiY2FsbFBvcFN0YXRlIiwidG9wbW9zdEZyYW1lIiwiZ2V0T3V0bGV0QnlGcmFtZSIsImZyYW1lVG9CYWNrIiwiZ29CYWNrIiwib25Qb3BTdGF0ZSIsImdldEJhc2VIcmVmIiwiY2hhbmdlIiwib3V0bGV0U3RhdGVzIiwib3V0bGV0TG9nIiwicmV2ZXJzZSIsImNvbmNhdCIsIl9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbiIsIl9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24iLCJfYmVnaW5Nb2RhbE5hdmlnYXRpb24iLCJfY2xvc2VNb2RhbE5hdmlnYXRpb24iLCJpc1Nob3dpbmdNb2RhbCIsInRvcG1vc3RPdXRsZXQiLCJmaW5kT3V0bGV0QnlNb2RhbCIsIl9iZWdpblBhZ2VOYXZpZ2F0aW9uIiwib3B0aW9ucyIsIm5hdk9wdGlvbnMiLCJfZ2V0T3V0bGV0cyIsInVwZGF0ZU91dGxldEZyYW1lIiwiaXNFbXB0eU91dGxldEZyYW1lIiwiY2xlYXJPdXRsZXQiLCJpc0VxdWFsVG9DdXJyZW50IiwiZnVsbFBhdGgiLCJnZXRSb3V0ZUZ1bGxQYXRoIiwiY3VycmVudFJvdXRlIiwidXJscyIsImdldFBhdGhCeU91dGxldHMiLCJ1cmxTZWdtZW50R3JvdXAiLCJwYXRoVG9PdXRsZXQiLCJsYXN0UGF0aCIsImFjdGl2YXRlZFJvdXRlU25hcHNob3QiLCJlcXVhbE1vZGFsRGVwdGgiLCJtb2RhbE5hdmlnYXRpb24iLCJpc05ld1BhZ2UiLCJlcXVhbFN0YXRlVXJscyIsImxvY2F0aW9uU3RhdGUiLCJhc3NpZ24iLCJ1cGRhdGVQYXJlbnRzU3RhdGVzIiwibmV3U2VnbWVudEdyb3VwIiwibmV3T3V0bGV0IiwicGF0aExpc3QiLCJjdXJyZW50UGF0aCIsImNoaWxkcmVuQ291bnQiLCJvbGRTZWdtZW50R3JvdXAiLCJzZWdtZW50ZWRHcm91cCIsImN1cnJlbnRNb2RhbE91dGxldCIsIk1vZGFsRGlhbG9nUGFyYW1zIiwiY2xvc2VDYWxsYmFjayIsIk1vZGFsRGlhbG9nU2VydmljZSIsInpvbmUiLCJkZWZhdWx0SW5qZWN0b3IiLCJjbG9zZWQkIiwiX2Nsb3NlZCQiLCJzaG93TW9kYWwiLCJfYiIsIl9jIiwiX2QiLCJwYXJlbnRWaWV3IiwiZ2V0Um9vdFZpZXciLCJfbmdEaWFsb2dSb290IiwiY29tcG9uZW50SW5qZWN0b3IiLCJtb2R1bGVSZWYiLCJyZWplY3QiLCJfc2hvd0RpYWxvZyIsImRvbmVDYWxsYmFjayIsImVyciIsImNvbXBvbmVudFZpZXdSZWYiLCJkZXRhY2hlZExvYWRlclJlZiIsInBvcnRhbE91dGxldCIsImNsb3NlTW9kYWwiLCJwYXJhbXMiLCJvcGVuZWRNb2RhbFBhcmFtcyIsIm1vZGFsUGFyYW1zIiwiY2hpbGRJbmplY3RvciIsInVzZVZhbHVlIiwidGFyZ2V0VmlldyIsImNoYW5nZURldGVjdG9yUmVmIiwidXNlQ29udGV4dEFzQ29tcG9uZW50UHJvcHMiLCJOYXRpdmVTY3JpcHROZ1NhZmVFdmVudCIsInJ1bkFmdGVyRXZlbnQiLCJldmVudCIsInByb3BlcnR5S2V5IiwiZ2V0TmdTYWZlIiwiZGVmYXVsdE5nU2FmZSIsImV2ZW50cyIsInJ1bkJlZm9yZSIsImRvbmUiLCJidWZmZXIiLCJvcmlnaW5hbERlbGVnYXRlIiwiYWx3YXlzUnVuQmVmb3JlIiwib2xkRm4iLCJzaG91bGRQdXNoIiwib25seUZpcnN0Iiwib25seUxhc3QiLCJUYWJWaWV3RGlyZWN0aXZlIiwic2VsZWN0ZWRJbmRleCIsIl9zZWxlY3RlZEluZGV4Iiwidmlld0luaXRpYWxpemVkIiwidGFiVmlldyIsIlRhYlZpZXdJdGVtRGlyZWN0aXZlIiwib3duZXIiLCJjb25maWciLCJfY29uZmlnIiwiaWNvblNvdXJjZSIsInRleHRUcmFuc2Zvcm0iLCJhcHBseUNvbmZpZyIsImVuc3VyZUl0ZW0iLCJyZWFsVmlld3MiLCJuZXdJdGVtcyIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnQiLCJzaG93IiwiTmdJZiIsIklPU0ZpbHRlckNvbXBvbmVudCIsIkNES19DT01QT05FTlRTIiwiTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlIiwiaW1wb3J0cyIsInNjaGVtYXMiLCJnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXciLCJwYXJlbnRSb290VmlldyIsImVycm9ySGFuZGxlciIsImdlbmVyYXRlUmFuZG9tSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsIk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUyIsInVzZUNsYXNzIiwibXVsdGkiLCJOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUyIsIk5hdGl2ZVNjcmlwdE1vZHVsZSIsImRpc2FibGVSb290Vmlld0hhbmRpbmciLCJfX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nIiwicHJlQW5ndWxhckRpc3Bvc2FsJCIsInBvc3RBbmd1bGFyQm9vdHN0cmFwJCIsIm9uQmVmb3JlTGl2ZXN5bmMiLCJtb2R1bGVUeXBlIiwicmVhc29uIiwicmVmZXJlbmNlIiwib25BZnRlckxpdmVzeW5jIiwiaW1wb3J0IiwiZGVjbGluZSIsIl9fb25MaXZlU3luY0NvcmUiLCJlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQiLCJkZXN0cm95UmVmIiwicnVuWm9uZVN5bmNUYXNrIiwiY3VycmVudCIsInRhc2siLCJzY2hlZHVsZUV2ZW50VGFzayIsImludm9rZSIsImNhbmNlbFRhc2siLCJab25lQ2FuV29ya1N5bmMiLCJjYW5SdW5TeW5jIiwidGhlbiIsIm5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkIiwibWFrZVRlc3REcmFpbiIsIl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSIsInJ1blN5bmNocm9ub3VzbHkiLCJxdWV1ZU1hY3JvdGFzayIsImNyZWF0ZVByb3ZpZGVyc0NvbmZpZyIsImFwcFByb3ZpZGVycyIsImJvb3RzdHJhcEFwcGxpY2F0aW9uIiwicm9vdENvbXBvbmVudCIsInJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAiLCJtYWluTW9kdWxlUmVmIiwibG9hZGluZ01vZHVsZVJlZiIsInBsYXRmb3JtUmVmIiwiYm9vdHN0cmFwSWQiLCJ1cGRhdGVQbGF0Zm9ybVJlZiIsIm5ld1BsYXRmb3JtUmVmIiwib25EZXN0cm95IiwibGF1bmNoRXZlbnREb25lIiwidGFyZ2V0Um9vdFZpZXciLCJzZXRSb290VmlldyIsIl9jbG9zZUFsbE1vZGFsVmlld3NJbnRlcm5hbCIsImVtYmVkZGVkIiwibmV3Um9vdCIsInNob3dFcnJvclVJIiwic3RhY2siLCJlcnJvclRleHRCb3giLCJjb2xvciIsImJvb3RzdHJhcFJvb3QiLCJjdXJyZW50Qm9vdHN0cmFwSWQiLCJib290c3RyYXBwZWQiLCJvbk1haW5Cb290c3RyYXAiLCJhcHBNb2R1bGVCb290c3RyYXAiLCJjb21wb25lbnRzIiwic3R5bGVUYWciLCJsb2FkaW5nTW9kdWxlIiwibG9hZGluZ1JlZiIsImxvYWRpbmdTZXJ2aWNlIiwic3Vic2NyaWJlIiwibGF1bmNoVmlldyIsInN0YXJ0QW5pbWF0aW9uIiwiY2xlYW51cCIsImNhdGNoIiwid2FybiIsImRpc3Bvc2VQbGF0Zm9ybSIsImRpc3Bvc2VMYXN0TW9kdWxlcyIsImxhdW5jaENhbGxiYWNrIiwiZXhpdENhbGxiYWNrIiwib2xkQWRkRXZlbnRMaXN0ZW5lciIsIk5hdGl2ZVNjcmlwdEdsb2JhbHMiLCJfX3N5bWJvbF9fIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhdW5jaEV2ZW50IiwiZXhpdEV2ZW50Iiwic2hvdWxkRGlzcG9zZVBsYXRmb3JtIiwiaGFzTGF1bmNoZWQiLCJOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm1vZHVsZUZhY3RvcnkiLCJib290c3RyYXBNb2R1bGUiLCJjb21waWxlck9wdGlvbnMiLCJkZXN0cm95ZWQiLCJkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciIsIk5hdGl2ZVNjcmlwdFNhbml0aXplciIsInNhbml0aXplIiwiX2NvbnRleHQiLCJOYXRpdmVTY3JpcHREb2N1bWVudCIsImJvZHkiLCJpc092ZXJyaWRlIiwiQ09NTU9OX1BST1ZJREVSUyIsInBsYXRmb3JtTmF0aXZlU2NyaXB0IiwicGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljIiwiZXh0cmFQcm92aWRlcnMiLCJuZ1Jvb3RWaWV3IiwiYXN5bmMiLCJSb290Vmlld1Byb3h5IiwicGFyZW50Um9vdExheW91dCIsIl9hZGRWaWV3IiwiYXRJbmRleCIsImdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5Iiwidmlld1Byb3h5IiwiUm9vdENvbXBvc2l0ZU1vZHVsZSIsIk5hdGl2ZURpYWxvZ0NvbmZpZyIsImhhc0JhY2tkcm9wIiwiZGlzYWJsZUNsb3NlIiwiY2xvc2VPbk5hdmlnYXRpb24iLCJuYXRpdmVPcHRpb25zIiwidW5pcXVlSWQiLCJOYXRpdmVEaWFsb2dSZWYiLCJfbmF0aXZlTW9kYWxSZWYiLCJfYWZ0ZXJPcGVuZWQiLCJfYWZ0ZXJDbG9zZWQiLCJfYmVmb3JlQ2xvc2VkIiwiX3N0YXRlIiwiX2lkIiwic3RhdGVDaGFuZ2VkIiwiY2xlYXJUaW1lb3V0IiwiX2Nsb3NlRmFsbGJhY2tUaW1lb3V0IiwiX2ZpbmlzaERpYWxvZ0Nsb3NlIiwiX3Jlc3VsdCIsIm9uRGlzbWlzcyIsImNvbXBvbmVudEluc3RhbmNlIiwiY2xvc2UiLCJkaWFsb2dSZXN1bHQiLCJfc3RhcnRFeGl0QW5pbWF0aW9uIiwiYWZ0ZXJPcGVuZWQiLCJhZnRlckNsb3NlZCIsImJlZm9yZUNsb3NlZCIsImJhY2tkcm9wQ2xpY2siLCJhZGRQYW5lbENsYXNzIiwicmVtb3ZlUGFuZWxDbGFzcyIsIk5hdGl2ZU1vZGFsUmVmIiwiX2luamVjdG9yIiwiX2lzRGlzbWlzc2VkIiwiX21vZGFsIiwiX2Nsb3NlQ2FsbGJhY2siLCJtb2RhbFZpZXdSZWYiLCJfZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lciIsInZjUmVmIiwiZGV0YWNoZWRGYWN0b3J5Iiwic3RhcnRNb2RhbE5hdmlnYXRpb24iLCJ1c2VyT3B0aW9ucyIsImNhbmNlbGFibGUiLCJOQVRJVkVfRElBTE9HX0RBVEEiLCJOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUyIsIl9OYXRpdmVEaWFsb2dCYXNlIiwib3BlbkRpYWxvZ3MiLCJfcGFyZW50RGlhbG9nIiwiX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwiLCJfYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbCIsIl9nZXRBZnRlckFsbENsb3NlZCIsIl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsIiwiX2RlZmF1bHRPcHRpb25zIiwiX2RpYWxvZ1JlZkNvbnN0cnVjdG9yIiwiX25hdGl2ZU1vZGFsVHlwZSIsIl9kaWFsb2dEYXRhVG9rZW4iLCJsb2NhdGlvblN0cmF0ZWd5IiwiYWZ0ZXJBbGxDbG9zZWQiLCJvcGVuIiwiY29tcG9uZW50T3JUZW1wbGF0ZVJlZiIsIl9hcHBseUNvbmZpZ0RlZmF1bHRzIiwiZ2V0RGlhbG9nQnlJZCIsImRpYWxvZ1JlZiIsIl9hdHRhY2hEaWFsb2dDb250ZW50IiwiX3JlbW92ZU9wZW5EaWFsb2ciLCJjbG9zZUFsbCIsIl9jbG9zZURpYWxvZ3MiLCJkaWFsb2ciLCJuYXRpdmVNb2RhbFJlZiIsIl9jcmVhdGVJbmplY3RvciIsImNvbnRlbnRSZWYiLCJ1c2VySW5qZWN0b3IiLCJkaWFsb2dzIiwiVHlwZSIsIk5hdGl2ZURpYWxvZ1NlcnZpY2UiLCJkZWZhdWx0T3B0aW9ucyIsInBhcmVudERpYWxvZyIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlIiwiX2RpYWxvZyIsImdldENsb3Nlc3REaWFsb2ciLCJwcm94aWVkQ2hhbmdlIiwiX29uQnV0dG9uQ2xpY2siLCJfbWF0RGlhbG9nQ2xvc2UiLCJOYXRpdmVEaWFsb2dNb2R1bGUiLCJOU0ZpbGVTeXN0ZW0iLCJjdXJyZW50QXBwIiwiZmlsZUZyb21QYXRoIiwiZnJvbVBhdGgiLCJmaWxlRXhpc3RzIiwiZXhpc3RzIiwiZ2VuZXJhdGVEZXRhY2hlZExvYWRlciIsImdlbmVyYXRlTmF0aXZlU2NyaXB0VmlldyIsInR5cGVPclRlbXBsYXRlIiwicmV1c2luZ0RldGFjaGVkTG9hZGVyIiwia2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCIsIkJhc2VWYWx1ZUFjY2Vzc29yIiwicGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiIsIm9uQ2hhbmdlIiwib25Ub3VjaGVkIiwicmVnaXN0ZXJPbkNoYW5nZSIsImFyZyIsInJlZ2lzdGVyT25Ub3VjaGVkIiwic2V0RGlzYWJsZWRTdGF0ZSIsImlzRGlzYWJsZWQiLCJ3cml0ZVZhbHVlIiwiXyIsIm5vcm1hbGl6ZVZhbHVlIiwiVEVYVF9WQUxVRV9BQ0NFU1NPUiIsIlRleHRWYWx1ZUFjY2Vzc29yIiwibm9ybWFsaXplZCIsIkNIRUNLRURfVkFMVUVfQUNDRVNTT1IiLCJDaGVja2VkVmFsdWVBY2Nlc3NvciIsImNoZWNrZWQiLCJEQVRFX1ZBTFVFX0FDQ0VTU09SIiwiRGF0ZVZhbHVlQWNjZXNzb3IiLCJkYXRlIiwiVElNRV9WQUxVRV9BQ0NFU1NPUiIsIlRpbWVWYWx1ZUFjY2Vzc29yIiwidGltZSIsIk5VTUJFUl9WQUxVRV9BQ0NFU1NPUiIsIk51bWJlclZhbHVlQWNjZXNzb3IiLCJTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUiIsIlNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yIiwiTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUiLCJEQVNIX0NBU0VfUkVHRVhQIiwiZGFzaENhc2VUb0NhbWVsQ2FzZSIsIm0iLCJ0b1VwcGVyQ2FzZSIsImNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsImVhc2luZyIsImluZm8iLCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8iLCJrZXlmcmFtZUFuaW1hdGlvbkZyb21JbmZvIiwiaXNGb3J3YXJkcyIsImN1cnZlIiwiZ2V0Q3VydmUiLCJrZXlmcmFtZXMiLCJwYXJzZUFuaW1hdGlvbktleWZyYW1lIiwiZ2V0S2V5ZnJhbWVEdXJhdGlvbiIsImdldERlY2xhcmF0aW9ucyIsIm9mZnNldCIsInVucGFyc2VkRGVjbGFyYXRpb25zIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyIiwicGFyZW50UGxheWVyIiwiX3N0YXJ0U3Vic2NyaXB0aW9ucyIsIl9kb25lU3Vic2NyaXB0aW9ucyIsIl9maW5pc2hlZCIsIl9zdGFydGVkIiwiaW5pdEtleWZyYW1lQW5pbWF0aW9uIiwidG90YWxUaW1lIiwiaW5pdCIsImhhc1N0YXJ0ZWQiLCJvblN0YXJ0Iiwib25Eb25lIiwicGxheSIsImFuaW1hdGlvbiIsInBsYXlBbmltYXRpb24iLCJvblRhcmdldExvYWRlZCIsIm9uRmluaXNoIiwiX2UiLCJwYXVzZSIsImZpbmlzaCIsInJlc2V0IiwiaXNQbGF5aW5nIiwiY2FuY2VsIiwicmVzdGFydCIsInNldFBvc2l0aW9uIiwiX3AiLCJnZXRQb3NpdGlvbiIsIlNlbGVjdG9yIiwicmF3U2VsZWN0b3IiLCJtYXRjaCIsIm5zU2VsZWN0b3JNYXRjaCIsImNsYXNzU2VsZWN0b3JzTWF0Y2giLCJzZWxlY3RvcnMiLCJ0cmltIiwibnNTZWxlY3RvcnMiLCJjcmVhdGVTZWxlY3RvciIsImNsYXNzU2VsZWN0b3JzIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInNvbWUiLCJoYXNDbGFzcyIsImNscyIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciIsImdldFBhcmVudEVsZW1lbnQiLCJ2YWxpZGF0ZVN0eWxlUHJvcGVydHkiLCJ2YWxpZFByb3BlcnRpZXMiLCJtYXRjaGVzRWxlbWVudCIsIm1ha2VTZWxlY3RvciIsImNvbnRhaW5zRWxlbWVudCIsImVsbTEiLCJlbG0yIiwib3JpZ2luYWxWaWV3IiwidmlzaXREZXNjZW5kYW50cyIsInZpZXdNYXRjaGVzIiwiZm91bmQiLCJxdWVyeSIsInF1ZXJ5RGVzY2VuZGFudHMiLCJtYXRjaGVzIiwiY29tcHV0ZVN0eWxlIiwiY2FtZWxDYXNlUHJvcCIsImFuaW1hdGUiLCJjYlBhcmFtcyIsIl9nZXRQcm9wZXJ0eU5hbWVzIiwiZWFjaENoaWxkIiwiSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSIsImRvYyIsImRyaXZlciIsIm5vcm1hbGl6ZXIiLCJpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlciIsImluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5IiwiZW5naW5lIiwiaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSIsImlzTG9jYWxSZXF1ZXN0IiwiZ2V0QWJzb2x1dGVQYXRoIiwibnNGaWxlU3lzdGVtIiwicHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QiLCJzdWNjZXNzUmVzcG9uc2UiLCJlcnJvclJlc3BvbnNlIiwib2JzZXJ2ZXIiLCJsb2NhbEZpbGUiLCJyZWFkVGV4dCIsImpzb24iLCJKU09OIiwiZXJyb3JSZXN1bHQiLCJOc0h0dHBCYWNrRW5kIiwieGhyRmFjdG9yeSIsImhhbmRsZSIsInJlcSIsImhhbmRsZUxvY2FsRmlsZVJlcXVlc3QiLCJjcmVhdGVTdWNjZXNzUmVzcG9uc2UiLCJjcmVhdGVFcnJvclJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIk5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUiLCJmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0IiwiYWN0aXZhdGVkUm91dGUiLCJwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sIiwibG9hZGVyUmVmU3ltYm9sIiwiZGVzdHJveUNvbXBvbmVudFJlZiIsImxvYWRlclJlZiIsImdldFNuYXBzaG90S2V5Iiwic25hcHNob3QiLCJwYXRoRnJvbVJvb3QiLCJEZXRhY2hlZFN0YXRlQ2FjaGUiLCJjYWNoZSIsImNhY2hlSXRlbSIsInBlZWsiLCJtYXJrQ3VycmVudEZvckNsZWFyIiwibWFya2VkRm9yRGVsZXRpb24iLCJjbGVhck1hcmtlZCIsImNsZWFyTW9kYWxDYWNoZSIsInJlbW92ZWRJdGVtc0NvdW50IiwiaGFzTW9kYWxQYWdlcyIsImlzTW9kYWwiLCJtb2RhbENhY2hlQ2xlYXJlZCIsIk5TUm91dGVSZXVzZVN0cmF0ZWd5IiwiY2FjaGVCeU91dGxldCIsInJvdXRlIiwiZmluZFZhbGlkT3V0bGV0QW5kS2V5IiwiaXNQYWdlQWN0aXZhdGVkIiwidG1wIiwidGFyZ2V0Um91dGUiLCJyb3V0ZU91dGxldEtleSIsImluY2x1ZGVzIiwic2hvdWxkQXR0YWNoIiwic3RvcmUiLCJ0b3BJdGVtIiwicmV0cmlldmUiLCJjYWNoZWRJdGVtIiwic2hvdWxkUmV1c2VSb3V0ZSIsImZ1dHVyZSIsImN1cnIiLCJzaG91bGRSZXVzZSIsInJvdXRlQ29uZmlnIiwiY2xlYXJDYWNoZSIsIm1hcmtDYWNoZUZvckNsZWFyIiwicG9wQ2FjaGUiLCJtYXJrQ2FjaGVGb3JQb3AiLCJjbGVhck1hcmtlZENhY2hlIiwiUm91dGVyRXh0ZW5zaW9ucyIsInJvdXRlciIsImNvbW1hbmRzIiwiZXh0cmFzIiwibmF2aWdhdGVCeVVybCIsImJhY2tOYXZpZ2F0aW9uT3B0aW9ucyIsImJhY2tPdXRsZXRzIiwib3V0bGV0c1RvQmFjayIsImZpbmRPdXRsZXRzVG9CYWNrIiwib3V0bGV0VG9CYWNrIiwiYmFja1RvUHJldmlvdXNQYWdlIiwiY2FuR29CYWNrVG9QcmV2aW91c1BhZ2UiLCJyb290Um91dGUiLCJyb3V0ZXJTdGF0ZSIsInJlbGF0aXZlUm91dGUiLCJyZWxhdGl2ZVRvIiwicmVsYXRpdmVSb3V0ZU91dGxldCIsImZpbmRPdXRsZXRCeVJvdXRlIiwiZmluZE91dGxldHNSZWN1cnNpdmUiLCJjdXJyZW50Um91dGVTbmFwc2hvcCIsIlJvdXRlciIsIk5TUm91dGVyTGluayIsIm5nWm9uZSIsIm5hdmlnYXRvciIsInBhZ2VUcmFuc2l0aW9uIiwib25UYXAiLCJzdHJpbmdpZnkiLCJwYWdlVHJhbnNpdGlvbkR1cmF0aW9uIiwiZ2V0RXh0cmFzIiwiZnJhZ21lbnQiLCJxdWVyeVBhcmFtc0hhbmRsaW5nIiwicHJlc2VydmVGcmFnbWVudCIsImF0dHJCb29sVmFsdWUiLCJ0cmFuc2l0aW9uIiwiZ2V0VHJhbnNpdGlvbiIsInNraXBMb2NhdGlvbkNoYW5nZSIsInJlcGxhY2VVcmwiLCJjb252ZXJ0Q2xlYXJIaXN0b3J5IiwidXJsVHJlZSIsImNyZWF0ZVVybFRyZWUiLCJpc05hTiIsInByZXNlcnZlUXVlcnlQYXJhbXMiLCJjb250YWluc1RyZWUiLCJjb250YWluZXIiLCJjb250YWluZWUiLCJleGFjdCIsImVxdWFsU2VnbWVudEdyb3VwcyIsImNvbnRhaW5zU2VnbWVudEdyb3VwIiwiZXF1YWxQYXRoIiwic2VnbWVudHMiLCJudW1iZXJPZkNoaWxkcmVuIiwiY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIiLCJjb250YWluZWVQYXRocyIsImhhc0NoaWxkcmVuIiwiYSIsImIiLCJOU1JvdXRlckxpbmtBY3RpdmUiLCJhY3RpdmUiLCJuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zIiwic3Vic2NyaXB0aW9uIiwiaXNBY3RpdmUiLCJsaW5rcyIsIm5zUm91dGVyTGlua0FjdGl2ZSIsInVuc3Vic2NyaWJlIiwiaGFzQWN0aXZlTGlua3MiLCJwYXJzZVVybCIsImlzQWN0aXZlTGlua3MiLCJyZWR1Y2VMaXN0IiwicSIsInJlZHVjZSIsInJlcyIsImxpbmsiLCJpc0xpbmtBY3RpdmUiLCJQYWdlUm91dGUiLCJzdGFydFJvdXRlIiwiaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJjYWxsYWJsZU9uY2UiLCJjYWxsZWQiLCJEZXN0cnVjdGlibGVJbmplY3RvciIsImRlc3RydWN0aWJsZVByb3ZpZGVycyIsInJlZnMiLCJ0b2tlbiIsIm5vdEZvdW5kVmFsdWUiLCJza2lwU2VsZiIsInJvdXRlVG9TdHJpbmciLCJQYWdlUm91dGVyT3V0bGV0IiwibG9jYXRpb25JbmplY3RvciIsImxvY2F0aW9uRmFjdG9yeVJlc29sdmVyIiwiaXNBY3RpdmF0ZWQiLCJhY3RpdmF0ZWQiLCJfYWN0aXZhdGVkUm91dGUiLCJhY3RpdmF0ZWRSb3V0ZURhdGEiLCJwYXJlbnRDb250ZXh0cyIsImFjdGlvbkJhclZpc2liaWxpdHkiLCJpc0VtcHR5T3V0bGV0IiwicGFnZUZhY3RvcnkiLCJyb3V0ZVJldXNlU3RyYXRlZ3kiLCJlbnZpcm9ubWVudEluamVjdG9yIiwiYXR0YWNoRXZlbnRzIiwiZGV0YWNoRXZlbnRzIiwiYWN0aXZhdGVFdmVudHMiLCJkZWFjdGl2YXRlRXZlbnRzIiwic2V0QWN0aW9uQmFyVmlzaWJpbGl0eSIsIm9uQ2hpbGRPdXRsZXRDcmVhdGVkIiwiZGV0YWNoZWRMb2FkZXJGYWN0b3J5IiwiZ2V0Q29udGV4dCIsIm9uQ2hpbGRPdXRsZXREZXN0cm95ZWQiLCJkZWFjdGl2YXRlIiwicG9zdE5hdkZ1bmN0aW9uIiwibWFya0FjdGl2YXRlZFJvdXRlIiwiaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQiLCJjaGlsZENvbnRleHQiLCJhY3RpdmF0ZVdpdGgiLCJnZXRPdXRsZXQiLCJhY3RpdmF0ZU9uR29Gb3J3YXJkIiwicmVzb2x2ZXJPckluamVjdG9yIiwiZ2V0Q29tcG9uZW50VHlwZSIsImlzTmF2aWdhdGlvbiIsImRlc3RydWN0aWJsZXMiLCJwYXJlbnRJbmplY3RvciIsImdldE9yQ3JlYXRlQ29udGV4dCIsImxvYWRDb21wb25lbnRJblBhZ2UiLCJuYXZpZ2F0aW9uQ29udGV4dCIsImNvbXBvbmVudFZpZXciLCJ0b3BBY3RpdmF0ZWRSb3V0ZSIsInRoaXNSb3V0ZUtleSIsIm5hdmlnYXRlZEZyb21DYWxsYmFjayIsIndyYXAiLCJpc0JhY2tOYXZpZ2F0aW9uIiwibmF2aWdhdGVkRnJvbUV2ZW50IiwiZ2V0Q3VycmVudE5hdmlnYXRpb24iLCJpc1JlcGxhY2UiLCJ3aXBlQ2FjaGUiLCJjbGVhckNhbGxiYWNrIiwibmF2aWdhdGVkVG9FdmVudCIsIm5hdmlnYXRpb25FbnRyeSIsImN1cnJlbnRQYWdlIiwicmVwbGFjZVBhZ2UiLCJjaGlsZFJvdXRlIiwiRW52aXJvbm1lbnRJbmplY3RvciIsIk5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24iLCJnZXRCYXNlSHJlZkZyb21ET00iLCJvbkhhc2hDaGFuZ2UiLCJfZm4iLCJzZWFyY2giLCJoYXNoIiwicGF0aG5hbWUiLCJfbmV3UGF0aCIsIk5TRW1wdHlPdXRsZXRDb21wb25lbnQiLCJwYWdlUm91dGVyT3V0bGV0IiwicHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3kiLCJOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUiLCJmb3JSb290Iiwicm91dGVzIiwibmdNb2R1bGUiLCJmb3JDaGlsZCIsImN1cnJlbnRSYWZJZCIsIm5vb3AiLCJOYXRpdmVTY3JpcHROZ1pvbmUiLCJlbmFibGVMb25nU3RhY2tUcmFjZSIsInNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24iLCJzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiIsImhhc1BlbmRpbmdNYWNyb3Rhc2tzIiwiaGFzUGVuZGluZ01pY3JvdGFza3MiLCJpc1N0YWJsZSIsIm9uVW5zdGFibGUiLCJvbk1pY3JvdGFza0VtcHR5Iiwib25TdGFibGUiLCJvbkVycm9yIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJzZWxmIiwiX25lc3RpbmciLCJfb3V0ZXIiLCJfaW5uZXIiLCJmb3JrIiwibGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkIiwibmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQiLCJkaXNwYXRjaFRvTWFpblRocmVhZCIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwiYXNzZXJ0SW5Bbmd1bGFyWm9uZSIsImFzc2VydE5vdEluQW5ndWxhclpvbmUiLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJydW5UYXNrIiwiRU1QVFlfUEFZTE9BRCIsInJ1bkd1YXJkZWQiLCJydW5PdXRzaWRlQW5ndWxhciIsImNoZWNrU3RhYmxlIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMiLCJpc0NoZWNrU3RhYmxlUnVubmluZyIsImZha2VUb3BFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNBbmd1bGFyWm9uZSIsIm9uSW52b2tlVGFzayIsImRlbGVnYXRlIiwib25FbnRlciIsImludm9rZVRhc2siLCJpc01haW5UaHJlYWQiLCJvbkxlYXZlIiwib25JbnZva2UiLCJzb3VyY2UiLCJvbkhhc1Rhc2siLCJoYXNUYXNrU3RhdGUiLCJoYXNUYXNrIiwiX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIiwibWljcm9UYXNrIiwibWFjcm9UYXNrIiwib25IYW5kbGVFcnJvciIsImhhbmRsZUVycm9yIiwiybVDT01QT05FTlRfVkFSSUFCTEUiLCLJtUNPTlRFTlRfQVRUUiIsIsm1SE9TVF9BVFRSIiwiybVOYXRpdmVTY3JpcHRBbmd1bGFyRGVidWciLCLJtVZpZXdVdGlsIiwiybVhY3Rpb25CYXJNZXRhIiwiybVlbGVtZW50TWFwIiwiybVpc0FjdGlvbkl0ZW0iLCLJtWlzTmF2aWdhdGlvbkJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=