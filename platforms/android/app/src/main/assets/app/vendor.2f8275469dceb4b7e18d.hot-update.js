"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2015/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "APP_ROOT_VIEW": () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   "ActionBarComponent": () => (/* binding */ ActionBarComponent),
/* harmony export */   "ActionBarScope": () => (/* binding */ ActionBarScope),
/* harmony export */   "ActionItemDirective": () => (/* binding */ ActionItemDirective),
/* harmony export */   "AndroidFilterComponent": () => (/* binding */ AndroidFilterComponent),
/* harmony export */   "AppHostAsyncView": () => (/* binding */ AppHostAsyncView),
/* harmony export */   "AppHostView": () => (/* binding */ AppHostView),
/* harmony export */   "BasePortalOutlet": () => (/* binding */ BasePortalOutlet),
/* harmony export */   "BaseValueAccessor": () => (/* binding */ BaseValueAccessor),
/* harmony export */   "COMMON_PROVIDERS": () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   "CdkPortal": () => (/* binding */ CdkPortal),
/* harmony export */   "CdkPortalOutlet": () => (/* binding */ CdkPortalOutlet),
/* harmony export */   "CheckedValueAccessor": () => (/* binding */ CheckedValueAccessor),
/* harmony export */   "CommentNode": () => (/* binding */ CommentNode),
/* harmony export */   "ComponentPortal": () => (/* binding */ ComponentPortal),
/* harmony export */   "DEVICE": () => (/* binding */ DEVICE),
/* harmony export */   "DISABLE_ROOT_VIEW_HANDLING": () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   "DateValueAccessor": () => (/* binding */ DateValueAccessor),
/* harmony export */   "DetachedLoader": () => (/* binding */ DetachedLoader),
/* harmony export */   "DomPortal": () => (/* binding */ DomPortal),
/* harmony export */   "ENABLE_REUSABE_VIEWS": () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   "EmulatedRenderer": () => (/* binding */ EmulatedRenderer),
/* harmony export */   "FrameDirective": () => (/* binding */ FrameDirective),
/* harmony export */   "FramePageComponent": () => (/* binding */ FramePageComponent),
/* harmony export */   "FramePageModule": () => (/* binding */ FramePageModule),
/* harmony export */   "FrameService": () => (/* binding */ FrameService),
/* harmony export */   "IOSFilterComponent": () => (/* binding */ IOSFilterComponent),
/* harmony export */   "InjectableAnimationEngine": () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   "InvisibleNode": () => (/* binding */ InvisibleNode),
/* harmony export */   "ItemContext": () => (/* binding */ ItemContext),
/* harmony export */   "ListViewComponent": () => (/* binding */ ListViewComponent),
/* harmony export */   "ModalDialogParams": () => (/* binding */ ModalDialogParams),
/* harmony export */   "ModalDialogService": () => (/* binding */ ModalDialogService),
/* harmony export */   "NAMESPACE_FILTERS": () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   "NATIVESCRIPT_MODULE_PROVIDERS": () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   "NATIVESCRIPT_MODULE_STATIC_PROVIDERS": () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   "NATIVESCRIPT_ROOT_MODULE_ID": () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   "NATIVE_DIALOG_DATA": () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   "NATIVE_DIALOG_DEFAULT_OPTIONS": () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   "NSEmptyOutletComponent": () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   "NSFileSystem": () => (/* binding */ NSFileSystem),
/* harmony export */   "NSLocationStrategy": () => (/* binding */ NSLocationStrategy),
/* harmony export */   "NSRouteReuseStrategy": () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   "NSRouterLink": () => (/* binding */ NSRouterLink),
/* harmony export */   "NSRouterLinkActive": () => (/* binding */ NSRouterLinkActive),
/* harmony export */   "NativeDialogCloseDirective": () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   "NativeDialogConfig": () => (/* binding */ NativeDialogConfig),
/* harmony export */   "NativeDialogModule": () => (/* binding */ NativeDialogModule),
/* harmony export */   "NativeDialogRef": () => (/* binding */ NativeDialogRef),
/* harmony export */   "NativeDialogService": () => (/* binding */ NativeDialogService),
/* harmony export */   "NativeModalRef": () => (/* binding */ NativeModalRef),
/* harmony export */   "NativeScriptAnimationDriver": () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   "NativeScriptAnimationPlayer": () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   "NativeScriptAnimationsModule": () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   "NativeScriptCommonModule": () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   "NativeScriptDocument": () => (/* binding */ NativeScriptDocument),
/* harmony export */   "NativeScriptDomPortalOutlet": () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   "NativeScriptFormsModule": () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   "NativeScriptHttpClientModule": () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   "NativeScriptLoadingService": () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   "NativeScriptModule": () => (/* binding */ NativeScriptModule),
/* harmony export */   "NativeScriptNgSafeEvent": () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   "NativeScriptNgZone": () => (/* binding */ NativeScriptNgZone),
/* harmony export */   "NativeScriptRendererFactory": () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   "NativeScriptRouterModule": () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   "NativeScriptSanitizer": () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   "NativescriptXhrFactory": () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   "NavigationButtonDirective": () => (/* binding */ NavigationButtonDirective),
/* harmony export */   "NgViewRef": () => (/* binding */ NgViewRef),
/* harmony export */   "NsHttpBackEnd": () => (/* binding */ NsHttpBackEnd),
/* harmony export */   "NsTemplatedItem": () => (/* binding */ NsTemplatedItem),
/* harmony export */   "NumberValueAccessor": () => (/* binding */ NumberValueAccessor),
/* harmony export */   "Outlet": () => (/* binding */ Outlet),
/* harmony export */   "PAGE_FACTORY": () => (/* binding */ PAGE_FACTORY),
/* harmony export */   "PageDirective": () => (/* binding */ PageDirective),
/* harmony export */   "PageRoute": () => (/* binding */ PageRoute),
/* harmony export */   "PageRouterOutlet": () => (/* binding */ PageRouterOutlet),
/* harmony export */   "PageService": () => (/* binding */ PageService),
/* harmony export */   "PlatformNamespaceFilter": () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   "Portal": () => (/* binding */ Portal),
/* harmony export */   "PortalModule": () => (/* binding */ PortalModule),
/* harmony export */   "RootCompositeModule": () => (/* binding */ RootCompositeModule),
/* harmony export */   "RootViewProxy": () => (/* binding */ RootViewProxy),
/* harmony export */   "RouterExtensions": () => (/* binding */ RouterExtensions),
/* harmony export */   "START_PATH": () => (/* binding */ START_PATH),
/* harmony export */   "SelectedIndexValueAccessor": () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   "TEMPLATED_ITEMS_COMPONENT": () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   "TabViewDirective": () => (/* binding */ TabViewDirective),
/* harmony export */   "TabViewItemDirective": () => (/* binding */ TabViewItemDirective),
/* harmony export */   "TemplateKeyDirective": () => (/* binding */ TemplateKeyDirective),
/* harmony export */   "TemplatePortal": () => (/* binding */ TemplatePortal),
/* harmony export */   "TextNode": () => (/* binding */ TextNode),
/* harmony export */   "TextValueAccessor": () => (/* binding */ TextValueAccessor),
/* harmony export */   "TimeValueAccessor": () => (/* binding */ TimeValueAccessor),
/* harmony export */   "_NativeDialogBase": () => (/* binding */ _NativeDialogBase),
/* harmony export */   "bootstrapApplication": () => (/* binding */ bootstrapApplication),
/* harmony export */   "createKeyframeAnimation": () => (/* binding */ createKeyframeAnimation),
/* harmony export */   "customFrameComponentFactory": () => (/* binding */ customFrameComponentFactory),
/* harmony export */   "customFrameDirectiveFactory": () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   "customPageFactory": () => (/* binding */ customPageFactory),
/* harmony export */   "customPageFactoryFromFrame": () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   "dashCaseToCamelCase": () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   "defaultNavOptions": () => (/* binding */ defaultNavOptions),
/* harmony export */   "defaultPageFactory": () => (/* binding */ defaultPageFactory),
/* harmony export */   "defaultPageFactoryProvider": () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   "detachViewFromParent": () => (/* binding */ detachViewFromParent),
/* harmony export */   "disableRootViewHanding": () => (/* binding */ disableRootViewHanding),
/* harmony export */   "errorHandler": () => (/* binding */ errorHandler),
/* harmony export */   "extractSingleViewRecursive": () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   "frameMeta": () => (/* binding */ frameMeta),
/* harmony export */   "generateDetachedLoader": () => (/* binding */ generateDetachedLoader),
/* harmony export */   "generateFallbackRootView": () => (/* binding */ generateFallbackRootView),
/* harmony export */   "generateNativeScriptView": () => (/* binding */ generateNativeScriptView),
/* harmony export */   "generateRandomId": () => (/* binding */ generateRandomId),
/* harmony export */   "generateRootLayoutAndProxy": () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   "getFirstNativeLikeView": () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   "getItemViewRoot": () => (/* binding */ getItemViewRoot),
/* harmony export */   "getSingleViewRecursive": () => (/* binding */ getSingleViewRecursive),
/* harmony export */   "getViewClass": () => (/* binding */ getViewClass),
/* harmony export */   "getViewMeta": () => (/* binding */ getViewMeta),
/* harmony export */   "instantiateDefaultStyleNormalizer": () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   "instantiateRendererFactory": () => (/* binding */ instantiateRendererFactory),
/* harmony export */   "instantiateSupportedAnimationDriver": () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   "isBlank": () => (/* binding */ isBlank),
/* harmony export */   "isContentView": () => (/* binding */ isContentView),
/* harmony export */   "isDetachedElement": () => (/* binding */ isDetachedElement),
/* harmony export */   "isInvisibleNode": () => (/* binding */ isInvisibleNode),
/* harmony export */   "isJsObject": () => (/* binding */ isJsObject),
/* harmony export */   "isKnownView": () => (/* binding */ isKnownView),
/* harmony export */   "isLayout": () => (/* binding */ isLayout),
/* harmony export */   "isListLikeIterable": () => (/* binding */ isListLikeIterable),
/* harmony export */   "isPresent": () => (/* binding */ isPresent),
/* harmony export */   "isView": () => (/* binding */ isView),
/* harmony export */   "onAfterLivesync": () => (/* binding */ onAfterLivesync),
/* harmony export */   "onBeforeLivesync": () => (/* binding */ onBeforeLivesync),
/* harmony export */   "once": () => (/* binding */ once),
/* harmony export */   "platformNativeScript": () => (/* binding */ platformNativeScript),
/* harmony export */   "platformNativeScriptDynamic": () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   "postAngularBootstrap$": () => (/* binding */ postAngularBootstrap$),
/* harmony export */   "preAngularDisposal$": () => (/* binding */ preAngularDisposal$),
/* harmony export */   "provideLocationStrategy": () => (/* binding */ provideLocationStrategy),
/* harmony export */   "registerElement": () => (/* binding */ registerElement),
/* harmony export */   "registerNativeScriptViewComponents": () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   "runNativeScriptAngularApp": () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   "throwIfAlreadyLoaded": () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   "throwNoPortalAttachedError": () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   "throwNullPortalError": () => (/* binding */ throwNullPortalError),
/* harmony export */   "throwNullPortalOutletError": () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   "throwPortalAlreadyAttachedError": () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   "throwPortalOutletAlreadyDisposedError": () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   "throwUnknownPortalTypeError": () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/application/application.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@nativescript/core/color/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@angular/core/fesm2015/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@angular/common/fesm2015/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@angular/router/fesm2015/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@angular/forms/fesm2015/forms.mjs");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2015/animations.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@angular/animations/fesm2015/browser.mjs");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@angular/platform-browser/fesm2015/animations.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/common/fesm2015/http.mjs");

















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
CommentNode.id = 0;
class TextNode extends InvisibleNode {
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
TextNode.textChangeEvent = 'textChange';
TextNode.id = 0;
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view === null || view === void 0 ? void 0 : view.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
}
NativeScriptLoadingService.ɵfac = function NativeScriptLoadingService_Factory(t) {
  return new (t || NativeScriptLoadingService)();
};
NativeScriptLoadingService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativeScriptLoadingService,
  factory: NativeScriptLoadingService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.messageType.error);
  }
}
NativeScriptDebug.animationsTraceCategory = 'ns-animations';
NativeScriptDebug.rendererTraceCategory = 'ns-renderer';
NativeScriptDebug.viewUtilCategory = 'ns-view-util';
NativeScriptDebug.routerTraceCategory = 'ns-router';
NativeScriptDebug.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
NativeScriptDebug.listViewTraceCategory = 'ns-list-view';
NativeScriptDebug.bootstrapCategory = 'bootstrap';
// TODO: migrate all usage to this - avoids extraneous method executions
NativeScriptDebug.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.isEnabled();
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
}
NativescriptXhrFactory.ɵfac = /* @__PURE__ */function () {
  let ɵNativescriptXhrFactory_BaseFactory;
  return function NativescriptXhrFactory_Factory(t) {
    return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
  };
}();
NativescriptXhrFactory.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativescriptXhrFactory,
  factory: NativescriptXhrFactory.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    var _a;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span) {
      (_a = parent.formattedText) !== null && _a !== void 0 ? _a : parent.formattedText = new _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_14__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }

    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }

  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    var _a;
    if ((_a = parent.meta) === null || _a === void 0 ? void 0 : _a.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }

  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    var _a;
    if ((_a = parent.meta) === null || _a === void 0 ? void 0 : _a.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }

    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }

    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};

NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node === null || node === void 0 ? void 0 : node.destroyNode) {
        node === null || node === void 0 ? void 0 : node.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }

  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
}
EmulatedRenderer.ɵfac = function EmulatedRenderer_Factory(t) {
  _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinvalidFactory"]();
};
EmulatedRenderer.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: EmulatedRenderer,
  factory: EmulatedRenderer.ɵfac
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: undefined
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: undefined
    }];
  }, {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
}
CdkPortal.ɵfac = function CdkPortal_Factory(t) {
  return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef));
};
CdkPortal.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CdkPortal,
  selectors: [["", "cdkPortal", ""]],
  exportAs: ["cdkPortal"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }];
  }, null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_componentFactoryResolver, _viewContainerRef, renderer) {
    super();
    this._componentFactoryResolver = _componentFactoryResolver;
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    const ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
}
CdkPortalOutlet.ɵfac = function CdkPortalOutlet_Factory(t) {
  return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
CdkPortalOutlet.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CdkPortalOutlet,
  selectors: [["", "cdkPortalOutlet", ""]],
  inputs: {
    portal: ["cdkPortalOutlet", "portal"]
  },
  outputs: {
    attached: "attached"
  },
  exportAs: ["cdkPortalOutlet"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output
    }]
  });
})();
class PortalModule {}
PortalModule.ɵfac = function PortalModule_Factory(t) {
  return new (t || PortalModule)();
};
PortalModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: PortalModule
});
PortalModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };

    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
// eslint-disable-next-line @angular-eslint/component-class-suffix
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_12__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
}
DetachedLoader.ɵfac = function DetachedLoader_Factory(t) {
  return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef));
};
DetachedLoader.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: DetachedLoader,
  selectors: [["DetachedContainer"]],
  viewQuery: function DetachedLoader_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
    }
  },
  ngContentSelectors: _c1,
  decls: 5,
  vars: 0,
  consts: [["loader", ""], ["vc", ""]],
  template: function DetachedLoader_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "Placeholder", null, 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](2, null, 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](4);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef
    }];
  }, {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    var _a;
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(!!((_a = this.page) === null || _a === void 0 ? void 0 : _a.isLoaded));
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
}
PageService.ɵfac = function PageService_Factory(t) {
  return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.ViewBase, 8));
};
PageService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: PageService,
  factory: PageService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_47__.ViewBase,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
}
FramePageComponent.ɵfac = function FramePageComponent_Factory(t) {
  return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
FramePageComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: FramePageComponent,
  selectors: [["FramePage"]],
  inputs: {
    actionBarHidden: "actionBarHidden"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
    useFactory: customFrameComponentFactory,
    deps: [FramePageComponent]
  }, {
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
    useFactory: customPageFactoryFromFrame,
    deps: [FramePageComponent]
  }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 0,
  template: function FramePageComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
}
FrameDirective.ɵfac = function FrameDirective_Factory(t) {
  return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
FrameDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: FrameDirective,
  selectors: [["Frame"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
    useFactory: customFrameDirectiveFactory,
    deps: [FrameDirective]
  }])]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
}
PageDirective.ɵfac = function PageDirective_Factory(t) {
  return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
PageDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: PageDirective,
  selectors: [["Page"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
    useFactory: customPageFactory,
    deps: [PageDirective]
  }, PageService])]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
class FramePageModule {}
FramePageModule.ɵfac = function FramePageModule_Factory(t) {
  return new (t || FramePageModule)();
};
FramePageModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: FramePageModule
});
FramePageModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
}
ActionBarComponent.ɵfac = function ActionBarComponent_Factory(t) {
  return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8));
};
ActionBarComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ActionBarComponent,
  selectors: [["ActionBar"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 0,
  template: function ActionBarComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
    }
  },
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
// eslint-disable-next-line @angular-eslint/component-class-suffix
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
}
ActionBarScope.ɵfac = function ActionBarScope_Factory(t) {
  return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, 8));
};
ActionBarScope.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ActionBarScope,
  selectors: [["ActionBarExtension"]],
  decls: 0,
  vars: 0,
  template: function ActionBarScope_Template(rf, ctx) {},
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
}
ActionItemDirective.ɵfac = function ActionItemDirective_Factory(t) {
  return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ActionBarScope, 8));
};
ActionItemDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: ActionItemDirective,
  selectors: [["ActionItem"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
}
NavigationButtonDirective.ɵfac = function NavigationButtonDirective_Factory(t) {
  return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ActionBarScope, 8));
};
NavigationButtonDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NavigationButtonDirective,
  selectors: [["NavigationButton"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}

function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.reattach();
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef === null || viewRef === void 0 ? void 0 : viewRef.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    var _a;
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !((_a = this._templateMap) === null || _a === void 0 ? void 0 : _a.has('default'))) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
}
ListViewComponent.ɵfac = function ListViewComponent_Factory(t) {
  return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
ListViewComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: ListViewComponent,
  selectors: [["ListView"]],
  contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
    }
  },
  viewQuery: function ListViewComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
    }
  },
  hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
        return ctx.onItemLoading($event);
      });
    }
  },
  inputs: {
    items: "items"
  },
  outputs: {
    setupItemView: "setupItemView"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
    provide: TEMPLATED_ITEMS_COMPONENT,
    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => ListViewComponent)
  }])],
  decls: 3,
  vars: 0,
  consts: [["loader", ""]],
  template: function ListViewComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "DetachedContainer");
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, null, 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    }
  },
  encapsulation: 2,
  changeDetection: 0
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
}
TemplateKeyDirective.ɵfac = function TemplateKeyDirective_Factory(t) {
  return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
};
TemplateKeyDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TemplateKeyDirective,
  selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
  inputs: {
    nsTemplateKey: "nsTemplateKey",
    nsTemplateKeys: "nsTemplateKeys"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Host
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [TEMPLATED_ITEMS_COMPONENT]
      }]
    }];
  }, {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
  }
}
FrameService.ɵfac = function FrameService_Factory(t) {
  return new (t || FrameService)();
};
FrameService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: FrameService,
  factory: FrameService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }

        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_51__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: Object.assign({}, queryParams)
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = Object.assign({}, queryParams);
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: Object.assign({}, queryParams)
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }

  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
}
NSLocationStrategy.ɵfac = function NSLocationStrategy_Factory(t) {
  return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](START_PATH, 8));
};
NSLocationStrategy.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSLocationStrategy,
  factory: NSLocationStrategy.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: FrameService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [START_PATH]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    var _a, _b, _c, _d;
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = ((_a = options.viewContainerRef) === null || _a === void 0 ? void 0 : _a.element.nativeElement) || _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = ((_b = options.moduleRef) === null || _b === void 0 ? void 0 : _b.injector) || ((_c = options.viewContainerRef) === null || _c === void 0 ? void 0 : _c.injector) || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
    }
    (_d = this.location) === null || _d === void 0 ? void 0 : _d._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog(Object.assign(Object.assign({}, options), {
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          }));
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once((...args) => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = this.openedModalParams.pop();
        if (this._closed$) {
          this._closed$.next(params);
        }
        yield this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          this.zone.run(() => {
            portalOutlet === null || portalOutlet === void 0 ? void 0 : portalOutlet.dispose();
            detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.instance.detectChanges();
            detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, Object.assign(Object.assign({}, options), {
        closeCallback
      }));
    });
  }
}
ModalDialogService.ɵfac = function ModalDialogService_Factory(t) {
  return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector));
};
ModalDialogService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: ModalDialogService,
  factory: ModalDialogService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }];
  }, null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
}
TabViewDirective.ɵfac = function TabViewDirective_Factory(t) {
  return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TabViewDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TabViewDirective,
  selectors: [["TabView"]],
  inputs: {
    selectedIndex: "selectedIndex"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
}
TabViewItemDirective.ɵfac = function TabViewItemDirective_Factory(t) {
  return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef));
};
TabViewItemDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TabViewItemDirective,
  selectors: [["", "tabItem", ""]],
  inputs: {
    config: ["tabItem", "config"],
    title: "title",
    iconSource: "iconSource",
    textTransform: "textTransform"
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: TabViewDirective
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }];
  }, {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.android;
  }
}
AndroidFilterComponent.ɵfac = function AndroidFilterComponent_Factory(t) {
  return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](DEVICE));
};
AndroidFilterComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: AndroidFilterComponent,
  selectors: [["android"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 1,
  consts: [[4, "ngIf"]],
  template: function AndroidFilterComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.show);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.platformNames.ios;
  }
}
IOSFilterComponent.ɵfac = function IOSFilterComponent_Factory(t) {
  return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](DEVICE));
};
IOSFilterComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: IOSFilterComponent,
  selectors: [["ios"]],
  ngContentSelectors: _c1,
  decls: 1,
  vars: 1,
  consts: [[4, "ngIf"]],
  template: function IOSFilterComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.show);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.NgIf],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {}
NativeScriptCommonModule.ɵfac = function NativeScriptCommonModule_Factory(t) {
  return new (t || NativeScriptCommonModule)();
};
NativeScriptCommonModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptCommonModule
});
NativeScriptCommonModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [ModalDialogService],
  imports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_13__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
}
NativeScriptModule.ɵfac = function NativeScriptModule_Factory(t) {
  return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeScriptModule, 12));
};
NativeScriptModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptModule
});
NativeScriptModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
  imports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], function () {
    return [{
      type: NativeScriptModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [NativeScriptModule]
      }]
    }];
  }, null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    var _a;
    (_a = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView()) === null || _a === void 0 ? void 0 : _a._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}

function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done === null || done === void 0 ? void 0 : done();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done === null || done === void 0 ? void 0 : done();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  var _a;
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...((_a = options === null || options === void 0 ? void 0 : options.providers) !== null && _a !== void 0 ? _a : [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}

function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵinternalCreateApplication"])(Object.assign({
    rootComponent
  }, createProvidersConfig(options)));
}
function runNativeScriptAngularApp(options) {
  var _a, _b;
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    var _a;
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    (_a = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView()) === null || _a === void 0 ? void 0 : _a._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && ((_b = (_a = global.NativeScriptGlobals) === null || _a === void 0 ? void 0 : _a.events) === null || _b === void 0 ? void 0 : _b[Zone.__symbol__('addEventListener')])) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_0__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_0__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_52__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_8__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {}
RootCompositeModule.ɵfac = function RootCompositeModule_Factory(t) {
  return new (t || RootCompositeModule)();
};
RootCompositeModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: RootCompositeModule
});
RootCompositeModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: DISABLE_ROOT_VIEW_HANDLING,
    useValue: true
  }, {
    provide: APP_ROOT_VIEW,
    useFactory: generateRootLayoutAndProxy
  }]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _a;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this._isDismissed = false;
    let parentView = ((_a = this._config.viewContainerRef) === null || _a === void 0 ? void 0 : _a.element.nativeElement) || _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once(() => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
      var _b, _c, _d;
      this.stateChanged.next({
        state: 'closing'
      });
      if (!this._isDismissed) {
        (_b = this.modalViewRef.firstNativeLikeView) === null || _b === void 0 ? void 0 : _b.closeModal();
      }
      yield (_c = this.location) === null || _c === void 0 ? void 0 : _c._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if ((_d = this.modalViewRef) === null || _d === void 0 ? void 0 : _d.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.fromEvent)(this.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.take)(1)).subscribe(() => this.stateChanged.next({
          state: 'closed'
        }));
      } else {
        this.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    var _a;
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(((_a = this._config.viewContainerRef) === null || _a === void 0 ? void 0 : _a.injector) || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, Object.assign(Object.assign({
      context: null
    }, userOptions), {
      closeCallback: () => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
        var _a;
        yield (_a = this.location) === null || _a === void 0 ? void 0 : _a._closeModalNavigation();
        this.onDismiss.next();
        this.onDismiss.complete();
      }),
      cancelable: !this._config.disableClose
    }));
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, Object.assign(Object.assign({
      context: null
    }, userOptions), {
      closeCallback: () => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
        this._isDismissed = true;
        this._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
        this.onDismiss.next();
        this.onDismiss.complete();
      }),
      cancelable: !this._config.disableClose
    }));
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    var _a, _b, _c;
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame ? this.parentView : ((_b = (_a = this.parentView) === null || _a === void 0 ? void 0 : _a.page) === null || _b === void 0 ? void 0 : _b.frame) || _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame.topmost();
    (_c = this.location) === null || _c === void 0 ? void 0 : _c._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof ngDevMode === 'undefined' || ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
}
_NativeDialogBase.ɵfac = function _NativeDialogBase_Factory(t) {
  _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinvalidFactory"]();
};
_NativeDialogBase.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: _NativeDialogBase
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken
    }, {
      type: NSLocationStrategy
    }];
  }, null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
}
NativeDialogService.ɵfac = function NativeDialogService_Factory(t) {
  return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy, 8));
};
NativeDialogService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativeDialogService,
  factory: NativeDialogService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector
    }, {
      type: NativeDialogConfig,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
      }]
    }, {
      type: NativeDialogService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }]
    }, {
      type: NSLocationStrategy,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }];
  }, null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return Object.assign(Object.assign({}, defaultOptions), config);
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
}
NativeDialogCloseDirective.ɵfac = function NativeDialogCloseDirective_Factory(t) {
  return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NativeDialogService));
};
NativeDialogCloseDirective.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NativeDialogCloseDirective,
  selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
  hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
        return ctx._onButtonClick();
      });
    }
  },
  inputs: {
    dialogResult: ["native-dialog-close", "dialogResult"],
    _matDialogClose: ["nativeDialogClose", "_matDialogClose"]
  },
  exportAs: ["nativeDialogClose"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], function () {
    return [{
      type: NativeDialogRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: NativeDialogService
    }];
  }, {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {}
NativeDialogModule.ɵfac = function NativeDialogModule_Factory(t) {
  return new (t || NativeDialogModule)();
};
NativeDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeDialogModule
});
NativeDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [NativeDialogService]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.File.exists(path);
  }
}
NSFileSystem.ɵfac = function NSFileSystem_Factory(t) {
  return new (t || NSFileSystem)();
};
NSFileSystem.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSFileSystem,
  factory: NSFileSystem.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = (viewContainerRef === null || viewContainerRef === void 0 ? void 0 : viewContainerRef.injector) || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = (viewContainerRef === null || viewContainerRef === void 0 ? void 0 : viewContainerRef.createComponent(detachedFactory)) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  var _a;
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = ((_a = options.viewContainerRef) === null || _a === void 0 ? void 0 : _a.injector) || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef === null || detachedLoaderRef === void 0 ? void 0 : detachedLoaderRef.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
}
TextValueAccessor.ɵfac = function TextValueAccessor_Factory(t) {
  return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TextValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TextValueAccessor,
  selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
  hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
        return ctx.onTouched();
      })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
}
CheckedValueAccessor.ɵfac = function CheckedValueAccessor_Factory(t) {
  return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
CheckedValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: CheckedValueAccessor,
  selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
  hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
}
DateValueAccessor.ɵfac = function DateValueAccessor_Factory(t) {
  return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
DateValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: DateValueAccessor,
  selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
  hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
}
TimeValueAccessor.ɵfac = function TimeValueAccessor_Factory(t) {
  return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
TimeValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: TimeValueAccessor,
  selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
  hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
}
NumberValueAccessor.ɵfac = function NumberValueAccessor_Factory(t) {
  return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
NumberValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NumberValueAccessor,
  selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
  hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_55__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
}
SelectedIndexValueAccessor.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
  return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
SelectedIndexValueAccessor.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: SelectedIndexValueAccessor,
  selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
  hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
        return ctx.onChange($event.value);
      });
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, null);
})();
class NativeScriptFormsModule {}
NativeScriptFormsModule.ɵfac = function NativeScriptFormsModule_Factory(t) {
  return new (t || NativeScriptFormsModule)();
};
NativeScriptFormsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptFormsModule
});
NativeScriptFormsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_55__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_57__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_58__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_1__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  getParentElement(element) {
    return element === null || element === void 0 ? void 0 : element.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
NativeScriptAnimationDriver.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_44__.CssAnimationProperty._getPropertyNames(), 'transform'];
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
}
InjectableAnimationEngine.ɵfac = function InjectableAnimationEngine_Factory(t) {
  return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"]));
};
InjectableAnimationEngine.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: InjectableAnimationEngine,
  factory: InjectableAnimationEngine.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [_angular_common__WEBPACK_IMPORTED_MODULE_13__.DOCUMENT]
      }]
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"]
    }];
  }, null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
function instantiateRendererFactory(renderer, engine, zone) {
  return new _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵAnimationRendererFactory"](renderer, engine, zone);
}
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
}
NativeScriptAnimationsModule.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
  return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NativeScriptAnimationsModule, 12));
};
NativeScriptAnimationsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptAnimationsModule
});
NativeScriptAnimationsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [{
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver,
    useFactory: instantiateSupportedAnimationDriver
  }, {
    provide: _angular_animations__WEBPACK_IMPORTED_MODULE_62__.AnimationBuilder,
    useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵBrowserAnimationBuilder"]
  }, {
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"],
    useFactory: instantiateDefaultStyleNormalizer
  }, {
    provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"],
    useClass: InjectableAnimationEngine
  }, {
    provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
    useFactory: instantiateRendererFactory,
    deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone]
  }],
  imports: [NativeScriptCommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_62__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_61__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_60__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone]
      }]
    }]
  }], function () {
    return [{
      type: NativeScriptAnimationsModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf
      }]
    }];
  }, null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_10__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
}
NsHttpBackEnd.ɵfac = function NsHttpBackEnd_Factory(t) {
  return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSFileSystem));
};
NsHttpBackEnd.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NsHttpBackEnd,
  factory: NsHttpBackEnd.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: _angular_common__WEBPACK_IMPORTED_MODULE_13__.XhrFactory
    }, {
      type: NSFileSystem
    }];
  }, null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {}
NativeScriptHttpClientModule.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
  return new (t || NativeScriptHttpClientModule)();
};
NativeScriptHttpClientModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptHttpClientModule
});
NativeScriptHttpClientModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  providers: [NSFileSystem, NsHttpBackEnd, {
    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
    useExisting: NsHttpBackEnd
  }],
  imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}

const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    var _a;
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && ((_a = cache.peek()) === null || _a === void 0 ? void 0 : _a.key) === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    var _a;
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = (_a = cache.pop()) === null || _a === void 0 ? void 0 : _a.state;
        if (state === null || state === void 0 ? void 0 : state.componentRef) {
          destroyComponentRef(state === null || state === void 0 ? void 0 : state.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
}
NSRouteReuseStrategy.ɵfac = function NSRouteReuseStrategy_Factory(t) {
  return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy));
};
NSRouteReuseStrategy.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NSRouteReuseStrategy,
  factory: NSRouteReuseStrategy.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
}
RouterExtensions.ɵfac = function RouterExtensions_Factory(t) {
  return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](FrameService));
};
RouterExtensions.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: RouterExtensions,
  factory: RouterExtensions.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: NSLocationStrategy
    }, {
      type: FrameService
    }];
  }, null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, Object.assign(Object.assign({}, extras), {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    }));
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
}
NSRouterLink.ɵfac = function NSRouterLink_Factory(t) {
  return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
};
NSRouterLink.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NSRouterLink,
  selectors: [["", "nsRouterLink", ""]],
  inputs: {
    target: "target",
    queryParams: "queryParams",
    fragment: "fragment",
    queryParamsHandling: "queryParamsHandling",
    preserveQueryParams: "preserveQueryParams",
    preserveFragment: "preserveFragment",
    skipLocationChange: "skipLocationChange",
    replaceUrl: "replaceUrl",
    clearHistory: "clearHistory",
    pageTransition: "pageTransition",
    pageTransitionDuration: "pageTransitionDuration",
    params: ["nsRouterLink", "params"]
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: RouterExtensions
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }];
  }, {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_51__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
}
NSRouterLinkActive.ɵfac = function NSRouterLinkActive_Factory(t) {
  return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2));
};
NSRouterLinkActive.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: NSRouterLinkActive,
  selectors: [["", "nsRouterLinkActive", ""]],
  contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.links = _t);
    }
  },
  inputs: {
    nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
    nsRouterLinkActive: "nsRouterLinkActive"
  },
  exportAs: ["routerLinkActive"],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2
    }];
  }, {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!(flags === null || flags === void 0 ? void 0 : flags.skipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_51__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    var _a;
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (((_a = this.parentContexts.getContext(this.name)) === null || _a === void 0 ? void 0 : _a.outlet) === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    var _a;
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    (_a = this.postNavFunction) === null || _a === void 0 ? void 0 : _a.call(this);
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    var _a;
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    (_a = this.postNavFunction) === null || _a === void 0 ? void 0 : _a.call(this);
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    var _a;
    let children = (_a = this.parentContexts.getContext(this.name)) === null || _a === void 0 ? void 0 : _a.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = Object.assign(Object.assign({}, defaultNavOptions), this.router.getCurrentNavigation().extras || {});
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
}
PageRouterOutlet.ɵfac = function PageRouterOutlet_Factory(t) {
  return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_51__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.EnvironmentInjector));
};
PageRouterOutlet.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({
  type: PageRouterOutlet,
  selectors: [["page-router-outlet"]],
  outputs: {
    activateEvents: "activate",
    deactivateEvents: "deactivate"
  }
});
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_51__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_45__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.ChildrenOutletContexts
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['name']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['actionBarVisibility']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,
        args: ['isEmptyOutlet']
      }]
    }, {
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,
        args: [PAGE_FACTORY]
      }]
    }, {
      type: NSRouteReuseStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_51__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef
    }, {
      type: ViewUtil
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.EnvironmentInjector
    }];
  }, {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_13__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
}
NativescriptPlatformLocation.ɵfac = function NativescriptPlatformLocation_Factory(t) {
  return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](NSLocationStrategy));
};
NativescriptPlatformLocation.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({
  token: NativescriptPlatformLocation,
  factory: NativescriptPlatformLocation.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
}
NSEmptyOutletComponent.ɵfac = function NSEmptyOutletComponent_Factory(t) {
  return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page));
};
NSEmptyOutletComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
  type: NSEmptyOutletComponent,
  selectors: [["ns-empty-outlet"]],
  viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
    }
  },
  decls: 1,
  vars: 0,
  consts: [["isEmptyOutlet", "true"]],
  template: function NSEmptyOutletComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "page-router-outlet", 0);
    }
  },
  dependencies: [PageRouterOutlet],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.Page
    }];
  }, {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_13__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule.forChild(routes).providers
    };
  }
}
NativeScriptRouterModule.ɵfac = function NativeScriptRouterModule_Factory(t) {
  return new (t || NativeScriptRouterModule)();
};
NativeScriptRouterModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
  type: NativeScriptRouterModule
});
NativeScriptRouterModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
  imports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_51__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_53__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_53__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_53__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLjJmODI3NTQ2OWRjZWI0YjdlMThkLmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUMweEI7QUFDL3hCO0FBQ3NtQjtBQUN2a0I7QUFDM0I7QUFDMEc7QUFDOUQ7QUFDVTtBQUN0RDtBQUN3SDtBQUNoRztBQUNUO0FBQ0g7QUFDc0Y7QUFDL0I7QUFDVztBQUFBO0FBQUE7QUFBQTtBQUFBO0VBQUE7SUFzUFRnRSwwREFBRSx5QkFzOEdvRztFQUFBO0FBQUE7QUFBQTtFQUFBO0lBdDhHdEdBLDBEQUFFLHlCQTI5R3dGO0VBQUE7QUFBQTtBQS9zSHZNLE1BQU0wRixZQUFZLEdBQUlDLFFBQVEsSUFBS0EsUUFBUSxDQUFDQyxXQUFXLENBQUNDLElBQUk7QUFDNUQsTUFBTUMsYUFBYSxTQUFTN0osb0RBQUksQ0FBQztFQUM3QjJKLFdBQVcsQ0FBQ0MsSUFBSSxHQUFHLEVBQUUsRUFBRTtJQUNuQixLQUFLLEVBQUU7SUFDUCxJQUFJLENBQUNBLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUNFLFFBQVEsR0FBRyxDQUFDO0lBQ2pCLElBQUksQ0FBQ0MsUUFBUSxHQUFHTixZQUFZLENBQUMsSUFBSSxDQUFDO0VBQ3RDO0VBQ0FPLFFBQVEsR0FBRztJQUNQLE9BQVEsR0FBRSxJQUFJLENBQUNELFFBQVMsSUFBRyxJQUFJLENBQUNFLEVBQUcsS0FBSSxJQUFJLENBQUNMLElBQUssRUFBQztFQUN0RDtBQUNKO0FBQ0EsTUFB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O0FBQ0EsU0FBU2l3QyxxQkFBcUIsQ0FBQ3JwQixJQUFJLEVBQUU7RUFDakMsSUFBSUEsSUFBSSxDQUFDbXFCLHFCQUFxQixJQUFJbnFCLElBQUksQ0FBQ21vQiwyQkFBMkIsS0FBSyxDQUFDLENBQUMsRUFBRTtJQUN2RW5vQixJQUFJLENBQUN1bkIsb0JBQW9CLEdBQUcsSUFBSTtFQUNwQyxDQUFDLE1BQ0k7SUFDRHZuQixJQUFJLENBQUN1bkIsb0JBQW9CLEdBQUcsS0FBSztFQUNyQztBQUNKO0FBQ0EsU0FBU21DLE9BQU8sQ0FBQzFwQixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQytuQixRQUFRLEVBQUU7RUFDZixJQUFJL25CLElBQUksQ0FBQ3duQixRQUFRLEVBQUU7SUFDZnhuQixJQUFJLENBQUN3bkIsUUFBUSxHQUFHLEtBQUs7SUFDckJ4bkIsSUFBSSxDQUFDeW5CLFVBQVUsQ0FBQ243QixJQUFJLENBQUMsSUFBSSxDQUFDO0VBQzlCO0FBQ0o7QUFDQSxTQUFTdTlCLE9BQU8sQ0FBQzdwQixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQytuQixRQUFRLEVBQUU7RUFDZmtCLFdBQVcsQ0FBQ2pwQixJQUFJLENBQUM7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVxMkc7QUFDcjJHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnMtbmctY291cnNlLy4vbm9kZV9tb2R1bGVzL0BuYXRpdmVzY3JpcHQvYW5ndWxhci9mZXNtMjAxNS9uYXRpdmVzY3JpcHQtYW5ndWxhci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaTEgZnJvbSAnQG5hdGl2ZXNjcmlwdC9jb3JlJztcbmltcG9ydCB7IFZpZXcsIExheW91dEJhc2UsIENvbnRlbnRWaWV3LCBQcm94eVZpZXdDb250YWluZXIsIFBhZ2UsIHBsYXRmb3JtTmFtZXMsIEdyaWRMYXlvdXQsIEFwcGxpY2F0aW9uLCBUcmFjZSwgRm9ybWF0dGVkU3RyaW5nLCBTcGFuLCBBYnNvbHV0ZUxheW91dCwgQWN0aXZpdHlJbmRpY2F0b3IsIEJ1dHRvbiwgRGF0ZVBpY2tlciwgRG9ja0xheW91dCwgRnJhbWUsIEh0bWxWaWV3LCBJbWFnZSwgTGFiZWwsIExpc3RQaWNrZXIsIExpc3RWaWV3LCBQbGFjZWhvbGRlciwgUHJvZ3Jlc3MsIFJlcGVhdGVyLCBSb290TGF5b3V0LCBTY3JvbGxWaWV3LCBTZWFyY2hCYXIsIFNlZ21lbnRlZEJhciwgU2VnbWVudGVkQmFySXRlbSwgU2xpZGVyLCBTdGFja0xheW91dCwgRmxleGJveExheW91dCwgU3dpdGNoLCBUYWJWaWV3LCBUZXh0RmllbGQsIFRleHRWaWV3LCBUaW1lUGlja2VyLCBXZWJWaWV3LCBXcmFwTGF5b3V0LCB1bnNldFZhbHVlLCBwcm9maWxlLCBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTLCBnZXRWaWV3QnlJZCwgT2JzZXJ2YWJsZSwgQWN0aW9uSXRlbSwgTmF2aWdhdGlvbkJ1dHRvbiwgQWN0aW9uQmFyLCBPYnNlcnZhYmxlQXJyYXksIFRhYlZpZXdJdGVtLCBDb2xvciwgRGV2aWNlLCBVdGlscywgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUywga25vd25Gb2xkZXJzLCBGaWxlLCBLZXlmcmFtZUFuaW1hdGlvbiwgYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIsIHBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnMsIENTU0hlbHBlciwgZWFjaERlc2NlbmRhbnQsIENzc0FuaW1hdGlvblByb3BlcnR5LCBwYXRoIH0gZnJvbSAnQG5hdGl2ZXNjcmlwdC9jb3JlJztcbmltcG9ydCAqIGFzIGkwIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIEluamVjdCwgQ29tcG9uZW50UmVmLCBJbmplY3RhYmxlLCBWaWV3RW5jYXBzdWxhdGlvbiwgT3B0aW9uYWwsIEVsZW1lbnRSZWYsIERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIE5nTW9kdWxlLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIEFwcGxpY2F0aW9uUmVmLCBJbmplY3RvciwgVmlld0NvbnRhaW5lclJlZiwgQ29tcG9uZW50LCBWaWV3Q2hpbGQsIElucHV0LCBpbmplY3QsIEl0ZXJhYmxlRGlmZmVycywgQ2hhbmdlRGV0ZWN0b3JSZWYsIGZvcndhcmRSZWYsIFRlbXBsYXRlUmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29udGVudENoaWxkLCBIb3N0TGlzdGVuZXIsIEhvc3QsIE5PX0VSUk9SU19TQ0hFTUEsIEVycm9ySGFuZGxlciwgU2tpcFNlbGYsIMm1SU5KRUNUT1JfU0NPUEUsIFJlbmRlcmVyRmFjdG9yeTIsIEFwcGxpY2F0aW9uTW9kdWxlLCBQbGF0Zm9ybVJlZiwgTmdNb2R1bGVSZWYsIMm1aW50ZXJuYWxDcmVhdGVBcHBsaWNhdGlvbiwgTmdab25lLCBTYW5pdGl6ZXIsIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgcGxhdGZvcm1Db3JlLCBDb250ZW50Q2hpbGRyZW4sIEluamVjdEZsYWdzLCBBdHRyaWJ1dGUsIGlzRGV2TW9kZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgX19kZWNvcmF0ZSwgX19wYXJhbSwgX19tZXRhZGF0YSwgX19hd2FpdGVyIH0gZnJvbSAndHNsaWInO1xuaW1wb3J0ICogYXMgaTEkMSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgWGhyRmFjdG9yeSwgTG9jYXRpb25TdHJhdGVneSwgQ29tbW9uTW9kdWxlLCBWaWV3cG9ydFNjcm9sbGVyLCDJtU51bGxWaWV3cG9ydFNjcm9sbGVyLCBET0NVTUVOVCwgUGxhdGZvcm1Mb2NhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBmaWx0ZXIsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHRha2UsIHN0YXJ0V2l0aCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCwgZnJvbUV2ZW50LCBkZWZlciwgT2JzZXJ2YWJsZSBhcyBPYnNlcnZhYmxlJDEgfSBmcm9tICdyeGpzJztcbmltcG9ydCAqIGFzIGkxJDMgZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IERlZmF1bHRVcmxTZXJpYWxpemVyLCBQUklNQVJZX09VVExFVCwgTmF2aWdhdGlvbkVuZCwgQWN0aXZhdGVkUm91dGUsIENoaWxkcmVuT3V0bGV0Q29udGV4dHMsIFJvdXRlck1vZHVsZSwgUm91dGVSZXVzZVN0cmF0ZWd5IH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IE5HX1ZBTFVFX0FDQ0VTU09SLCBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEFuaW1hdGlvbkJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCAqIGFzIGkxJDIgZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucy9icm93c2VyJztcbmltcG9ydCB7IMm1QW5pbWF0aW9uRW5naW5lLCDJtVdlYkFuaW1hdGlvbnNTdHlsZU5vcm1hbGl6ZXIsIEFuaW1hdGlvbkRyaXZlciwgybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIgfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zL2Jyb3dzZXInO1xuaW1wb3J0IHsgybVBbmltYXRpb25SZW5kZXJlckZhY3RvcnksIMm1QnJvd3NlckFuaW1hdGlvbkJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgSHR0cFhockJhY2tlbmQsIEh0dHBSZXNwb25zZSwgSHR0cEVycm9yUmVzcG9uc2UsIEh0dHBDbGllbnRNb2R1bGUsIEh0dHBCYWNrZW5kIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5jb25zdCBnZXRDbGFzc05hbWUgPSAoaW5zdGFuY2UpID0+IGluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWU7XG5jbGFzcyBJbnZpc2libGVOb2RlIGV4dGVuZHMgVmlldyB7XG4gICAgY29uc3RydWN0b3IobmFtZSA9ICcnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubm9kZVR5cGUgPSAxO1xuICAgICAgICB0aGlzLm5vZGVOYW1lID0gZ2V0Q2xhc3NOYW1lKHRoaXMpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMubm9kZU5hbWV9KCR7dGhpcy5pZH0pLSR7dGhpcy5uYW1lfWA7XG4gICAgfVxufVxuY2xhc3MgQ29tbWVudE5vZGUgZXh0ZW5kcyBJbnZpc2libGVOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcih2YWx1ZSk7XG4gICAgICAgIHRoaXMubWV0YSA9IHtcbiAgICAgICAgICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pZCA9IENvbW1lbnROb2RlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIENvbW1lbnROb2RlLmlkICs9IDE7XG4gICAgfVxufVxuQ29tbWVudE5vZGUuaWQgPSAwO1xuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBJbnZpc2libGVOb2RlIHtcbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuICAgIHNldCB0ZXh0KHQpIHtcbiAgICAgICAgdGhpcy5fdGV4dCA9IHQ7XG4gICAgICAgIHRoaXMubm90aWZ5KHsgZXZlbnROYW1lOiBUZXh0Tm9kZS50ZXh0Q2hhbmdlRXZlbnQsIG9iamVjdDogdGhpcywgdmFsdWU6IHQgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdGV4dCA9ICcnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMubWV0YSA9IHtcbiAgICAgICAgICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pZCA9IFRleHROb2RlLmlkLnRvU3RyaW5nKCk7XG4gICAgICAgIFRleHROb2RlLmlkICs9IDE7XG4gICAgfVxuICAgIHJlZ2lzdGVyVGV4dENoYW5nZShjYWxsYmFjaywgaWQpIHtcbiAgICAgICAgY29uc3QgY2IgPSAoZXZ0KSA9PiBjYWxsYmFjayhldnQudmFsdWUpO1xuICAgICAgICBjb25zdCBjYkFyciA9IHRoaXMuY2FsbGJhY2tNYXAuZ2V0KGlkKSB8fCBbXTtcbiAgICAgICAgY2JBcnIucHVzaChjYik7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAuc2V0KGlkLCBjYkFycik7XG4gICAgICAgIHRoaXMub24oJ3RleHRDaGFuZ2UnLCBjYik7XG4gICAgfVxuICAgIHVucmVnaXN0ZXJUZXh0Q2hhbmdlKGlkKSB7XG4gICAgICAgIGNvbnN0IGNiQXJyID0gdGhpcy5jYWxsYmFja01hcC5nZXQoaWQpIHx8IFtdO1xuICAgICAgICBjYkFyci5mb3JFYWNoKChjYikgPT4gdGhpcy5vZmYoJ3RleHRDaGFuZ2UnLCBjYikpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTWFwLmRlbGV0ZShpZCk7XG4gICAgfVxufVxuVGV4dE5vZGUudGV4dENoYW5nZUV2ZW50ID0gJ3RleHRDaGFuZ2UnO1xuVGV4dE5vZGUuaWQgPSAwO1xuXG5mdW5jdGlvbiBpc0RldGFjaGVkRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5tZXRhICYmIGVsZW1lbnQubWV0YS5za2lwQWRkVG9Eb207XG59XG5mdW5jdGlvbiBpc1ZpZXcodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgVmlldztcbn1cbmZ1bmN0aW9uIGlzSW52aXNpYmxlTm9kZSh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlO1xufVxuZnVuY3Rpb24gaXNMYXlvdXQodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgTGF5b3V0QmFzZTtcbn1cbmZ1bmN0aW9uIGlzQ29udGVudFZpZXcodmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgQ29udGVudFZpZXc7XG59XG5mdW5jdGlvbiBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHZpZXcsIGV4dHJhY3RGcm9tTlNQYXJlbnQgPSBmYWxzZSkge1xuICAgIGlmICh2aWV3IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIGlmICh2aWV3LmdldENoaWxkcmVuQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldy5nZXRDaGlsZEF0KDApKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhY3RGcm9tTlNQYXJlbnQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHZpZXcucGFyZW50Tm9kZTtcbiAgICAgICAgZGV0YWNoVmlld0Zyb21QYXJlbnQodmlldyk7XG4gICAgICAgIHZpZXcucGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gZGV0YWNoVmlld0Zyb21QYXJlbnQodmlldykge1xuICAgIGNvbnN0IHBhcmVudCA9IHZpZXcgPT09IG51bGwgfHwgdmlldyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlldy5wYXJlbnQ7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQpIHtcbiAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQocGFyZW50LCB2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSAmJiBwYXJlbnQuY29udGVudCA9PT0gdmlldykge1xuICAgICAgICBwYXJlbnQuY29udGVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVmlldyhwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudC5fcmVtb3ZlVmlldyh2aWV3KTtcbiAgICB9XG59XG5cbmNvbnN0IEFQUF9ST09UX1ZJRVcgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdEFwcFJvb3RWaWV3Jyk7XG5jb25zdCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFJvb3RNb2R1bGVJZCcpO1xuY29uc3QgU1RBUlRfUEFUSCA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0U3RhcnRQYXRoJyk7XG5jb25zdCBFTkFCTEVfUkVVU0FCRV9WSUVXUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0RW5hYmxlUmV1c2FibGVWaWV3cycpO1xuY29uc3QgRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdERpc2FibGVSb290Vmlld0hhbmRsaW5nJyk7XG5jb25zdCBERVZJQ0UgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdERldmljZScpO1xuY29uc3QgUEFHRV9GQUNUT1JZID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRQYWdlRmFjdG9yeScpO1xuY29uc3QgZGVmYXVsdFBhZ2VGYWN0b3J5ID0gZnVuY3Rpb24gKF9vcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBQYWdlKCk7XG59O1xuXG5sZXQgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIgPSBjbGFzcyBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xuICAgIH1cbiAgICBydW5zSW4obmFtZXNwYWNlLCBuZXh0KSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5pb3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQobmFtZXNwYWNlKTtcbiAgICB9XG59O1xuUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIEluamVjdChERVZJQ0UpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pXG5dLCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlcik7XG5jb25zdCBOQU1FU1BBQ0VfRklMVEVSUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0TmFtZXNwYWNlRmlsdGVyJyk7XG5cbmNsYXNzIE5nVmlld1JlZiB7XG4gICAgY29uc3RydWN0b3IocmVmKSB7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgICAgICB0aGlzLnZpZXcgPSByZWYgaW5zdGFuY2VvZiBDb21wb25lbnRSZWYgPyByZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCA6IHJlZi5yb290Tm9kZXMuZmluZCgodikgPT4gISh2IGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSkpO1xuICAgICAgICB0aGlzLmZpcnN0TmF0aXZlTGlrZVZpZXcgPSBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3KHRoaXMudmlldyk7XG4gICAgfVxuICAgIGRldGFjaE5hdGl2ZUxpa2VWaWV3KCkge1xuICAgICAgICBkZXRhY2hWaWV3RnJvbVBhcmVudCh0aGlzLmZpcnN0TmF0aXZlTGlrZVZpZXcpO1xuICAgIH1cbn1cblxuY2xhc3MgQXBwSG9zdFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgZ2V0IG5nQXBwUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25nQXBwUm9vdDtcbiAgICB9XG4gICAgc2V0IG5nQXBwUm9vdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9uZ0FwcFJvb3QgPSB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9XG4gICAgc2V0IGNvbnRlbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQucGFyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb250ZW50ID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5wYXJlbnROb2RlID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5nQXBwUm9vdCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCBpbnN0YW5jZW9mIFByb3h5Vmlld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkTGF5b3V0KCk7XG4gICAgICAgICAgICBncmlkLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgZ3JpZC5hZGRDaGlsZCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMubmdBcHBSb290ID0gZ3JpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIC8vIG1heWJlIHVzZSB0aGlzIGFwcHJvYWNoXG4gICAgICAgICAgICAvLyB0aGlzLnNjaGVkdWxlUm9vdENoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjaGVkdWxlUm9vdENoYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5uZ0FwcFJvb3QpO1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGU6ICgpID0+IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQXBwSG9zdEFzeW5jVmlldyBleHRlbmRzIEdyaWRMYXlvdXQge1xuICAgIGNvbnN0cnVjdG9yKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgZ2V0IG5nQXBwUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldCBuZ0FwcFJvb3QodmFsdWUpIHtcbiAgICAgICAgLy8gaWdub3JlZFxuICAgIH1cbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRydWUpO1xuICAgICAgICB0aGlzLm9uTWFpbk1vZHVsZVJlYWR5JCA9IHRoaXMubWFpbk1vZHVsZVJlYWR5JC5waXBlKGZpbHRlcigocmVhZHkpID0+IHJlYWR5KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRlbGF5cyBkZXN0cm95aW5nIHRoaXMgbW9kdWxlIHVudGlsIGBub3RpZnlSZWFkeVRvRGVzdHJveSgpYC5cbiAgICAgKiByZW1lbWJlciB0byBjYWxsIGBub3RpZnlSZWFkeVRvRGVzdHJveSgpYCB3aGVuIGRvbmUhXG4gICAgICovXG4gICAgd2FpdFVudGlsTm90aWZpZWQoKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLm5leHQoZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBub3RpZmllcyB0aGlzIG1vZHVsZSBpcyByZWFkeSB0byBiZSBkZXN0cm95ZWRcbiAgICAgKi9cbiAgICBub3RpZnlSZWFkeVRvRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQubmV4dCh0cnVlKTtcbiAgICB9XG4gICAgaXNNYWluTW9kdWxlUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1haW5Nb2R1bGVSZWFkeSQudmFsdWU7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLm1haW5Nb2R1bGVSZWFkeSQuY29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jaW9uIGlzIGNhbGxlZCBieSB0aGUgYm9vdHN0cmFwIGNvZGUgd2hlbiB0aGUgYXBwIGlzIHJlYWR5XG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX25vdGlmeU1haW5Nb2R1bGVSZWFkeSgpIHtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkLm5leHQodHJ1ZSk7XG4gICAgfVxufVxuTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5OYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbeyBwcm92aWRlZEluOiAncm9vdCcgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdERlYnVnIHtcbiAgICBzdGF0aWMgaXNMb2dFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gVHJhY2UuaXNFbmFibGVkKCk7XG4gICAgfVxuICAgIHN0YXRpYyBhbmltYXRpb25zTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVuZGVyZXJMb2cobXNnKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1zZywgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJlbmRlcmVyRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIHZpZXdVdGlsTG9nKG1zZykge1xuICAgICAgICBUcmFjZS53cml0ZShtc2csIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVyTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlclRyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlUmV1c2VTdHJhdGVneUxvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgc3R5bGVFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIFRyYWNlLmNhdGVnb3JpZXMuU3R5bGUsIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIGxpc3RWaWV3TG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIGxpc3RWaWV3RXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG4gICAgc3RhdGljIGJvb3RzdHJhcExvZyhtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcENhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIGJvb3RzdHJhcExvZ0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnksIFRyYWNlLm1lc3NhZ2VUeXBlLmVycm9yKTtcbiAgICB9XG59XG5OYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zVHJhY2VDYXRlZ29yeSA9ICducy1hbmltYXRpb25zJztcbk5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSA9ICducy1yZW5kZXJlcic7XG5OYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbENhdGVnb3J5ID0gJ25zLXZpZXctdXRpbCc7XG5OYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJUcmFjZUNhdGVnb3J5ID0gJ25zLXJvdXRlcic7XG5OYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5ID0gJ25zLXJvdXRlLXJldXNlLXN0cmF0ZWd5Jztcbk5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSA9ICducy1saXN0LXZpZXcnO1xuTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnkgPSAnYm9vdHN0cmFwJztcbi8vIFRPRE86IG1pZ3JhdGUgYWxsIHVzYWdlIHRvIHRoaXMgLSBhdm9pZHMgZXh0cmFuZW91cyBtZXRob2QgZXhlY3V0aW9uc1xuTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCA9IFRyYWNlLmlzRW5hYmxlZCgpO1xuXG5jbGFzcyBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5IGV4dGVuZHMgWGhyRmFjdG9yeSB7XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG59XG5OYXRpdmVzY3JpcHRYaHJGYWN0b3J5Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlcHM6IG51bGwsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbk5hdGl2ZXNjcmlwdFhockZhY3RvcnkuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnkgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0gfSk7XG5cbmNvbnN0IGZyYW1lTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgLy8gUGFnZSBjYW5ub3QgYmUgYWRkZWQgdG8gRnJhbWUgd2l0aCBfYWRkQ2hpbGRGcm9tQnVpbGRlciAodGh3b3MgXCJ1c2UgZGVmYXVsdFBhZ2VcIiBlcnJvcilcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgIHBhcmVudC5uYXZpZ2F0ZSh7IGNyZWF0ZTogKCkgPT4gY2hpbGQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgYSBQYWdlIGNhbiBiZSBhIGNoaWxkIG9mIEZyYW1lJyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmNvbnN0IGZvcm1hdHRlZFN0cmluZ01ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5zcGFucy5pbmRleE9mKG5leHQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LnNwYW5zLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnNwYW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmNvbnN0IHRleHRCYXNlTWV0YSA9IHtcbiAgICBpbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRm9ybWF0dGVkU3RyaW5nKSB7XG4gICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgU3Bhbikge1xuICAgICAgICAgICAgKF9hID0gcGFyZW50LmZvcm1hdHRlZFRleHQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChwYXJlbnQuZm9ybWF0dGVkVGV4dCA9IG5ldyBGb3JtYXR0ZWRTdHJpbmcoKSk7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmdNZXRhLmluc2VydENoaWxkKHBhcmVudC5mb3JtYXR0ZWRUZXh0LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQuZm9ybWF0dGVkVGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgRm9ybWF0dGVkU3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50LmZvcm1hdHRlZFRleHQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmZvcm1hdHRlZFRleHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgU3Bhbikge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nTWV0YS5yZW1vdmVDaGlsZChwYXJlbnQuZm9ybWF0dGVkVGV4dCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbmNvbnN0IGVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XG5jb25zdCBjYW1lbENhc2VTcGxpdCA9IC8oW2EtejAtOV0pKFtBLVpdKS9nO1xuY29uc3QgZGVmYXVsdFZpZXdNZXRhID0geyBza2lwQWRkVG9Eb206IGZhbHNlIH07XG5mdW5jdGlvbiByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHJlc29sdmVyLCBtZXRhKSB7XG4gICAgY29uc3QgZW50cnkgPSB7IHJlc29sdmVyLCBtZXRhIH07XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUsIGVudHJ5KTtcbiAgICBlbGVtZW50TWFwLnNldChlbGVtZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBlbnRyeSk7XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUucmVwbGFjZShjYW1lbENhc2VTcGxpdCwgJyQxLSQyJykudG9Mb3dlckNhc2UoKSwgZW50cnkpO1xufVxuZnVuY3Rpb24gZ2V0Vmlld0NsYXNzKGVsZW1lbnROYW1lKSB7XG4gICAgY29uc3QgZW50cnkgPSBlbGVtZW50TWFwLmdldChlbGVtZW50TmFtZSkgfHwgZWxlbWVudE1hcC5nZXQoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgaWYgKCFlbnRyeSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBrbm93biBjb21wb25lbnQgZm9yIGVsZW1lbnQgJHtlbGVtZW50TmFtZX0uYCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5yZXNvbHZlcigpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBDb3VsZCBub3QgbG9hZCB2aWV3IGZvcjogJHtlbGVtZW50TmFtZX0uJHtlfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFZpZXdNZXRhKG5vZGVOYW1lKSB7XG4gICAgY29uc3QgZW50cnkgPSBlbGVtZW50TWFwLmdldChub2RlTmFtZSkgfHwgZWxlbWVudE1hcC5nZXQobm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgcmV0dXJuIChlbnRyeSAmJiBlbnRyeS5tZXRhKSB8fCBkZWZhdWx0Vmlld01ldGE7XG59XG5mdW5jdGlvbiBpc0tub3duVmlldyhlbGVtZW50TmFtZSkge1xuICAgIHJldHVybiBlbGVtZW50TWFwLmhhcyhlbGVtZW50TmFtZSkgfHwgZWxlbWVudE1hcC5oYXMoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKSB7XG4gICAgY29uc3QgYWN0dWFsTm9kZXMgPSBub2Rlcy5maWx0ZXIoKG5vZGUpID0+ICEobm9kZSBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICBpZiAoYWN0dWFsTm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VpdGFibGUgdmlld3MgZm91bmQgaW4gbGlzdCB0ZW1wbGF0ZSEgYCArIGBOZXN0aW5nIGxldmVsOiAke25lc3RMZXZlbH1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYWN0dWFsTm9kZXMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vcmUgdGhhbiBvbmUgdmlldyBmb3VuZCBpbiBsaXN0IHRlbXBsYXRlIWAgKyBgTmVzdGluZyBsZXZlbDogJHtuZXN0TGV2ZWx9YCk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RMYXlvdXQgPSBhY3R1YWxOb2Rlc1swXTtcbiAgICBpZiAoIXJvb3RMYXlvdXQpIHtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKHJvb3RMYXlvdXQuY2hpbGRyZW4sIG5lc3RMZXZlbCArIDEpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRMYXlvdXQgPSByb290TGF5b3V0LnBhcmVudDtcbiAgICBpZiAocGFyZW50TGF5b3V0IGluc3RhbmNlb2YgTGF5b3V0QmFzZSkge1xuICAgICAgICBjb25zdCBub2RlID0gcm9vdExheW91dC5wYXJlbnROb2RlO1xuICAgICAgICBwYXJlbnRMYXlvdXQucmVtb3ZlQ2hpbGQocm9vdExheW91dCk7XG4gICAgICAgIHJvb3RMYXlvdXQucGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiByb290TGF5b3V0O1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlIGlzIGRlcHJlY2F0ZWQsIHVzZSBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZVxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpIHtcbiAgICByZXR1cm4gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCk7XG59XG5cbi8vIFJlZ2lzdGVyIGRlZmF1bHQgTmF0aXZlU2NyaXB0IGNvbXBvbmVudHNcbi8vIE5vdGU6IEFjdGlvbkJhciByZWxhdGVkIGNvbXBvbmVudHMgYXJlIHJlZ2lzdGVyZCB0b2dldGhlciB3aXRoIGFjdGlvbi1iYXIgZGlyZWN0aXZlcy5cbmZ1bmN0aW9uIHJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMoKSB7XG4gICAgaWYgKCFnbG9iYWwuX19uZ1JlZ2lzdGVyZWRWaWV3cykge1xuICAgICAgICBnbG9iYWwuX19uZ1JlZ2lzdGVyZWRWaWV3cyA9IHRydWU7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQWJzb2x1dGVMYXlvdXQnLCAoKSA9PiBBYnNvbHV0ZUxheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQWN0aXZpdHlJbmRpY2F0b3InLCAoKSA9PiBBY3Rpdml0eUluZGljYXRvcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnQnV0dG9uJywgKCkgPT4gQnV0dG9uLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0NvbnRlbnRWaWV3JywgKCkgPT4gQ29udGVudFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0RhdGVQaWNrZXInLCAoKSA9PiBEYXRlUGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdEb2NrTGF5b3V0JywgKCkgPT4gRG9ja0xheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRnJhbWUnLCAoKSA9PiBGcmFtZSwgZnJhbWVNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdHcmlkTGF5b3V0JywgKCkgPT4gR3JpZExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnSHRtbFZpZXcnLCAoKSA9PiBIdG1sVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnSW1hZ2UnLCAoKSA9PiBJbWFnZSk7XG4gICAgICAgIC8vIFBhcnNlNSBjaGFuZ2VzIDxJbWFnZT4gdGFncyB0byA8aW1nPi4gV1RGIVxuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ2ltZycsICgpID0+IEltYWdlKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMYWJlbCcsICgpID0+IExhYmVsLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0xpc3RQaWNrZXInLCAoKSA9PiBMaXN0UGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMaXN0VmlldycsICgpID0+IExpc3RWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdQYWdlJywgKCkgPT4gUGFnZSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUGxhY2Vob2xkZXInLCAoKSA9PiBQbGFjZWhvbGRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUHJvZ3Jlc3MnLCAoKSA9PiBQcm9ncmVzcyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUHJveHlWaWV3Q29udGFpbmVyJywgKCkgPT4gUHJveHlWaWV3Q29udGFpbmVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdSZXBlYXRlcicsICgpID0+IFJlcGVhdGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdSb290TGF5b3V0JywgKCkgPT4gUm9vdExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2Nyb2xsVmlldycsICgpID0+IFNjcm9sbFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlYXJjaEJhcicsICgpID0+IFNlYXJjaEJhcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VnbWVudGVkQmFyJywgKCkgPT4gU2VnbWVudGVkQmFyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWdtZW50ZWRCYXJJdGVtJywgKCkgPT4gU2VnbWVudGVkQmFySXRlbSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2xpZGVyJywgKCkgPT4gU2xpZGVyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTdGFja0xheW91dCcsICgpID0+IFN0YWNrTGF5b3V0KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdGbGV4Ym94TGF5b3V0JywgKCkgPT4gRmxleGJveExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3dpdGNoJywgKCkgPT4gU3dpdGNoKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUYWJWaWV3JywgKCkgPT4gVGFiVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGV4dEZpZWxkJywgKCkgPT4gVGV4dEZpZWxkLCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RleHRWaWV3JywgKCkgPT4gVGV4dFZpZXcsIHRleHRCYXNlTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGltZVBpY2tlcicsICgpID0+IFRpbWVQaWNrZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1dlYlZpZXcnLCAoKSA9PiBXZWJWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdXcmFwTGF5b3V0JywgKCkgPT4gV3JhcExheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRm9ybWF0dGVkU3RyaW5nJywgKCkgPT4gRm9ybWF0dGVkU3RyaW5nLCBmb3JtYXR0ZWRTdHJpbmdNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTcGFuJywgKCkgPT4gU3Bhbik7XG4gICAgfVxufVxuXG4vLyBOb3RlOiB0aGlzIHV0aWxpdHkgZXhpc3RzIGZyb20gZGVlcCBjb3JlIGltcG9ydCBob3dldmVyIHJlc3VsdHMgaW5cbi8vIE1vZHVsZSBub3QgZm91bmQ6IEVycm9yOiBDYW4ndCByZXNvbHZlICdAbmF0aXZlc2NyaXB0L2NvcmUvdWkvY29yZS9wcm9wZXJ0aWVzJ1xuZnVuY3Rpb24gaXNDc3NWYXJpYWJsZShwcm9wZXJ0eSkge1xuICAgIHJldHVybiAvXi0tW14sXFxzXSs/JC8udGVzdChwcm9wZXJ0eSk7XG59XG5jb25zdCBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG5jb25zdCBYTUxfQVRUUklCVVRFUyA9IE9iamVjdC5mcmVlemUoWydzdHlsZScsICdyb3dzJywgJ2NvbHVtbnMnLCAnZm9udEF0dHJpYnV0ZXMnXSk7XG5jb25zdCB3aGl0ZVNwYWNlU3BsaXR0ZXIgPSAvXFxzKy87XG5mdW5jdGlvbiBwcmludE5nVHJlZSh2aWV3KSB7XG4gICAgbGV0IHBhcmVudCA9IHZpZXc7XG4gICAgd2hpbGUgKHBhcmVudC5wYXJlbnQgJiYgcGFyZW50LnBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHByaW50Q2hpbGRyZW5SZWN1cnNlKHBhcmVudCk7XG59XG5mdW5jdGlvbiBwcmludENoaWxkcmVuUmVjdXJzZShwYXJlbnQpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5maXJzdENoaWxkID8gW3BhcmVudC5maXJzdENoaWxkLCAuLi5nZXRDaGlsZHJlblNpYmxpbmdzKHBhcmVudC5maXJzdENoaWxkKS5uZXh0U2libGluZ3NdIDogW107XG4gICAgY29uc29sZS5sb2coYHBhcmVudDogJHtwYXJlbnR9LCBmaXJzdENoaWxkOiAke3BhcmVudC5maXJzdENoaWxkfSwgbGFzdENoaWxkOiAke3BhcmVudC5sYXN0Q2hpbGR9IGNoaWxkcmVuOiAke2NoaWxkcmVufWApO1xuICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgLS0tLS0gc3RhcnQgJHtwYXJlbnR9YCk7XG4gICAgfVxuICAgIGNoaWxkcmVuLmZvckVhY2goKGMpID0+IHByaW50Q2hpbGRyZW5SZWN1cnNlKGMpKTtcbiAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYC0tLS0tIGVuZCAke3BhcmVudH1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDaGlsZHJlblNpYmxpbmdzKHZpZXcpIHtcbiAgICBjb25zdCBuZXh0U2libGluZ3MgPSBbXTtcbiAgICBjb25zdCBwcmV2aW91c1NpYmxpbmdzID0gW107XG4gICAgbGV0IHNpYmxpbmcgPSB2aWV3Lm5leHRTaWJsaW5nO1xuICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgIG5leHRTaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xuICAgICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcbiAgICB9XG4gICAgc2libGluZyA9IHZpZXcucHJldmlvdXNTaWJsaW5nO1xuICAgIHdoaWxlIChzaWJsaW5nKSB7XG4gICAgICAgIHByZXZpb3VzU2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2aW91c1NpYmxpbmdzLFxuICAgICAgICBuZXh0U2libGluZ3MsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHByaW50U2libGluZ3NUcmVlKHZpZXcpIHtcbiAgICBjb25zdCB7IHByZXZpb3VzU2libGluZ3MsIG5leHRTaWJsaW5ncyB9ID0gZ2V0Q2hpbGRyZW5TaWJsaW5ncyh2aWV3KTtcbiAgICBjb25zb2xlLmxvZyhgJHt2aWV3fSBwcmV2aW91c1NpYmxpbmdzOiAke3ByZXZpb3VzU2libGluZ3N9IG5leHRTaWJsaW5nczogJHtuZXh0U2libGluZ3N9YCk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuY29uc3QgcHJvcGVydHlNYXBzID0gbmV3IE1hcCgpO1xuY2xhc3MgVmlld1V0aWwge1xuICAgIGNvbnN0cnVjdG9yKG5hbWVzcGFjZUZpbHRlcnMsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIGNoaWxkIGludG8gYSBwYXJyZW50LCBwcmVmZXJhYmx5IGJlZm9yZSBuZXh0LlxuICAgICAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IHZpZXdcbiAgICAgKiBAcGFyYW0gY2hpbGQgY2hpbGQgdmlldyB0byBiZSBhZGRlZFxuICAgICAqIEBwYXJhbSBwcmV2aW91cyBwcmV2aW91cyBlbGVtZW50LiBJZiBwcmVzZW50LCBpbnNlcnQgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0gbmV4dCBuZXh0IGVsZW1lbnQuIElmIHByZXNlbnQsIGluc2VydCBiZWZvcmUgdGhpcyAocHJldmlvdXMgaXMgaWdub3JlZCkuXG4gICAgICovXG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgcHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbmRlZFBhcmVudCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhwYXJlbnQpO1xuICAgICAgICBjb25zdCBleHRlbmRlZENoaWxkID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKGNoaWxkKTtcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgbmV2ZXIgZW50ZXIsIGFzIGFuZ3VsYXIgaXMgc3VwcG9zZWQgdG8gcmVtb3ZlIHRoZSBjaGlsZCBmcm9tIHRoZSBwcmV2aW91cyBwYXJlbnQgYmVmb3JlIGNhbGxpbmcgdGhpc1xuICAgICAgICAvLyBidXQgd2hlbiBhbmd1bGFyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQsIHRoZSByZW1vdmFsIG1pZ2h0IGJlIGRlbGF5ZWQsIHNvIHdlIG5lZWQgdG8gZW5zdXJlIHRoaXMgdmlldyBpcyBub3QgYW55d2hlcmVcbiAgICAgICAgLy8gdGhpcyBzZWVtcyB0byBvbmx5IGhhcHBlbnMgdG8gQ29tbWVudE5vZGVzXG4gICAgICAgIGlmIChleHRlbmRlZENoaWxkLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlLCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSdzIGEgbmV4dCBjaGlsZCwgcHJldmlvdXMgaXMgdGhlIHByZXZpb3VzU2libGluZyBvZiBpdFxuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBuZXh0LnByZXZpb3VzU2libGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIHByZXZpb3VzLCBuZXh0IGlzIHRoZSBuZXh0U2libGluZyBvZiBpdFxuICAgICAgICAgICAgbmV4dCA9IHByZXZpb3VzLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gcHJldmlvdXMgb3IgbmV4dCwgYXBwZW5kIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIHByZXZpb3VzID0gZXh0ZW5kZWRQYXJlbnQubGFzdENoaWxkOyAvLyB0aGlzIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQgaWYgdGhlIHBhcmVudCBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnNlcnRJbkxpc3QoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIHByZXZpb3VzLCBuZXh0KTtcbiAgICAgICAgaWYgKGlzRGV0YWNoZWRFbGVtZW50KGNoaWxkKSB8fCBpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICBleHRlbmRlZENoaWxkLnBhcmVudE5vZGUgPSBleHRlbmRlZFBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRGV0YWNoZWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgICAgICB0aGlzLmFkZFRvVmlzdWFsVHJlZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgbmV4dFZpc3VhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJbnZpc2libGVOb2RlKGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VmlzdWFsID0gdGhpcy5maW5kTmV4dFZpc3VhbChuZXh0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkSW52aXNpYmxlTm9kZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCwgbmV4dFZpc3VhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJpbnROZ1RyZWUoZXh0ZW5kZWRDaGlsZCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShwYXJlbnQsIGNoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFJlZiA9IHJlZkNoaWxkID8gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHJlZkNoaWxkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkLCB1bmRlZmluZWQsIGV4dGVuZGVkUmVmKTtcbiAgICB9XG4gICAgaW5zZXJ0QWZ0ZXIocGFyZW50LCBjaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRSZWYgPSByZWZDaGlsZCA/IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhyZWZDaGlsZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgZXh0ZW5kZWRSZWYpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSB2aWV3IGludG8gdGhlIHBhcmVudC9zaWJsaW5nIGxpbmtlZCBsaXN0XG4gICAgICogIVdBUk5JTkc6IHRoaXMgbWV0aG9kIG1ha2VzIG5vIGNoZWNrcyB0byB2YWxpZGF0ZSB0aGUgaW50ZWdyaXR5IG9mIHByZXZpb3VzL25leHQgY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0gcGFyZW50IHBhcmVudCB2aWV3XG4gICAgICogQHBhcmFtIGNoaWxkIGNoaWxkIHZpZXdcbiAgICAgKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgZWxlbWVudC4gbnVsbC91bmRlZmluZWQgZm9yIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gbmV4dCBuZXh0IGVsZW1lbnQuIG51bGwvdW5kZWZpbmVkIGZvciBsYXN0IGVsZW1lbnRcbiAgICAgKi9cbiAgICBpbnNlcnRJbkxpc3QocGFyZW50LCBjaGlsZCwgcHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuaW5zZXJ0SW5MaXN0IHBhcmVudDogJHtwYXJlbnR9LCB2aWV3OiAke2NoaWxkfSwgYCArIGBwcmV2aW91czogJHtwcmV2aW91c30sIG5leHQ6ICR7bmV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbmV4dDtcbiAgICAgICAgICAgIG5leHQucHJldmlvdXNTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVG9WaXN1YWxUcmVlKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwuYWRkVG9WaXN1YWxUcmVlIHBhcmVudDogJHtwYXJlbnR9LCB2aWV3OiAke2NoaWxkfSwgbmV4dDogJHtuZXh0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5pbnNlcnRDaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRUb0xheW91dChwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5jb250ZW50ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50ICYmIHBhcmVudC5fYWRkQ2hpbGRGcm9tQnVpbGRlcikge1xuICAgICAgICAgICAgcGFyZW50Ll9hZGRDaGlsZEZyb21CdWlsZGVyKGNoaWxkLm5vZGVOYW1lLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHBhcmVudC5tZXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5zZXJ0SW52aXNpYmxlTm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEuaW5zZXJ0SW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnRleHQgPSBjaGlsZC50ZXh0O1xuICAgICAgICAgICAgICAgIGNoaWxkLnJlZ2lzdGVyVGV4dENoYW5nZSgodCkgPT4gKHBhcmVudC50ZXh0ID0gdCksIHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0VG9MYXlvdXQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgIGlmIChuZXh0VmlzdWFsKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KG5leHRWaXN1YWwpO1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydENoaWxkKGNoaWxkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcmVudC5lYWNoQ2hpbGQoKGMpID0+IHtjb25zb2xlLmxvZyhjKTsgcmV0dXJuIHRydWV9KTtcbiAgICB9XG4gICAgZmluZE5leHRWaXN1YWwodmlldykge1xuICAgICAgICBsZXQgbmV4dCA9IHZpZXc7XG4gICAgICAgIHdoaWxlIChuZXh0ICYmIGlzRGV0YWNoZWRFbGVtZW50KG5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVDaGlsZCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUGFyZW50ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHBhcmVudCk7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkQ2hpbGQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMoY2hpbGQpO1xuICAgICAgICBleHRlbmRlZENoaWxkLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21MaXN0KGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgaWYgKCFpc0RldGFjaGVkRWxlbWVudChleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVGcm9tVmlzdWFsVHJlZShleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJbnZpc2libGVOb2RlKGV4dGVuZGVkQ2hpbGQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludmlzaWJsZU5vZGUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUZyb21MaXN0KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlRnJvbUxpc3QgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb25seSBjaGlsZC4gbnVsbCBldmVyeXRoaW5nXG4gICAgICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCA9PT0gY2hpbGQgJiYgcGFyZW50Lmxhc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIHBhcmVudC5sYXN0Q2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBudWxsO1xuICAgICAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91cyA9IGNoaWxkLnByZXZpb3VzU2libGluZztcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAvLyBpcyBmaXJzdCBjaGlsZCwgbWFrZSB0aGUgbmV4dCBzaWJsaW5nIHRoZSBmaXJzdCBjaGlsZCAoY2FuIGJlIG51bGwpXG4gICAgICAgIGlmIChwYXJlbnQuZmlyc3RDaGlsZCA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5maXJzdENoaWxkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpcyBsYXN0IGNoaWxkLCBtYWtlIHRoZSBwcmV2aW91cyBzaWJsaW5nIHRoZSBsYXN0IGNoaWxkIChjYW4gYmUgbnVsbClcbiAgICAgICAgaWYgKHBhcmVudC5sYXN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBhIHByZXZpb3VzIHNpYmxpbmcsIG1ha2UgaXQgcG9pbnQgdG8gdGhlIG5leHQgc2libGluZ1xuICAgICAgICBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHRTaWJsaW5nID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBoYXZlIGEgbmV4dCBzaWJsaW5nLCBtYWtlIGl0IHBvaW50IHRvIHRoZSBwcmV2aW91c1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgbmV4dC5wcmV2aW91c1NpYmxpbmcgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5hbGx5LCBudWxsIHRoZSBzaWJsaW5nc1xuICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IG51bGw7XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoaXMgb25lIGlzIE8obikgLSB1c2UgY2FyZWZ1bGx5XG4gICAgZmluZFByZXZpb3VzRWxlbWVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmZpbmRQcmV2aW91c0VsZW1lbnQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzVmlzdWFsO1xuICAgICAgICBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgcHJldmlvdXNWaXN1YWwgPSB0aGlzLmdldFByZXZpb3VzVmlzdWFsRWxlbWVudChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJldmlvdXMgPSBwcmV2aW91c1Zpc3VhbCB8fCBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgLy8gc2luY2UgZGV0YWNoZWQgZWxlbWVudHMgYXJlIG5vdCBhZGRlZCB0byB0aGUgdmlzdWFsIHRyZWUsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmluZCB0aGUgYWN0dWFsIHByZXZpb3VzIHNpYmxpbmcgb2YgdGhlIHZpZXcsXG4gICAgICAgIC8vIHdoaWNoIG1heSBhcyB3ZWxsIGJlIGFuIGludmlzaWJsZSBub2RlXG4gICAgICAgIHdoaWxlIChwcmV2aW91cyAmJiBwcmV2aW91cyAhPT0gY2hpbGQgJiYgcHJldmlvdXMubmV4dFNpYmxpbmcgIT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IHByZXZpb3VzLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91cztcbiAgICB9XG4gICAgZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudEluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICBpZiAoZWxlbWVudEluZGV4ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRDaGlsZEF0KGVsZW1lbnRJbmRleCAtIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoaXMgb25lIGlzIE8obikgLSB1c2UgY2FyZWZ1bGx5XG4gICAgZ2V0Q2hpbGRJbmRleChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChpc0xheW91dChwYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29udGVudFZpZXcocGFyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBwYXJlbnQuY29udGVudCA/IDAgOiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVGcm9tVmlzdWFsVHJlZShwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUZyb21WaXN1YWxUcmVlIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQubWV0YSAmJiBwYXJlbnQubWV0YS5yZW1vdmVDaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkgJiYgcGFyZW50LmNvbnRlbnQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuY29udGVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHBhcmVudC5fcmVtb3ZlVmlldyhjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHBhcmVudC5tZXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlSW52aXNpYmxlTm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Lm1ldGEucmVtb3ZlSW52aXNpYmxlTm9kZShwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudW5yZWdpc3RlclRleHRDaGFuZ2UocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVMYXlvdXRDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUxheW91dENoaWxkIHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUNvbW1lbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50Tm9kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVZpZXcobmFtZSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbE5hbWUgPSBuYW1lO1xuICAgICAgICBpZiAoIWlzS25vd25WaWV3KG5hbWUpKSB7XG4gICAgICAgICAgICBuYW1lID0gJ1Byb3h5Vmlld0NvbnRhaW5lcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgQ3JlYXRpbmcgdmlldzogJHtvcmlnaW5hbE5hbWV9ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3Q2xhc3MgPSBnZXRWaWV3Q2xhc3MobmFtZSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgdmlld0NsYXNzKCk7XG4gICAgICAgIGNvbnN0IG5nVmlldyA9IHRoaXMuc2V0TmdWaWV3RXh0ZW5zaW9ucyh2aWV3LCBuYW1lKTtcbiAgICAgICAgbmdWaWV3LnJldXNhYmxlID0gISF0aGlzLnJldXNlVmlld3M7XG4gICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgfVxuICAgIGVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldykge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmlldywgJ21ldGEnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdmlldy5jc3NUeXBlIHx8IHZpZXcudHlwZU5hbWU7XG4gICAgICAgICAgICBjb25zdCBuZ1ZpZXcgPSB0aGlzLnNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBNYWtlIGludG8gYSBOZ1ZpZXcgdmlldzogJHt2aWV3fSBuYW1lOiBcIiR7bmFtZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5nVmlldyA9IHZpZXc7XG4gICAgICAgIG5nVmlldy5ub2RlTmFtZSA9IG5hbWU7XG4gICAgICAgIG5nVmlldy5tZXRhID0gZ2V0Vmlld01ldGEobmFtZSk7XG4gICAgICAgIC8vIHdlJ3JlIHNldHRpbmcgdGhlIG5vZGUgdHlwZSBvZiB0aGUgdmlld1xuICAgICAgICAvLyB0byAnZWxlbWVudCcgYmVjYXVzZSBvZiBjaGVja3MgZG9uZSBpbiB0aGVcbiAgICAgICAgLy8gZG9tIGFuaW1hdGlvbiBlbmdpbmVcbiAgICAgICAgbmdWaWV3Lm5vZGVUeXBlID0gRUxFTUVOVF9OT0RFX1RZUEU7XG4gICAgICAgIHJldHVybiBuZ1ZpZXc7XG4gICAgfVxuICAgIHNldFByb3BlcnR5KHZpZXcsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCF2aWV3IHx8IChuYW1lc3BhY2UgJiYgIXRoaXMucnVuc0luKG5hbWVzcGFjZSkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUuaW5kZXhPZignLicpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIG5lc3RlZCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gYXR0cmlidXRlTmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IHByb3BlcnRpZXNbcHJvcGVydGllcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBwcm9wZXJ0aWVzLmxlbmd0aCAtIDEgJiYgdHlwZW9mIHZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3AgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wTWFwLmhhcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gcHJvcE1hcC5nZXQocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2aWV3W3Byb3BdO1xuICAgICAgICAgICAgICAgIHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmlldyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydHlJbnRlcm5hbCh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuc0luKHBsYXRmb3JtKSB7XG4gICAgICAgIGxldCBydW5zID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbGFzdCA9ICgpID0+IHRydWU7XG4gICAgICAgIGlmICh0aGlzLm5hbWVzcGFjZUZpbHRlcnMpIHtcbiAgICAgICAgICAgIGxldCBjaGFpbiA9IChwKSA9PiB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubmFtZXNwYWNlRmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDaGFpbiA9IGNoYWluO1xuICAgICAgICAgICAgICAgIGNoYWluID0gKHApID0+IHRoaXMubmFtZXNwYWNlRmlsdGVyc1tpXS5ydW5zSW4ocCwgY3VycmVudENoYWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bnMgPSBjaGFpbihwbGF0Zm9ybSk7XG4gICAgICAgICAgICBydW5zID0gcnVucyAhPT0gZmFsc2UgPyB0cnVlIDogZmFsc2U7IC8vIHVuZGVmaW5lZCBtZWFucyB0cnVlXG4gICAgICAgICAgICAvLyB0aGlzLm5hbWVzcGFjZUZpbHRlcnMuc29tZSgoZmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAvLyBcdGNvbnN0IHJ1bnNJbkZpbHRlciA9IGZpbHRlci5ydW5zSW4ocGxhdGZvcm0pO1xuICAgICAgICAgICAgLy8gXHRpZiAocnVuc0luRmlsdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIFx0XHRydW5zID0gcnVuc0luRmlsdGVyO1xuICAgICAgICAgICAgLy8gXHRcdHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gXHR9XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVucztcbiAgICB9XG4gICAgc2V0UHJvcGVydHlJbnRlcm5hbCh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBTZXR0aW5nIGF0dHJpYnV0ZTogJHthdHRyaWJ1dGVOYW1lfT0ke3ZhbHVlfSB0byAke3ZpZXd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2xhc3Nlcyh2aWV3LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFhNTF9BVFRSSUJVVEVTLmluZGV4T2YoYXR0cmlidXRlTmFtZSkgIT09IC0xKSB7XG4gICAgICAgICAgICB2aWV3W2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcE1hcC5nZXQoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgY2hpbGRyZW4gb2YgYSBjb2xsZWN0aW9uIGN1cnJlbnRseSBoYXZlIG5vIHBhcmVudCBzZXQuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgbG93ZXItdXBwZXIgY2FzZSBtYXBwZWQgcHJvcGVydHkuXG4gICAgICAgICAgICB2aWV3W3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmtub3duIGF0dHJpYnV0ZSB2YWx1ZSAtLSBqdXN0IHNldCBpdCB0byBvdXIgb2JqZWN0IGFzIGlzLlxuICAgICAgICB2aWV3W2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIHJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXJlbnQgJiYgaXRlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBVbmFzc2lnbmluZyBwYXJlbnQgJHtpdGVtLnBhcmVudE5vZGV9IG9uIHZhbHVlOiAke2l0ZW19YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQcm9wZXJ0aWVzKGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvcGVydHlNYXBzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcE5hbWUgaW4gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpmb3JpblxuICAgICAgICAgICAgICAgIHByb3BNYXAuc2V0KHByb3BOYW1lLnRvTG93ZXJDYXNlKCksIHByb3BOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BlcnR5TWFwcy5zZXQodHlwZSwgcHJvcE1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnR5TWFwcy5nZXQodHlwZSk7XG4gICAgfVxuICAgIGNzc0NsYXNzZXModmlldykge1xuICAgICAgICBpZiAoIXZpZXcubmdDc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICB2aWV3Lm5nQ3NzQ2xhc3NlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldy5uZ0Nzc0NsYXNzZXM7XG4gICAgfVxuICAgIGFkZENsYXNzKHZpZXcsIGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFZpZXcgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldyk7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3NlcyhleHRlbmRlZFZpZXcpLnNldChjbGFzc05hbWUsIHRydWUpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKGV4dGVuZGVkVmlldyk7XG4gICAgfVxuICAgIHJlbW92ZUNsYXNzKHZpZXcsIGNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBleHRlbmRlZFZpZXcgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnModmlldyk7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3NlcyhleHRlbmRlZFZpZXcpLmRlbGV0ZShjbGFzc05hbWUpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKGV4dGVuZGVkVmlldyk7XG4gICAgfVxuICAgIHNldENsYXNzZXModmlldywgY2xhc3Nlc1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjbGFzc2VzVmFsdWUuc3BsaXQod2hpdGVTcGFjZVNwbGl0dGVyKTtcbiAgICAgICAgdGhpcy5jc3NDbGFzc2VzKHZpZXcpLmNsZWFyKCk7XG4gICAgICAgIGNsYXNzZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB0aGlzLmNzc0NsYXNzZXModmlldykuc2V0KGNsYXNzTmFtZSwgdHJ1ZSkpO1xuICAgICAgICB0aGlzLnN5bmNDbGFzc2VzKHZpZXcpO1xuICAgIH1cbiAgICBzeW5jQ2xhc3Nlcyh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGNsYXNzVmFsdWUgPSBBcnJheS5mcm9tKHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5rZXlzKCkpLmpvaW4oJyAnKTtcbiAgICAgICAgdmlldy5jbGFzc05hbWUgPSBjbGFzc1ZhbHVlO1xuICAgIH1cbiAgICBzZXRTdHlsZSh2aWV3LCBzdHlsZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0Nzc1ZhcmlhYmxlKHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGUuc2V0VW5zY29wZWRDc3NWYXJpYWJsZShzdHlsZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHZpZXcuX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGVbc3R5bGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVN0eWxlKHZpZXcsIHN0eWxlTmFtZSkge1xuICAgICAgICBpZiAoaXNDc3NWYXJpYWJsZShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBleHBvc2UgdGhpcyBvbiBjb3JlXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnVuc2NvcGVkQ3NzVmFyaWFibGVzLmRlbGV0ZShzdHlsZU5hbWUpO1xuICAgICAgICAgICAgdmlldy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldy5zdHlsZVtzdHlsZU5hbWVdID0gdW5zZXRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIHZpZXdVdGlsID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBWaWV3VXRpbDogVmlld1V0aWxcbn0pO1xuXG5jb25zdCBhZGRTdHlsZVRvQ3NzID0gcHJvZmlsZSgnXCJyZW5kZXJlclwiLmFkZFN0eWxlVG9Dc3MnLCBmdW5jdGlvbiBhZGRTdHlsZVRvQ3NzKHN0eWxlLCB0YWcpIHtcbiAgICBpZiAodGFnKSB7XG4gICAgICAgIGFkZFRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGUsIHRhZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBBcHBsaWNhdGlvbi5hZGRDc3Moc3R5bGUpO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gcnVuSW5Sb290Wm9uZShmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHJldHVybiBab25lLnJvb3QucnVuKGZuKTtcbn1cbmZ1bmN0aW9uIGluUm9vdFpvbmUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBjb25zdCBjaGlsZEZ1bmN0aW9uID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGNoaWxkRnVuY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBydW5JblJvb3Rab25lKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn1cbmxldCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgPSBjbGFzcyBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByb290TW9kdWxlSUQsIHJldXNlVmlld3MpIHtcbiAgICAgICAgdGhpcy5yb290VmlldyA9IHJvb3RWaWV3O1xuICAgICAgICB0aGlzLm5hbWVzcGFjZUZpbHRlcnMgPSBuYW1lc3BhY2VGaWx0ZXJzO1xuICAgICAgICB0aGlzLnJvb3RNb2R1bGVJRCA9IHJvb3RNb2R1bGVJRDtcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICAgICAgdGhpcy5jb21wb25lbnRSZW5kZXJlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggUmFkTGlzdFZpZXdcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IG5ldyBWaWV3VXRpbCh0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXVzZVZpZXdzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IGZhbHNlOyAvLyBkZWZhdWx0IHRvIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWZhdWx0UmVuZGVyZXIgPSBuZXcgTmF0aXZlU2NyaXB0UmVuZGVyZXIocm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgfVxuICAgIGNyZWF0ZVJlbmRlcmVyKGhvc3RFbGVtZW50LCB0eXBlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyICR7aG9zdEVsZW1lbnR9LiB0eXBlLmlkOiAke3R5cGUuaWR9IHR5cGUuZW5jYXBzdWxhdGlvbjogJHt0eXBlLmVuY2Fwc3VsYXRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFob3N0RWxlbWVudCB8fCAhdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZW5kZXJlciA9IHRoaXMuY29tcG9uZW50UmVuZGVyZXJzLmdldCh0eXBlLmlkKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqISBXQVJOSU5HXG4gICAgICAgICAqISBXZSdyZSByZXVzaW5nIHRoZSByZW5kZXJlciBmb3IgdGhlIGNvbXBvbmVudHNcbiAgICAgICAgICohIHRoaXMgbWlnaHQgY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvciBhcyB0aGUgXCJyb290Vmlld1wiIGlzIGFuIGFyYml0cmFyeSBob3N0RWxlbWVudFxuICAgICAgICAgKiEgYWxzbywgdGhlIHJlbmRlcmVyIGhhcyBpdCdzIC5kZXN0cm95KCkgY2FsbGVkIVxuICAgICAgICAgKiEgbWlnaHQgYmUgdXNlZnVsIHRvIGNyZWF0ZSBhIEJhc2VFbXVsYXRlZFJlbmRlciBhbmQgYSBQcm94eUVtdWxhdGVkUmVuZGVyXG4gICAgICAgICAqISBldmVyeSBjb21wb25lbnQgdHlwZSBnZXRzIGEgQmFzZUVtdWxhdGVkUmVuZGVyIChzaW5nbGV0b24pIHdoaWNoIGlzIHBhc3NlZCB0byBQcm94eUVtdWxhdGVkUmVuZGVyXG4gICAgICAgICAqISBQcm94eUVtdWxhdGVkUmVuZGVyZXIgcmVnaXN0ZXJzIHdpdGggQmFzZUVtdWxhdGVkUmVuZGVyIHNvIHdlIGNhbiBjbGVhbiB1cCB0aGluZ3MgbGlrZSBDU1Mgd2hlbiBpdCdzIG5vdCBuZWVkZWRcbiAgICAgICAgICohIHRoaXMgbWlnaHQgYmUgdXNlZnVsIGlmIHdlIGZpbmQgYSB3YXkgdG8gSE1SIGNvbXBvbmVudCBzdHlsaW5nIHdpdGhvdXQgYSBmdWxsIHJlYm9vdHN0cmFwXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlciBpbnN0YW5jZW9mIEVtdWxhdGVkUmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5hcHBseVRvSG9zdChob3N0RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUuZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24uTm9uZSkge1xuICAgICAgICAgICAgdHlwZS5zdHlsZXMubWFwKChzKSA9PiBzLnRvU3RyaW5nKCkpLmZvckVhY2goKHYpID0+IGFkZFN0eWxlVG9Dc3ModiwgdGhpcy5yb290TW9kdWxlSUQpKTtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gdGhpcy5kZWZhdWx0UmVuZGVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlciA9IG5ldyBFbXVsYXRlZFJlbmRlcmVyKHR5cGUsIGhvc3RFbGVtZW50LCB0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucm9vdE1vZHVsZUlELCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICAgICAgcmVuZGVyZXIuYXBwbHlUb0hvc3QoaG9zdEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVuZGVyZXJzLnNldCh0eXBlLmlkLCByZW5kZXJlcik7XG4gICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICB9XG4gICAgLy8gYmVnaW4/KCk6IHZvaWQge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAvLyB9XG4gICAgLy8gZW5kPygpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgLy8gfVxuICAgIHdoZW5SZW5kZXJpbmdEb25lKCkge1xuICAgICAgICBpZiAoIXRoaXMucm9vdFZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9IDA7XG4gICAgICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZVJlc29sdmUoKSB7XG4gICAgICAgICAgICAgICAgLy8gaU9TIHJlYWxseSBoYXRlcyBzeW5jaHJvbm91cyB0aGluZ3MuLi5cbiAgICAgICAgICAgICAgICAvLyBVdGlscy5xdWV1ZU1hY3JvdGFzayhyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDE1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpcmVXaGVuTG9hZGVkKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSByb290RmFjdG9yeSgpO1xuICAgICAgICAgICAgICAgIGlmICh2aWV3LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5vbmNlKCdsb2FkZWQnLCBzY2hlZHVsZVJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvb3RGYWN0b3J5ID0gKCkgPT4gKHRoaXMucm9vdFZpZXcgaW5zdGFuY2VvZiBDb250ZW50VmlldyA/IHRoaXMucm9vdFZpZXcuY29udGVudCA6IHRoaXMucm9vdFZpZXcpO1xuICAgICAgICAgICAgaWYgKCFyb290RmFjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290RmFjdG9yeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVXaGVuTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaXJlV2hlbkxvYWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxufTtcbk5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMCwgSW5qZWN0KEFQUF9ST09UX1ZJRVcpKSxcbiAgICBfX3BhcmFtKDEsIEluamVjdChOQU1FU1BBQ0VfRklMVEVSUykpLFxuICAgIF9fcGFyYW0oMiwgSW5qZWN0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCkpLFxuICAgIF9fcGFyYW0oMywgT3B0aW9uYWwoKSksXG4gICAgX19wYXJhbSgzLCBJbmplY3QoRU5BQkxFX1JFVVNBQkVfVklFV1MpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1ZpZXcsIEFycmF5LCBPYmplY3QsIE9iamVjdF0pXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkpO1xuY2xhc3MgTmF0aXZlU2NyaXB0UmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMucm9vdFZpZXcgPSByb290VmlldztcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yZXVzZVZpZXdzID0gcmV1c2VWaWV3cztcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IG5ldyBWaWV3VXRpbCh0aGlzLm5hbWVzcGFjZUZpbHRlcnMsIHRoaXMucmV1c2VWaWV3cyk7XG4gICAgICAgIHRoaXMuZGVzdHJveU5vZGUgPSAobm9kZSkgPT4gcnVuSW5Sb290Wm9uZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5kZXN0cm95Tm9kZSBub2RlOiAke25vZGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmRlc3Ryb3lOb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coJ05hdGl2ZVNjcmlwdFJlbmRlcmVyLmRlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KG5hbWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQ6ICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2xkTmFtZTtcbiAgICAgICAgaWYgKCFpc0tub3duVmlldyhuYW1lKSkge1xuICAgICAgICAgICAgb2xkTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gJ1Byb3h5Vmlld0NvbnRhaW5lcic7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld1V0aWwuY3JlYXRlVmlldyhuYW1lKTtcbiAgICAgICAgaWYgKG9sZE5hbWUpIHtcbiAgICAgICAgICAgIHZpZXcuY3VzdG9tQ1NTTmFtZSA9IG9sZE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGNyZWF0ZUNvbW1lbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5jcmVhdGVDb21tZW50ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1V0aWwuY3JlYXRlQ29tbWVudCh2YWx1ZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleHQodmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5jcmVhdGVUZXh0ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1V0aWwuY3JlYXRlVGV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5hcHBlbmRDaGlsZCBjaGlsZDogJHtuZXdDaGlsZH0gcGFyZW50OiAke3BhcmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpO1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5pbnNlcnRCZWZvcmUgY2hpbGQ6ICR7bmV3Q2hpbGR9IGAgKyBgcGFyZW50OiAke3BhcmVudH0gcmVmQ2hpbGQ6ICR7cmVmQ2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5pbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQpO1xuICAgIH1cbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIG9sZENoaWxkLCBpc0hvc3RFbGVtZW50KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQ2hpbGQgY2hpbGQ6ICR7b2xkQ2hpbGR9IHBhcmVudDogJHtwYXJlbnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDaGlsZChwYXJlbnQsIG9sZENoaWxkKTtcbiAgICB9XG4gICAgc2VsZWN0Um9vdEVsZW1lbnQoc2VsZWN0b3JPck5vZGUsIHByZXNlcnZlQ29udGVudCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50OiAke3NlbGVjdG9yT3JOb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck9yTm9kZSBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3Rvck9yTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0b3JPck5vZGUgJiYgc2VsZWN0b3JPck5vZGVbMF0gPT09ICcjJykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0Vmlld0J5SWQodGhpcy5yb290Vmlldywgc2VsZWN0b3JPck5vZGUuc2xpY2UoMSkpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgfHwgdGhpcy5yb290Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yTm9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdVdGlsLmNyZWF0ZVZpZXcoc2VsZWN0b3JPck5vZGUpO1xuICAgICAgICAgICAgaWYgKGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldykgPT09IHZpZXcpIHtcbiAgICAgICAgICAgICAgICAvLyB2aWV3IGlzIG5hdGl2ZWxpa2UhXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLnJvb3RWaWV3LCB2aWV3KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb290VmlldztcbiAgICB9XG4gICAgcGFyZW50Tm9kZShub2RlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucGFyZW50Tm9kZSBmb3Igbm9kZTogJHtub2RlfSBpcyAke25vZGUucGFyZW50Tm9kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICBuZXh0U2libGluZyhub2RlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIubmV4dFNpYmxpbmcgb2YgJHtub2RlfSBpcyAke25vZGUubmV4dFNpYmxpbmd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHNldEF0dHJpYnV0ZShlbCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldEF0dHJpYnV0ZSAke25hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyA6ICcnfSR7ZWx9LiR7bmFtZX0gPSAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICByZW1vdmVBdHRyaWJ1dGUoZWwsIG5hbWUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSAke25hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyA6ICcnfSR7ZWx9LiR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDbGFzcyhlbCwgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmFkZENsYXNzICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmFkZENsYXNzKGVsLCBuYW1lKTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3MoZWwsIG5hbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVDbGFzcyAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDbGFzcyhlbCwgbmFtZSk7XG4gICAgfVxuICAgIHNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0U3R5bGU6ICR7ZWx9LCAke3N0eWxlfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRTdHlsZShlbCwgc3R5bGUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmVtb3ZlU3R5bGUoZWwsIHN0eWxlLCBmbGFncykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coJ05hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZVN0eWxlOiAke3N0eWxlTmFtZX0nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZVN0eWxlKGVsLCBzdHlsZSk7XG4gICAgfVxuICAgIHNldFByb3BlcnR5KGVsLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFByb3BlcnR5ICR7ZWx9LiR7bmFtZX0gPSAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gICAgc2V0VmFsdWUobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRWYWx1ZSByZW5kZXJOb2RlOiAke25vZGV9LCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgbGlzdGVuKHRhcmdldCwgZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5saXN0ZW46ICR7ZXZlbnROYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gVmlldy5sb2FkZWRFdmVudCAmJiB0YXJnZXQuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG11c3QgY3JlYXRlIGEgbmV3IG9iZXJ2YWJsZSBoZXJlIHRvIGVuc3VyZSB0aGF0IHRoZSBldmVudCBnb2VzIHRocm91Z2ggd2hhdGV2ZXIgem9uZSBwYXRjaGVzIGFyZSBhcHBsaWVkXG4gICAgICAgICAgICBjb25zdCBvYnMgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICAgICAgb2JzLm9uY2UoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBvYnMubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgb2JqZWN0OiB0YXJnZXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4gdGFyZ2V0Lm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZywgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVFbGVtZW50XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZUNvbW1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlVGV4dFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbVmlldywgVmlld10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiYXBwZW5kQ2hpbGRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgT2JqZWN0LCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImluc2VydEJlZm9yZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBPYmplY3QsIEJvb2xlYW5dKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInJlbW92ZUNoaWxkXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgU3RyaW5nLCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldEF0dHJpYnV0ZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImFkZENsYXNzXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlQ2xhc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBPYmplY3QsIE51bWJlcl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0U3R5bGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBOdW1iZXJdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInJlbW92ZVN0eWxlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZywgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRQcm9wZXJ0eVwiLCBudWxsKTtcbi8vIENPTlRFTlRfQVRUUiBub3QgZXhwb3J0ZWQgZnJvbSBuYXRpdmVzY3JpcHQtcmVuZGVyZXIgLSB3ZSBuZWVkIGl0IGZvciBzdHlsZXMgYXBwbGljYXRpb24uXG5jb25zdCBDT01QT05FTlRfUkVHRVggPSAvJUNPTVAlL2c7XG5jb25zdCBBVFRSX1NBTklUSVpFUiA9IC8tL2c7XG5jb25zdCBDT01QT05FTlRfVkFSSUFCTEUgPSAnJUNPTVAlJztcbmNvbnN0IEhPU1RfQVRUUiA9IGBfbmdob3N0LSR7Q09NUE9ORU5UX1ZBUklBQkxFfWA7XG5jb25zdCBDT05URU5UX0FUVFIgPSBgX25nY29udGVudC0ke0NPTVBPTkVOVF9WQVJJQUJMRX1gO1xuY29uc3QgcmVwbGFjZU5nQXR0cmlidXRlID0gZnVuY3Rpb24gKGlucHV0LCBjb21wb25lbnRJZCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKENPTVBPTkVOVF9SRUdFWCwgY29tcG9uZW50SWQpO1xufTtcbmNvbnN0IGFkZFNjb3BlZFN0eWxlVG9Dc3MgPSBwcm9maWxlKGBcInJlbmRlcmVyXCIuYWRkU2NvcGVkU3R5bGVUb0Nzc2AsIGZ1bmN0aW9uIGFkZFNjb3BlZFN0eWxlVG9Dc3Moc3R5bGUsIHRhZykge1xuICAgIGlmICh0YWcpIHtcbiAgICAgICAgYWRkVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZSwgdGFnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmFkZENzcyhzdHlsZSk7XG4gICAgfVxufSk7XG5jbGFzcyBFbXVsYXRlZFJlbmRlcmVyIGV4dGVuZHMgTmF0aXZlU2NyaXB0UmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgcm9vdFZpZXcsIG5hbWVzcGFjZUZpbHRlcnMsIHJvb3RNb2R1bGVJZCwgcmV1c2VWaWV3cykge1xuICAgICAgICBzdXBlcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cyk7XG4gICAgICAgIHRoaXMucm9vdE1vZHVsZUlkID0gcm9vdE1vZHVsZUlkO1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudC5pZC5yZXBsYWNlKEFUVFJfU0FOSVRJWkVSLCAnXycpO1xuICAgICAgICB0aGlzLmNvbnRlbnRBdHRyID0gcmVwbGFjZU5nQXR0cmlidXRlKENPTlRFTlRfQVRUUiwgY29tcG9uZW50SWQpO1xuICAgICAgICB0aGlzLmhvc3RBdHRyID0gcmVwbGFjZU5nQXR0cmlidXRlKEhPU1RfQVRUUiwgY29tcG9uZW50SWQpO1xuICAgICAgICB0aGlzLmFkZFN0eWxlcyhjb21wb25lbnQuc3R5bGVzLCBjb21wb25lbnRJZCk7XG4gICAgfVxuICAgIGFwcGx5VG9Ib3N0KHZpZXcpIHtcbiAgICAgICAgc3VwZXIuc2V0QXR0cmlidXRlKHZpZXcsIHRoaXMuaG9zdEF0dHIsICcnKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICBzdXBlci5hcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudChwYXJlbnQsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHN1cGVyLmNyZWF0ZUVsZW1lbnQocGFyZW50LCBuYW1lKTtcbiAgICAgICAgLy8gU2V0IGFuIGF0dHJpYnV0ZSB0byB0aGUgdmlldyB0byBzY29wZSBjb21wb25lbnQtc3BlY2lmaWMgY3NzLlxuICAgICAgICAvLyBUaGUgcHJvcGVydHkgbmFtZSBpcyBwcmUtZ2VuZXJhdGVkIGJ5IEFuZ3VsYXIuXG4gICAgICAgIHN1cGVyLnNldEF0dHJpYnV0ZSh2aWV3LCB0aGlzLmNvbnRlbnRBdHRyLCAnJyk7XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICBhZGRTdHlsZXMoc3R5bGVzLCBjb21wb25lbnRJZCkge1xuICAgICAgICBzdHlsZXNcbiAgICAgICAgICAgIC5tYXAoKHMpID0+IHMudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIC5tYXAoKHMpID0+IHJlcGxhY2VOZ0F0dHJpYnV0ZShzLCBjb21wb25lbnRJZCkpXG4gICAgICAgICAgICAuZm9yRWFjaCgocykgPT4gYWRkU2NvcGVkU3R5bGVUb0NzcyhzLCB0aGlzLnJvb3RNb2R1bGVJZCkpO1xuICAgIH1cbn1cbkVtdWxhdGVkUmVuZGVyZXIuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciwgZGVwczogXCJpbnZhbGlkXCIsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbkVtdWxhdGVkUmVuZGVyZXIuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIgfSk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtBcnJheSwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIEVtdWxhdGVkUmVuZGVyZXIucHJvdG90eXBlLCBcImFkZFN0eWxlc1wiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBFbXVsYXRlZFJlbmRlcmVyLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IGkxLlZpZXcgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiB1bmRlZmluZWQgfSwgeyB0eXBlOiB1bmRlZmluZWQgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGFkZFN0eWxlczogW10gfSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhIG51bGwgcG9ydGFsIHRvIGEgaG9zdC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOdWxsUG9ydGFsRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ011c3QgcHJvdmlkZSBhIHBvcnRhbCB0byBhdHRhY2gnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGEgaG9zdCB0aGF0IGlzIGFscmVhZHkgYXR0YWNoZWQuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0hvc3QgYWxyZWFkeSBoYXMgYSBwb3J0YWwgYXR0YWNoZWQnKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGFuIGFscmVhZHktZGlzcG9zZWQgaG9zdC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignVGhpcyBQb3J0YWxPdXRsZXQgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYW4gdW5rbm93biBwb3J0YWwgdHlwZS5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGF0dGFjaCBhbiB1bmtub3duIFBvcnRhbCB0eXBlLiBCYXNlUG9ydGFsT3V0bGV0IGFjY2VwdHMgZWl0aGVyICcgKyAnYSBDb21wb25lbnRQb3J0YWwgb3IgYSBUZW1wbGF0ZVBvcnRhbC4nKTtcbn1cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgcG9ydGFsIHRvIGEgbnVsbCBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignQXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBudWxsIFBvcnRhbE91dGxldCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBkZXRhY2ggYSBwb3J0YWwgdGhhdCBpcyBub3QgYXR0YWNoZWQuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGRldGFjaCBhIHBvcnRhbCB0aGF0IGlzIG5vdCBhdHRhY2hlZCB0byBhIGhvc3QnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgYFBvcnRhbGAgaXMgc29tZXRoaW5nIHRoYXQgeW91IHdhbnQgdG8gcmVuZGVyIHNvbWV3aGVyZSBlbHNlLlxuICogSXQgY2FuIGJlIGF0dGFjaCB0byAvIGRldGFjaGVkIGZyb20gYSBgUG9ydGFsT3V0bGV0YC5cbiAqL1xuY2xhc3MgUG9ydGFsIHtcbiAgICAvKiogQXR0YWNoIHRoaXMgcG9ydGFsIHRvIGEgaG9zdC4gKi9cbiAgICBhdHRhY2goaG9zdCkge1xuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICBpZiAoaG9zdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChob3N0Lmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gaG9zdDtcbiAgICAgICAgcmV0dXJuIGhvc3QuYXR0YWNoKHRoaXMpO1xuICAgIH1cbiAgICAvKiogRGV0YWNoIHRoaXMgcG9ydGFsIGZyb20gaXRzIGhvc3QgKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB0aGlzLl9hdHRhY2hlZEhvc3Q7XG4gICAgICAgIGlmIChob3N0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IG51bGw7XG4gICAgICAgICAgICBob3N0LmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHBvcnRhbCBpcyBhdHRhY2hlZCB0byBhIGhvc3QuICovXG4gICAgZ2V0IGlzQXR0YWNoZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZEhvc3QgIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgUG9ydGFsT3V0bGV0IHJlZmVyZW5jZSB3aXRob3V0IHBlcmZvcm1pbmcgYGF0dGFjaCgpYC4gVGhpcyBpcyB1c2VkIGRpcmVjdGx5IGJ5XG4gICAgICogdGhlIFBvcnRhbE91dGxldCB3aGVuIGl0IGlzIHBlcmZvcm1pbmcgYW4gYGF0dGFjaCgpYCBvciBgZGV0YWNoKClgLlxuICAgICAqL1xuICAgIHNldEF0dGFjaGVkSG9zdChob3N0KSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IGhvc3Q7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBDb21wb25lbnRQb3J0YWxgIGlzIGEgcG9ydGFsIHRoYXQgaW5zdGFudGlhdGVzIHNvbWUgQ29tcG9uZW50IHVwb24gYXR0YWNobWVudC5cbiAqL1xuY2xhc3MgQ29tcG9uZW50UG9ydGFsIGV4dGVuZHMgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQsIHZpZXdDb250YWluZXJSZWYsIGluamVjdG9yLCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBUZW1wbGF0ZVBvcnRhbGAgaXMgYSBwb3J0YWwgdGhhdCByZXByZXNlbnRzIHNvbWUgZW1iZWRkZWQgdGVtcGxhdGUgKFRlbXBsYXRlUmVmKS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVQb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCB2aWV3Q29udGFpbmVyUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgZ2V0IG9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVSZWYuZWxlbWVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBwb3J0YWwgdG8gdGhlIHByb3ZpZGVkIGBQb3J0YWxPdXRsZXRgLlxuICAgICAqIFdoZW4gYSBjb250ZXh0IGlzIHByb3ZpZGVkIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIGBjb250ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgYFRlbXBsYXRlUG9ydGFsYFxuICAgICAqIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGF0dGFjaChob3N0LCBjb250ZXh0ID0gdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBzdXBlci5hdHRhY2goaG9zdCk7XG4gICAgfVxuICAgIGRldGFjaCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGV0YWNoKCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBEb21Qb3J0YWxgIGlzIGEgcG9ydGFsIHdob3NlIERPTSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvblxuICogaW4gdGhlIERPTSBhbmQgbW92ZWQgaW50byBhIHBvcnRhbCBvdXRsZXQsIHdoZW4gaXQgaXMgYXR0YWNoZWQuIE9uIGRldGFjaCwgdGhlIGNvbnRlbnRcbiAqIHdpbGwgYmUgcmVzdG9yZWQgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICovXG5jbGFzcyBEb21Qb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQgOiBlbGVtZW50O1xuICAgIH1cbn1cbi8qKlxuICogUGFydGlhbCBpbXBsZW1lbnRhdGlvbiBvZiBQb3J0YWxPdXRsZXQgdGhhdCBoYW5kbGVzIGF0dGFjaGluZ1xuICogQ29tcG9uZW50UG9ydGFsIGFuZCBUZW1wbGF0ZVBvcnRhbC5cbiAqL1xuY2xhc3MgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoaXMgaG9zdCBoYXMgYWxyZWFkeSBiZWVuIHBlcm1hbmVudGx5IGRpc3Bvc2VkLiAqL1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIGBhdHRhY2hEb21Qb3J0YWxgIHRvIGJlY29tZSBhIHJlcXVpcmVkIGFic3RyYWN0IG1ldGhvZC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIGhvc3QgaGFzIGFuIGF0dGFjaGVkIHBvcnRhbC4gKi9cbiAgICBoYXNBdHRhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYXR0YWNoZWRQb3J0YWw7XG4gICAgfVxuICAgIC8qKiBBdHRhY2hlcyBhIHBvcnRhbC4gKi9cbiAgICBhdHRhY2gocG9ydGFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGlmICghcG9ydGFsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dOdWxsUG9ydGFsRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydGFsIGluc3RhbmNlb2YgQ29tcG9uZW50UG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvcnRhbCBpbnN0YW5jZW9mIFRlbXBsYXRlUG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCk7XG4gICAgICAgICAgICAvLyBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMCByZW1vdmUgbnVsbCBjaGVjayBmb3IgYHRoaXMuYXR0YWNoRG9tUG9ydGFsYC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF0dGFjaERvbVBvcnRhbCAmJiBwb3J0YWwgaW5zdGFuY2VvZiBEb21Qb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoRG9tUG9ydGFsKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIERldGFjaGVzIGEgcHJldmlvdXNseSBhdHRhY2hlZCBwb3J0YWwuICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWRQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsLnNldEF0dGFjaGVkSG9zdChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VEaXNwb3NlRm4oKTtcbiAgICB9XG4gICAgLyoqIFBlcm1hbmVudGx5IGRpc3Bvc2Ugb2YgdGhpcyBwb3J0YWwgaG9zdC4gKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZURpc3Bvc2VGbigpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICBzZXREaXNwb3NlRm4oZm4pIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZUZuID0gZm47XG4gICAgfVxuICAgIF9pbnZva2VEaXNwb3NlRm4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NlRm4pIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VGbigpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZUZuID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERpcmVjdGl2ZSB2ZXJzaW9uIG9mIGEgYFRlbXBsYXRlUG9ydGFsYC4gQmVjYXVzZSB0aGUgZGlyZWN0aXZlICppcyogYSBUZW1wbGF0ZVBvcnRhbCxcbiAqIHRoZSBkaXJlY3RpdmUgaW5zdGFuY2UgaXRzZWxmIGNhbiBiZSBhdHRhY2hlZCB0byBhIGhvc3QsIGVuYWJsaW5nIGRlY2xhcmF0aXZlIHVzZSBvZiBwb3J0YWxzLlxuICovXG5jbGFzcyBDZGtQb3J0YWwgZXh0ZW5kcyBUZW1wbGF0ZVBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgc3VwZXIodGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXJSZWYpO1xuICAgIH1cbn1cbkNka1BvcnRhbC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWwsIGRlcHM6IFt7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbkNka1BvcnRhbC7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBDZGtQb3J0YWwsIHNlbGVjdG9yOiBcIltjZGtQb3J0YWxdXCIsIGV4cG9ydEFzOiBbXCJjZGtQb3J0YWxcIl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Nka1BvcnRhbF0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2Nka1BvcnRhbCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfV07IH0gfSk7XG4vKipcbiAqIERpcmVjdGl2ZSB2ZXJzaW9uIG9mIGEgUG9ydGFsT3V0bGV0LiBCZWNhdXNlIHRoZSBkaXJlY3RpdmUgKmlzKiBhIFBvcnRhbE91dGxldCwgcG9ydGFscyBjYW4gYmVcbiAqIGRpcmVjdGx5IGF0dGFjaGVkIHRvIGl0LCBlbmFibGluZyBkZWNsYXJhdGl2ZSB1c2UuXG4gKlxuICogVXNhZ2U6XG4gKiBgPG5nLXRlbXBsYXRlIFtjZGtQb3J0YWxPdXRsZXRdPVwiZ3JlZXRpbmdcIj48L25nLXRlbXBsYXRlPmBcbiAqL1xuY2xhc3MgQ2RrUG9ydGFsT3V0bGV0IGV4dGVuZHMgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgX3ZpZXdDb250YWluZXJSZWYsIHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBfdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKiogV2hldGhlciB0aGUgcG9ydGFsIGNvbXBvbmVudCBpcyBpbml0aWFsaXplZC4gKi9cbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAvKiogRW1pdHMgd2hlbiBhIHBvcnRhbCBpcyBhdHRhY2hlZCB0byB0aGUgb3V0bGV0LiAqL1xuICAgICAgICB0aGlzLmF0dGFjaGVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoZXMgdGhlIGdpdmVuIERvbVBvcnRhbCB0byB0aGlzIFBvcnRhbEhvc3QgYnkgbW92aW5nIGFsbCBvZiB0aGUgcG9ydGFsIGNvbnRlbnQgaW50byBpdC5cbiAgICAgICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRvIGJlIHR1cm5lZCBpbnRvIGEgbWV0aG9kLlxuICAgICAgICAgKiBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSAocG9ydGFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9ydGFsLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdET00gcG9ydGFsIGNvbnRlbnQgbXVzdCBiZSBhdHRhY2hlZCB0byBhIHBhcmVudCBub2RlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQW5jaG9yIHVzZWQgdG8gc2F2ZSB0aGUgZWxlbWVudCdzIHByZXZpb3VzIHBvc2l0aW9uIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IHdoZW4gdGhlIHBvcnRhbCBpcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQoJ2RvbS1wb3J0YWwnKTtcbiAgICAgICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmluc2VydEJlZm9yZShlbGVtZW50LnBhcmVudE5vZGUsIGFuY2hvck5vZGUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hcHBlbmRDaGlsZCh0aGlzLl9nZXRSb290Tm9kZSgpLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvck5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmluc2VydEJlZm9yZShhbmNob3JOb2RlLnBhcmVudE5vZGUsIGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvck5vZGUucGFyZW50Tm9kZSEucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogUG9ydGFsIGFzc29jaWF0ZWQgd2l0aCB0aGUgUG9ydGFsIG91dGxldC4gKi9cbiAgICBnZXQgcG9ydGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRQb3J0YWw7XG4gICAgfVxuICAgIHNldCBwb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgY2FzZXMgd2hlcmUgdGhlIGBwb3J0YWxgIGlzIHNldCB0byBhIGZhbHN5IHZhbHVlIGJlZm9yZSB0aGUgbGlmZWN5Y2xlIGhvb2tzIGhhdmVcbiAgICAgICAgLy8gcnVuLiBUaGlzIGhhbmRsZXMgdGhlIGNhc2VzIHdoZXJlIHRoZSB1c2VyIG1pZ2h0IGRvIHNvbWV0aGluZyBsaWtlIGA8ZGl2IGNka1BvcnRhbE91dGxldD5gXG4gICAgICAgIC8vIGFuZCBhdHRhY2ggYSBwb3J0YWwgcHJvZ3JhbW1hdGljYWxseSBpbiB0aGUgcGFyZW50IGNvbXBvbmVudC4gV2hlbiBBbmd1bGFyIGRvZXMgdGhlIGZpcnN0IENEXG4gICAgICAgIC8vIHJvdW5kLCBpdCB3aWxsIGZpcmUgdGhlIHNldHRlciB3aXRoIGVtcHR5IHN0cmluZywgY2F1c2luZyB0aGUgdXNlcidzIGNvbnRlbnQgdG8gYmUgY2xlYXJlZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSAmJiAhcG9ydGFsICYmICF0aGlzLl9pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgc3VwZXIuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcnRhbCkge1xuICAgICAgICAgICAgc3VwZXIuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgfVxuICAgIC8qKiBDb21wb25lbnQgb3IgdmlldyByZWZlcmVuY2UgdGhhdCBpcyBhdHRhY2hlZCB0byB0aGUgcG9ydGFsLiAqL1xuICAgIGdldCBhdHRhY2hlZFJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkUmVmO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIENvbXBvbmVudFBvcnRhbCB0byB0aGlzIFBvcnRhbE91dGxldCB1c2luZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIHBvcnRhbCBvdXRsZXQuXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHBvcnRhbC5zZXRBdHRhY2hlZEhvc3QodGhpcyk7XG4gICAgICAgIC8vIElmIHRoZSBwb3J0YWwgc3BlY2lmaWVzIGFuIG9yaWdpbiwgdXNlIHRoYXQgYXMgdGhlIGxvZ2ljYWwgbG9jYXRpb24gb2YgdGhlIGNvbXBvbmVudFxuICAgICAgICAvLyBpbiB0aGUgYXBwbGljYXRpb24gdHJlZS4gT3RoZXJ3aXNlIHVzZSB0aGUgbG9jYXRpb24gb2YgdGhpcyBQb3J0YWxPdXRsZXQuXG4gICAgICAgIGNvbnN0IHZpZXdDb250YWluZXJSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZiAhPSBudWxsID8gcG9ydGFsLnZpZXdDb250YWluZXJSZWYgOiB0aGlzLl92aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IHBvcnRhbC5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICBjb25zdCBjb21wb25lbnRGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkocG9ydGFsLmNvbXBvbmVudCk7XG4gICAgICAgIGNvbnN0IHJlZiA9IHZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnksIHZpZXdDb250YWluZXJSZWYubGVuZ3RoLCBwb3J0YWwuaW5qZWN0b3IgfHwgdmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIGEgdmlldyBjb250YWluZXIgdGhhdCdzIGRpZmZlcmVudCBmcm9tIHRoZSBpbmplY3RlZCBvbmUgKGUuZy4gd2hlbiB0aGUgcG9ydGFsXG4gICAgICAgIC8vIHNwZWNpZmllcyBpdHMgb3duKSB3ZSBuZWVkIHRvIG1vdmUgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBvdXRsZXQsIG90aGVyd2lzZSBpdCdsbCBiZSByZW5kZXJlZFxuICAgICAgICAvLyBpbnNpZGUgb2YgdGhlIGFsdGVybmF0ZSB2aWV3IGNvbnRhaW5lci5cbiAgICAgICAgaWYgKHZpZXdDb250YWluZXJSZWYgIT09IHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0Um9vdE5vZGUoKSwgcmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHJlZi5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSByZWY7XG4gICAgICAgIHRoaXMuYXR0YWNoZWQuZW1pdChyZWYpO1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIFRlbXBsYXRlUG9ydGFsIHRvIHRoaXMgUG9ydGFsSG9zdCBhcyBhbiBlbWJlZGRlZCBWaWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBwb3J0YWwuc2V0QXR0YWNoZWRIb3N0KHRoaXMpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcocG9ydGFsLnRlbXBsYXRlUmVmLCBwb3J0YWwuY29udGV4dCk7XG4gICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNsZWFyKCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSB2aWV3UmVmO1xuICAgICAgICB0aGlzLmF0dGFjaGVkLmVtaXQodmlld1JlZik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgcm9vdCBub2RlIG9mIHRoZSBwb3J0YWwgb3V0bGV0LiAqL1xuICAgIF9nZXRSb290Tm9kZSgpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBUaGUgZGlyZWN0aXZlIGNvdWxkIGJlIHNldCBvbiBhIHRlbXBsYXRlIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgY29tbWVudFxuICAgICAgICAvLyBub2RlIGJlaW5nIHRoZSByb290LiBVc2UgdGhlIGNvbW1lbnQncyBwYXJlbnQgbm9kZSBpZiB0aGF0IGlzIHRoZSBjYXNlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICByZXR1cm4gKCEobmF0aXZlRWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnROb2RlKSA/IG5hdGl2ZUVsZW1lbnQgOiBuYXRpdmVFbGVtZW50LnBhcmVudE5vZGUpO1xuICAgIH1cbn1cbkNka1BvcnRhbE91dGxldC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWxPdXRsZXQsIGRlcHM6IFt7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuQ2RrUG9ydGFsT3V0bGV0Lsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IENka1BvcnRhbE91dGxldCwgc2VsZWN0b3I6IFwiW2Nka1BvcnRhbE91dGxldF1cIiwgaW5wdXRzOiB7IHBvcnRhbDogW1wiY2RrUG9ydGFsT3V0bGV0XCIsIFwicG9ydGFsXCJdIH0sIG91dHB1dHM6IHsgYXR0YWNoZWQ6IFwiYXR0YWNoZWRcIiB9LCBleHBvcnRBczogW1wiY2RrUG9ydGFsT3V0bGV0XCJdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWxPdXRsZXQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tjZGtQb3J0YWxPdXRsZXRdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdjZGtQb3J0YWxPdXRsZXQnLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWlucHV0cy1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IFsncG9ydGFsOiBjZGtQb3J0YWxPdXRsZXQnXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGF0dGFjaGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcbmNsYXNzIFBvcnRhbE1vZHVsZSB7XG59XG5Qb3J0YWxNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTtcblBvcnRhbE1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sIGV4cG9ydHM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0gfSk7XG5Qb3J0YWxNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgUG9ydGFsT3V0bGV0IGZvciBhdHRhY2hpbmcgcG9ydGFscyB0byBhbiBhcmJpdHJhcnkgRE9NIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgQW5ndWxhclxuICogYXBwbGljYXRpb24gY29udGV4dC5cbiAqL1xubGV0IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCA9IGNsYXNzIE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCBleHRlbmRzIEJhc2VQb3J0YWxPdXRsZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBFbGVtZW50IGludG8gd2hpY2ggdGhlIGNvbnRlbnQgaXMgcHJvamVjdGVkLiAqL1xuICAgIG91dGxldEVsZW1lbnQsIF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF9hcHBSZWYsIF9kZWZhdWx0SW5qZWN0b3IsIHZpZXdVdGlsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3V0bGV0RWxlbWVudCA9IG91dGxldEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IF9hcHBSZWY7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRJbmplY3RvciA9IF9kZWZhdWx0SW5qZWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2hlcyBhIERPTSBwb3J0YWwgYnkgdHJhbnNmZXJyaW5nIGl0cyBjb250ZW50IGludG8gdGhlIG91dGxldC5cbiAgICAgICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRvIGJlIHR1cm5lZCBpbnRvIGEgbWV0aG9kLlxuICAgICAgICAgKiBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSAocG9ydGFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9ydGFsLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdET00gcG9ydGFsIGNvbnRlbnQgbXVzdCBiZSBhdHRhY2hlZCB0byBhIHBhcmVudCBub2RlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQW5jaG9yIHVzZWQgdG8gc2F2ZSB0aGUgZWxlbWVudCdzIHByZXZpb3VzIHBvc2l0aW9uIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IHdoZW4gdGhlIHBvcnRhbCBpcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSB0aGlzLl92aWV3VXRpbC5jcmVhdGVDb21tZW50KCdkb20tcG9ydGFsJyk7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoZWxlbWVudC5wYXJlbnROb2RlLCBhbmNob3JOb2RlLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBgcmVwbGFjZVdpdGhgIGhlcmUgYmVjYXVzZSBJRSBkb2Vzbid0IHN1cHBvcnQgaXQuXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvck5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy9hbmNob3JOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl92aWV3VXRpbCA9IHZpZXdVdGlsIHx8IHRoaXMuX2RlZmF1bHRJbmplY3Rvci5nZXQoVmlld1V0aWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIENvbXBvbmVudFBvcnRhbCB0byBET00gZWxlbWVudCB1c2luZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFJlZjtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYSBWaWV3Q29udGFpbmVyUmVmLCB3ZSB3aWxsIHVzZSB0aGF0IGFzIHRoZSBhdHRhY2htZW50IHBvaW50XG4gICAgICAgIC8vIGZvciB0aGUgY29tcG9uZW50IChpbiB0ZXJtcyBvZiBBbmd1bGFyJ3MgY29tcG9uZW50IHRyZWUsIG5vdCByZW5kZXJpbmcpLlxuICAgICAgICAvLyBXaGVuIHRoZSBWaWV3Q29udGFpbmVyUmVmIGlzIG1pc3NpbmcsIHdlIHVzZSB0aGUgZmFjdG9yeSB0byBjcmVhdGUgdGhlIGNvbXBvbmVudCBkaXJlY3RseVxuICAgICAgICAvLyBhbmQgdGhlbiBtYW51YWxseSBhdHRhY2ggdGhlIHZpZXcgdG8gdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBpZiAocG9ydGFsLnZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5LCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5sZW5ndGgsIHBvcnRhbC5pbmplY3RvciB8fCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLnNldERpc3Bvc2VGbigoKSA9PiBjb21wb25lbnRSZWYuZGVzdHJveSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHBvcnRhbC5pbmplY3RvciB8fCB0aGlzLl9kZWZhdWx0SW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaW5zdGFudGlhdGVkLCBzbyB3ZSBtb3ZlIGl0IHRvIHRoZSBsb2NhdGlvbiBpbiB0aGUgRE9NXG4gICAgICAgIC8vIHdoZXJlIHdlIHdhbnQgaXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy5fZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHJvb3ROb2RlLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQocm9vdE5vZGUucGFyZW50LCByb290Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCB0aGlzLl9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB0ZW1wbGF0ZSBwb3J0YWwgdG8gdGhlIERPTSBhcyBhbiBlbWJlZGRlZCB2aWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBjb25zdCB2aWV3Q29udGFpbmVyID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB2aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyhwb3J0YWwudGVtcGxhdGVSZWYsIHBvcnRhbC5jb250ZXh0KTtcbiAgICAgICAgLy8gVGhlIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3YCB3aWxsIGFkZCB0aGUgdmlldyBhcyBhIGNoaWxkIG9mIHRoZSB2aWV3Q29udGFpbmVyLlxuICAgICAgICAvLyBCdXQgZm9yIHRoZSBEb21Qb3J0YWxPdXRsZXQgdGhlIHZpZXcgY2FuIGJlIGFkZGVkIGV2ZXJ5d2hlcmUgaW4gdGhlIERPTVxuICAgICAgICAvLyAoZS5nIE92ZXJsYXkgQ29udGFpbmVyKSBUbyBtb3ZlIHRoZSB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgaG9zdCBlbGVtZW50LiBXZSBqdXN0XG4gICAgICAgIC8vIHJlLWFwcGVuZCB0aGUgZXhpc3Rpbmcgcm9vdCBub2Rlcy5cbiAgICAgICAgdmlld1JlZi5yb290Tm9kZXMuZm9yRWFjaCgocm9vdE5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChyb290Tm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChyb290Tm9kZS5wYXJlbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgcm9vdE5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHdhbnQgdG8gZGV0ZWN0IGNoYW5nZXMgYWZ0ZXIgdGhlIG5vZGVzIGhhdmUgYmVlbiBtb3ZlZCBzbyB0aGF0XG4gICAgICAgIC8vIGFueSBkaXJlY3RpdmVzIGluc2lkZSB0aGUgcG9ydGFsIHRoYXQgYXJlIGxvb2tpbmcgYXQgdGhlIERPTSBpbnNpZGUgYSBsaWZlY3ljbGVcbiAgICAgICAgLy8gaG9vayB3b24ndCBiZSBpbnZva2VkIHRvbyBlYXJseS5cbiAgICAgICAgdmlld1JlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlld0NvbnRhaW5lci5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZpZXdDb250YWluZXIucmVtb3ZlKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE8oamVsYm91cm4pOiBSZXR1cm4gbG9jYWxzIGZyb20gdmlldy5cbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBvdXQgYSBwb3J0YWwgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlLCB0aGlzLm91dGxldEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSByb290IEhUTUxFbGVtZW50IGZvciBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50LiAqL1xuICAgIF9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZi5ob3N0Vmlldy5yb290Tm9kZXNbMF07XG4gICAgfVxufTtcbk5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oNCwgT3B0aW9uYWwoKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LFxuICAgICAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgIEFwcGxpY2F0aW9uUmVmLFxuICAgICAgICBJbmplY3RvcixcbiAgICAgICAgVmlld1V0aWxdKVxuXSwgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KTtcblxucmVnaXN0ZXJFbGVtZW50KCdEZXRhY2hlZENvbnRhaW5lcicsICgpID0+IFByb3h5Vmlld0NvbnRhaW5lciwge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbn0pO1xuLyoqXG4gKiBXcmFwcGVyIGNvbXBvbmVudCB1c2VkIGZvciBsb2FkaW5nIGNvbXBvbmVudHMgd2hlbiBuYXZpZ2F0aW5nXG4gKiBJdCB1c2VzIERldGFjaGVkQ29udGFpbmVyIGFzIHNlbGVjdG9yIHNvIHRoYXQgaXQgaXMgY29udGFpbmVyUmVmIGlzIG5vdCBhdHRhY2hlZCB0b1xuICogdGhlIHZpc3VhbCB0cmVlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1jbGFzcy1zdWZmaXhcbmNsYXNzIERldGFjaGVkTG9hZGVyIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmNvbXBvbmVudC1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHZlciwgY2hhbmdlRGV0ZWN0b3IsIGNvbnRhaW5lclJlZiwgYXBwUmVmKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlcjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvciA9IGNoYW5nZURldGVjdG9yO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclJlZiA9IGNvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSBhcHBSZWY7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBjcmVhdGVDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgY3VzdG9tSW5qZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgdGhpcy52YywgY3VzdG9tSW5qZWN0b3IgfHwgdGhpcy52Yy5pbmplY3Rvcik7XG4gICAgfVxuICAgIGNyZWF0ZVRlbXBsYXRlUG9ydGFsKHRlbXBsYXRlUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVQb3J0YWwodGVtcGxhdGVSZWYsIHRoaXMudmMsIGNvbnRleHQpO1xuICAgIH1cbiAgICBsb2FkSW5BcHBSZWYoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDb21wb25lbnQgaXMgY3JlYXRlZCwgYnVpbHQgbWF5IG5vdCBiZSBjaGVja2VkIGlmIHdlIGFyZSBsb2FkaW5nXG4gICAgICAgIC8vIGluc2lkZSBjb21wb25lbnQgd2l0aCBPblB1c2ggQ0Qgc3RyYXRlZ3kuIE1hcmsgdXMgZm9yIGNoZWNrIHRvIGJlIHN1cmUgQ0Qgd2lsbCByZWFjaCB1cy5cbiAgICAgICAgLy8gV2UgYXJlIGluc2lkZSBhIHByb21pc2UgaGVyZSBzbyBubyBuZWVkIGZvciBzZXRUaW1lb3V0IC0gQ0Qgc2hvdWxkIHRyaWdnZXJcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIHByb21pc2UuXG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkSW5Mb2NhdGlvbiBjb21wb25lbnQgbG9hZGVkIC0+IG1hcmtGb3JDaGVjaycsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgbG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgIH1cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnQoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudCcsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudFN5bmMoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudFN5bmMnLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbicsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZFdpdGhGYWN0b3J5KGZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24oZmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSk7XG4gICAgfVxufVxuRGV0YWNoZWRMb2FkZXIuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIGRlcHM6IFt7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiBpMC5BcHBsaWNhdGlvblJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5EZXRhY2hlZExvYWRlci7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgc2VsZWN0b3I6IFwiRGV0YWNoZWRDb250YWluZXJcIiwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJ2Y1wiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJ2Y1wiXSwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxQbGFjZWhvbGRlciAjbG9hZGVyPjwvUGxhY2Vob2xkZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjdmM+PC9uZy1jb250YWluZXI+XG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdEZXRhY2hlZENvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPFBsYWNlaG9sZGVyICNsb2FkZXI+PC9QbGFjZWhvbGRlcj5cbiAgICA8bmctY29udGFpbmVyICN2Yz48L25nLWNvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkwLkFwcGxpY2F0aW9uUmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyB2YzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogWyd2YycsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dXG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBQYWdlU2VydmljZSB7XG4gICAgZ2V0IGluUGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luUGFnZSQudmFsdWU7XG4gICAgfVxuICAgIGdldCBpblBhZ2UkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5QYWdlJC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICAgIH1cbiAgICBnZXQgcGFnZUV2ZW50cyQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlRXZlbnRzJC5hc09ic2VydmFibGUoKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFnZSwgZWxSZWYsIHZpZXcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl9wYWdlRXZlbnRzJCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldyA9IHZpZXcgfHwgZWxSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIHdoaWxlICh2aWV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IHZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5QYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoISEoKF9hID0gdGhpcy5wYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNMb2FkZWQpKTtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0ZWRGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0ZWRUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGluZ0Zyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRpbmdUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGVkRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRlZFRvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGluZ0Zyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0aW5nVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5QYWdlJC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLl9wYWdlRXZlbnRzJC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBwYWdlRXZlbnQoZXZ0KSB7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkLm5leHQoZXZ0KTtcbiAgICAgICAgc3dpdGNoIChldnQuZXZlbnROYW1lKSB7XG4gICAgICAgICAgICBjYXNlICduYXZpZ2F0ZWRUbyc6XG4gICAgICAgICAgICAgICAgdGhpcy5faW5QYWdlJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmF2aWdhdGVkRnJvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy5faW5QYWdlJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9XG59XG5QYWdlU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlU2VydmljZSwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkxLlZpZXdCYXNlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuUGFnZVNlcnZpY2UuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkxLlZpZXdCYXNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5mdW5jdGlvbiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSh2KSB7XG4gICAgcmV0dXJuIHYucGFnZTtcbn1cbnJlZ2lzdGVyRWxlbWVudCgnRnJhbWVQYWdlJywgKCkgPT4gRnJhbWUsIHtcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgUGFnZSkge1xuICAgICAgICAgICAgZnJhbWVNZXRhLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudFsnX19uZ19wYWdlX18nXS5jb250ZW50ID0gY2hpbGQ7XG4gICAgfSxcbn0pO1xuY2xhc3MgRnJhbWVQYWdlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmFjdGlvbkJhckhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhZ2UgPSByZW5kZXJlci5jcmVhdGVFbGVtZW50KCdQYWdlJyk7XG4gICAgICAgIGVsZW1lbnQubmF0aXZlRWxlbWVudFsnX19uZ19wYWdlX18nXSA9IHRoaXMucGFnZTtcbiAgICAgICAgcmVuZGVyZXIuYXBwZW5kQ2hpbGQoZWxlbWVudC5uYXRpdmVFbGVtZW50LCB0aGlzLnBhZ2UpO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbiAmJiBjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbi5wcmV2aW91c1ZhbHVlICE9PSBjaGFuZ2VzLmFjdGlvbkJhckhpZGRlbi5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gISF0aGlzLmFjdGlvbkJhckhpZGRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSAhIXRoaXMuYWN0aW9uQmFySGlkZGVuO1xuICAgICAgICB9XG4gICAgfVxufVxuRnJhbWVQYWdlQ29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkZyYW1lUGFnZUNvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIHNlbGVjdG9yOiBcIkZyYW1lUGFnZVwiLCBpbnB1dHM6IHsgYWN0aW9uQmFySGlkZGVuOiBcImFjdGlvbkJhckhpZGRlblwiIH0sIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUsXG4gICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgfSxcbiAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0ZyYW1lUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGFjdGlvbkJhckhpZGRlbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5jbGFzcyBGcmFtZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbn1cbkZyYW1lRGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5GcmFtZURpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBGcmFtZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiRnJhbWVcIiwgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5LFxuICAgICAgICAgICAgZGVwczogW0ZyYW1lRGlyZWN0aXZlXSxcbiAgICAgICAgfSxcbiAgICBdLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0ZyYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tUGFnZUZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmNsYXNzIFBhZ2VEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG59XG5QYWdlRGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblBhZ2VEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogUGFnZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiUGFnZVwiLCBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5LFxuICAgICAgICAgICAgZGVwczogW1BhZ2VEaXJlY3RpdmVdLFxuICAgICAgICB9LFxuICAgICAgICBQYWdlU2VydmljZSxcbiAgICBdLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW1BhZ2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY2xhc3MgRnJhbWVQYWdlTW9kdWxlIHtcbn1cbkZyYW1lUGFnZU1vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuRnJhbWVQYWdlTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlY2xhcmF0aW9uczogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdLCBleHBvcnRzOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0gfSk7XG5GcmFtZVBhZ2VNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmZ1bmN0aW9uIGlzUHJlc2VudChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNCbGFuayhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0FjdGlvbkl0ZW0odmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgQWN0aW9uSXRlbTtcbn1cbmZ1bmN0aW9uIGlzTmF2aWdhdGlvbkJ1dHRvbih2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uQnV0dG9uO1xufVxuY29uc3QgYWN0aW9uQmFyTWV0YSA9IHtcbiAgICBza2lwQWRkVG9Eb206IHRydWUsXG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmIChpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYXZpZ2F0aW9uQnV0dG9uKGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPSBjaGlsZDtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBY3Rpb25JdGVtKGNoaWxkKSkge1xuICAgICAgICAgICAgYWRkQWN0aW9uSXRlbShwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50LnRpdGxlVmlldyA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hdmlnYXRpb25CdXR0b24oY2hpbGQpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBY3Rpb25JdGVtKGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50LmFjdGlvbkl0ZW1zLnJlbW92ZUl0ZW0oY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KGNoaWxkKSAmJiBwYXJlbnQudGl0bGVWaWV3ICYmIHBhcmVudC50aXRsZVZpZXcgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQudGl0bGVWaWV3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG59O1xucmVnaXN0ZXJFbGVtZW50KCdBY3Rpb25CYXInLCAoKSA9PiBBY3Rpb25CYXIsIGFjdGlvbkJhck1ldGEpO1xucmVnaXN0ZXJFbGVtZW50KCdBY3Rpb25JdGVtJywgKCkgPT4gQWN0aW9uSXRlbSk7XG5yZWdpc3RlckVsZW1lbnQoJ05hdmlnYXRpb25CdXR0b24nLCAoKSA9PiBOYXZpZ2F0aW9uQnV0dG9uKTtcbmNvbnN0IGFkZEFjdGlvbkl0ZW0gPSAoYmFyLCBpdGVtLCBuZXh0KSA9PiB7XG4gICAgaWYgKG5leHQpIHtcbiAgICAgICAgaW5zZXJ0QWN0aW9uSXRlbUJlZm9yZShiYXIsIGl0ZW0sIG5leHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXBwZW5kQWN0aW9uSXRlbShiYXIsIGl0ZW0pO1xuICAgIH1cbn07XG5jb25zdCBpbnNlcnRBY3Rpb25JdGVtQmVmb3JlID0gKGJhciwgaXRlbSwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbkl0ZW1zID0gYmFyLmFjdGlvbkl0ZW1zO1xuICAgIGNvbnN0IGFjdGlvbkl0ZW1zQ29sbGVjdGlvbiA9IGFjdGlvbkl0ZW1zLmdldEl0ZW1zKCk7XG4gICAgY29uc3QgaW5kZXhUb0luc2VydCA9IGFjdGlvbkl0ZW1zQ29sbGVjdGlvbi5pbmRleE9mKG5leHQpO1xuICAgIGFjdGlvbkl0ZW1zQ29sbGVjdGlvbi5zcGxpY2UoaW5kZXhUb0luc2VydCwgMCwgaXRlbSk7XG4gICAgYWN0aW9uSXRlbXMuc2V0SXRlbXMoYWN0aW9uSXRlbXNDb2xsZWN0aW9uKTtcbn07XG5jb25zdCBhcHBlbmRBY3Rpb25JdGVtID0gKGJhciwgaXRlbSkgPT4ge1xuICAgIGJhci5hY3Rpb25JdGVtcy5hZGRJdGVtKGl0ZW0pO1xufTtcbmNsYXNzIEFjdGlvbkJhckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcGFnZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAoIXRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBQYWdlIGZvdW5kIGluIEFjdGlvbkJhckNvbXBvbmVudC5cXG4nICsgJ09ubHkgYSBQYWdlIGNhbiBjb250YWluIGFuIEFjdGlvbkJhciwgc28gcGxlYXNlIGVuc3VyZSBBY3Rpb25CYXIgaXMgb25seSB1c2VkIGluc2lkZSBhIENvbXBvbmVudCB0aGF0IGlzIHJvdXRlZCB2aWEgcGFnZS1yb3V0ZXItb3V0bGV0IG9yIGlzIGNvbnRhaW5lZCBpbiBhIFBhZ2UuXFxuJyArICdFeGFtcGxlIGZvciByb290IGFjdGlvbiBiYXJzIGluIEFwcENvbXBvbmVudDogPEZyYW1lPjxQYWdlPjxBY3Rpb25CYXI+Li4uLjwvQWN0aW9uQmFyPjwvUGFnZT48L0ZyYW1lPicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4pKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhciA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLnVwZGF0ZSgpO1xuICAgIH1cbn1cbkFjdGlvbkJhckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkFjdGlvbkJhckNvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIHNlbGVjdG9yOiBcIkFjdGlvbkJhclwiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsIGlzSW5saW5lOiB0cnVlIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uQmFyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMS5QYWdlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuY2xhc3MgQWN0aW9uQmFyU2NvcGUge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5zaWRlIEFjdGlvbkJhckV4dGVuc2lvbiBidXQgbm8gQWN0aW9uQmFyIGZvdW5kIHRvIGV4dGVuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk5hdkJ1dHRvbkluaXQobmF2QnRuKSB7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9IG5hdkJ0bi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG9uTmF2QnV0dG9uRGVzdHJveShuYXZCdG4pIHtcbiAgICAgICAgY29uc3QgbmF2ID0gbmF2QnRuLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKG5hdiAmJiB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPT09IG5hdikge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGlvbkluaXQoaXRlbSkge1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICBvbkFjdGlvbkRlc3Ryb3koaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWN0aW9uQmFyKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLnJlbW92ZUl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuQWN0aW9uQmFyU2NvcGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5BY3Rpb25CYXJTY29wZS7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgc2VsZWN0b3I6IFwiQWN0aW9uQmFyRXh0ZW5zaW9uXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6ICcnLCBpc0lubGluZTogdHJ1ZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uQmFyRXh0ZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG5jbGFzcyBBY3Rpb25JdGVtRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvd25lclNjb3BlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3duZXJTY29wZSA9IG93bmVyU2NvcGU7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkluaXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkRlc3Ryb3kodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5BY3Rpb25JdGVtRGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IEFjdGlvbkJhclNjb3BlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5BY3Rpb25JdGVtRGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIHNlbGVjdG9yOiBcIkFjdGlvbkl0ZW1cIiwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkl0ZW0nLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcbmNsYXNzIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG93bmVyU2NvcGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vd25lclNjb3BlID0gb3duZXJTY29wZTtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uTmF2QnV0dG9uSW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uTmF2QnV0dG9uRGVzdHJveSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQWN0aW9uQmFyU2NvcGUsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiTmF2aWdhdGlvbkJ1dHRvblwiLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnTmF2aWdhdGlvbkJ1dHRvbicsIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHRvIGVuc3VyZSBhIE5nTW9kdWxlIGlzIG9ubHkgaW1wb3J0ZWQgb25jZSBpbiBhIGNvZGViYXNlLCBvdGhlcndpc2Ugd2lsbCB0aHJvdyB0byBoZWxwIHByZXZlbnQgYWNjaWRlbnRhbCBkb3VibGUgaW1wb3J0aW5nXG4gKiBAcGFyYW0gcGFyZW50TW9kdWxlIFBhcmVudCBtb2R1bGUgbmFtZVxuICogQHBhcmFtIG1vZHVsZU5hbWUgVGhlIG1vZHVsZSBuYW1lXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZBbHJlYWR5TG9hZGVkKHBhcmVudE1vZHVsZSwgbW9kdWxlTmFtZSkge1xuICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke21vZHVsZU5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJbXBvcnQgJHttb2R1bGVOYW1lfSBpbiB0aGUgQXBwTW9kdWxlIG9ubHkuYCk7XG4gICAgfVxufVxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB3aGljaCB3aWxsIG9ubHkgZmlyZSB0aGUgY2FsbGJhY2sgb25jZSBldmVyXG4gKiBAcGFyYW0gZm4gY2FsbGJhY2sgdG8gY2FsbCBvbmx5IG9uY2VcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICBsZXQgd2FzQ2FsbGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIGlmICh3YXNDYWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZCwgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAvLyBKUyBNYXAgYXJlIGl0ZXJhYmxlcyBidXQgcmV0dXJuIGVudHJpZXMgYXMgW2ssIHZdXG4gICAgICAgICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG8gPT09ICdvYmplY3QnKTtcbn1cblxuY29uc3QgTkdfVklFVyA9ICdfbmdWaWV3UmVmJztcbmNvbnN0IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RlbXBsYXRlZEl0ZW1zQ29tcG9uZW50Jyk7XG5jbGFzcyBJdGVtQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoJGltcGxpY2l0LCBpdGVtLCBpbmRleCwgZXZlbiwgb2RkKSB7XG4gICAgICAgIHRoaXMuJGltcGxpY2l0ID0gJGltcGxpY2l0O1xuICAgICAgICB0aGlzLml0ZW0gPSBpdGVtO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZXZlbiA9IGV2ZW47XG4gICAgICAgIHRoaXMub2RkID0gb2RkO1xuICAgIH1cbn1cbmNsYXNzIE5zVGVtcGxhdGVkSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIGxvY2F0aW9uLCBvbkNyZWF0ZSkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5vbkNyZWF0ZSA9IG9uQ3JlYXRlO1xuICAgIH1cbiAgICBjcmVhdGUoY29udGV4dCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5sb2NhdGlvbi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZSwgY29udGV4dCA/IHRoaXMuc2V0dXBJdGVtQ29udGV4dChjb250ZXh0KSA6IG5ldyBJdGVtQ29udGV4dCgpKTtcbiAgICAgICAgdmlld1JlZi5kZXRhY2goKTsgLy8gY3JlYXRlIGRldGFjaGVkLCBqdXN0IGJld2FyZSB0aGlzIGRvZXNuJ3QgYWx3YXlzIHdvcmsgYW5kIHRoZSB2aWV3IG1pZ2h0IHJ1biB0aGUgZmlyc3QgQ0QgYW55d2F5LlxuICAgICAgICBjb25zdCByZXN1bHRWaWV3ID0gZ2V0SXRlbVZpZXdSb290KHZpZXdSZWYpO1xuICAgICAgICByZXN1bHRWaWV3W05HX1ZJRVddID0gdmlld1JlZjtcbiAgICAgICAgaWYgKHRoaXMub25DcmVhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25DcmVhdGUocmVzdWx0Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFZpZXc7XG4gICAgfVxuICAgIHVwZGF0ZSh2aWV3LCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1Db250ZXh0KGNvbnRleHQsIHZpZXdSZWYpO1xuICAgICAgICB2aWV3UmVmID09PSBudWxsIHx8IHZpZXdSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZXdSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBhdHRhY2godmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWYgPT09IG51bGwgfHwgdmlld1JlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld1JlZi5yZWF0dGFjaCgpO1xuICAgICAgICB2aWV3UmVmID09PSBudWxsIHx8IHZpZXdSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZXdSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBkZXRhY2godmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWYgPT09IG51bGwgfHwgdmlld1JlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld1JlZi5kZXRhY2goKTtcbiAgICB9XG4gICAgZGlzcG9zZSh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZiA9PT0gbnVsbCB8fCB2aWV3UmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aWV3UmVmLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpIHtcbiAgICAgICAgbGV0IHZpZXdSZWYgPSB2aWV3W05HX1ZJRVddO1xuICAgICAgICAvLyBHZXR0aW5nIGFuZ3VsYXIgdmlldyBmcm9tIG9yaWdpbmFsIGVsZW1lbnQgKGluIGNhc2VzIHdoZW4gUHJveHlWaWV3Q29udGFpbmVyXG4gICAgICAgIC8vIGlzIHVzZWQgTmF0aXZlU2NyaXB0IGludGVybmFsbHkgd3JhcHMgaXQgaW4gYSBTdGFja0xheW91dClcbiAgICAgICAgaWYgKCF2aWV3UmVmICYmIHZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlICYmIHZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID4gMCkge1xuICAgICAgICAgICAgdmlld1JlZiA9IHZpZXcuZ2V0Q2hpbGRBdCgwKVtOR19WSUVXXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgaXNWYWxpZCh2aWV3KSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgIH1cbiAgICBzZXR1cEl0ZW1Db250ZXh0KHsgaW5kZXgsIGRhdGEgfSwgb2xkVmlldykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gb2xkVmlldyA/IG9sZFZpZXcuY29udGV4dCA6IG5ldyBJdGVtQ29udGV4dCgpO1xuICAgICAgICBjb250ZXh0LiRpbXBsaWNpdCA9IGRhdGE7XG4gICAgICAgIGNvbnRleHQuaXRlbSA9IGRhdGE7XG4gICAgICAgIGNvbnRleHQuaW5kZXggPSBpbmRleDtcbiAgICAgICAgY29udGV4dC5ldmVuID0gaW5kZXggJSAyID09PSAwO1xuICAgICAgICBjb250ZXh0Lm9kZCA9ICFjb250ZXh0LmV2ZW47XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbn1cbmNsYXNzIExpc3RWaWV3Q29tcG9uZW50IHtcbiAgICBnZXQgbmF0aXZlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3O1xuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICB9XG4gICAgc2V0IGl0ZW1zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gdmFsdWU7XG4gICAgICAgIGxldCBuZWVkRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JzZXJ2YWJsZUFycmF5KSB7XG4gICAgICAgICAgICBuZWVkRGlmZmVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lZWREaWZmZXIgJiYgIXRoaXMuX2RpZmZlciAmJiBpc0xpc3RMaWtlSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWZmZXIgPSB0aGlzLl9pdGVyYWJsZURpZmZlcnMuZmluZCh0aGlzLl9pdGVtcykuY3JlYXRlKChfaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3Lml0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgfVxuICAgIC8vIHRoaXMgZWxlbWVudFJlZiBpcyBvbmx5IGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnNcbiAgICBjb25zdHJ1Y3RvcihfZWxlbWVudFJlZikge1xuICAgICAgICB0aGlzLl9pdGVyYWJsZURpZmZlcnMgPSBpbmplY3QoSXRlcmFibGVEaWZmZXJzKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYgPSBpbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmID0gaW5qZWN0KEVsZW1lbnRSZWYpO1xuICAgICAgICAvLyBJIGJlbGlldmUgdGhpcyBvbmx5IGV4aXN0cyBzbyB0aGlzIGNhbiBiZSBpbmhlcml0ZWQgYW5kIHBlb3BsZSBjYW4gb3ZlcnJpZGUgaXQuXG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLl92aWV3VG9UZW1wbGF0ZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtVmlldyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKF9lbGVtZW50UmVmKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldyA9IF9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCdUZW1wbGF0ZWRJdGVtc1ZpZXcubmdBZnRlckNvbnRlbnRJbml0KCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEl0ZW1UZW1wbGF0ZXMoKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldEl0ZW1UZW1wbGF0ZXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gVGhlIGl0ZW1UZW1wbGF0ZVF1ZXJ5IG1heSBiZSBjaGFuZ2VkIGFmdGVyIGxpc3QgaXRlbXMgYXJlIGFkZGVkIHRoYXQgY29udGFpbiA8dGVtcGxhdGU+IGluc2lkZSxcbiAgICAgICAgLy8gc28gY2FjaGUgYW5kIHVzZSBvbmx5IHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0byBhdm9pZCBlcnJvcnMuXG4gICAgICAgIHRoaXMuZmFsbGJhY2tJdGVtVGVtcGxhdGUgPSB0aGlzLml0ZW1UZW1wbGF0ZVF1ZXJ5O1xuICAgICAgICBpZiAodGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSAmJiAhKChfYSA9IHRoaXMuX3RlbXBsYXRlTWFwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGFzKCdkZWZhdWx0JykpKSB7XG4gICAgICAgICAgICAvLyBhcHBhcmVudGx5IHlvdSBjYW4gY3JlYXRlIGEgQ29yZSBMaXN0VmlldyB3aXRob3V0IGEgdGVtcGxhdGUuLi5cbiAgICAgICAgICAgIC8vIHdlIGFsc28gYWRkIGEgZmFsbGJhY2sgZGVmYXVsdCBmb3Igd2hlbiB0aGUgdXNlciBzZXRzIG11bHRpcGxlIHRlbXBsYXRlcyBidXQgbm8gdGVtcGxhdGVTZWxlY3RvclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclRlbXBsYXRlKCdkZWZhdWx0JywgdGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICAvLyBzb21ldGltZXMgdGVtcGxhdGVzIGFyZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkZXIgaXMgcmVhZHksIHNvIHdlIHVwZGF0ZSBoZXJlXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5mb3JFYWNoKCh0KSA9PiAodC5sb2NhdGlvbiA9IHRoaXMubG9hZGVyKSk7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnU2V0dGluZyB0ZW1wbGF0ZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlldzogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5pdGVtVGVtcGxhdGVzID0gdGVtcGxhdGVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyVGVtcGxhdGUoa2V5LCB0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGByZWdpc3RlclRlbXBsYXRlIGZvciBrZXk6ICR7a2V5fSwgJHt0aGlzLmxvYWRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5zZXQoa2V5LCBuZXcgTnNUZW1wbGF0ZWRJdGVtKHRlbXBsYXRlLCB0aGlzLmxvYWRlciwgKHYpID0+IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLnNldCh2LCBrZXkpKSk7XG4gICAgfVxuICAgIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICBjb25zdCBsdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBjb25zdCBpdGVtcyA9IGx2aWV3Lml0ZW1zO1xuICAgICAgICBjb25zdCBjdXJyZW50SXRlbSA9ICdnZXRJdGVtJyBpbiBpdGVtcyAmJiB0eXBlb2YgaXRlbXMuZ2V0SXRlbSA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZW1zLmdldEl0ZW0oaW5kZXgpIDogaXRlbXNbaW5kZXhdO1xuICAgICAgICBsZXQgdGVtcGxhdGU7XG4gICAgICAgIGlmIChhcmdzLnZpZXcpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGBvbkl0ZW1Mb2FkaW5nOiAke2luZGV4fSAtIFJldXNpbmcgZXhpc3Rpbmcgdmlld2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlS2V5ID0gdGhpcy5fdmlld1RvVGVtcGxhdGUuZ2V0KGFyZ3Mudmlldyk7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5ICYmIGFyZ3MudmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgYXJncy52aWV3LmdldENoaWxkcmVuQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUtleSA9IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLmdldChhcmdzLnZpZXcuZ2V0Q2hpbGRBdCgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyB0ZW1wbGF0ZSB3YXMgbm90IGNyZWF0ZWQgYnkgdXNcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVmlld1JlZmVyZW5jZSBub3QgZm91bmQgZm9yIGl0ZW0gJHtpbmRleH0uIFZpZXcgcmVjeWNsaW5nIGlzIG5vdCB3b3JraW5nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIHRlbXBsYXRlLnVwZGF0ZShhcmdzLnZpZXcsIHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgbmV2ZXIgZW50ZXIgaWYgaXQgY3JlYXRlcyB0aGUgdmlld1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVLZXkgPSB0eXBlb2YgbHZpZXcuaXRlbVRlbXBsYXRlU2VsZWN0b3IgPT09ICdmdW5jdGlvbicgPyBsdmlldy5pdGVtVGVtcGxhdGVTZWxlY3RvcihjdXJyZW50SXRlbSwgaW5kZXgsIGl0ZW1zKSA6ICdkZWZhdWx0JztcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVGVtcGxhdGUgZm9yIGtleSAnJHt0ZW1wbGF0ZUtleX0nIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy52aWV3ID0gdGVtcGxhdGUuY3JlYXRlKHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBWaWV3UmVmKHRlbXBsYXRlLmdldEVtYmVkZGVkVmlld1JlZihhcmdzLnZpZXcpLCBjdXJyZW50SXRlbSwgaW5kZXgsIGFyZ3Mudmlldyk7XG4gICAgICAgIHRlbXBsYXRlLmF0dGFjaChhcmdzLnZpZXcpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIHNldHVwVmlld1JlZih2aWV3UmVmLCBkYXRhLCBpbmRleCwgbmF0aXZlRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdmlld1JlZi5jb250ZXh0O1xuICAgICAgICB0aGlzLnNldHVwSXRlbVZpZXcubmV4dCh7IHZpZXc6IHZpZXdSZWYsIG5hdGl2ZUVsZW1lbnQsIGRhdGE6IGRhdGEsIGluZGV4OiBpbmRleCwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICB9XG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlmZmVyKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnbmdEb0NoZWNrKCkgLSBleGVjdXRlIGRpZmZlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCduZ0RvQ2hlY2soKSAtIHJlZnJlc2gnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuTGlzdFZpZXdDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkxpc3RWaWV3Q29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IExpc3RWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJMaXN0Vmlld1wiLCBpbnB1dHM6IHsgaXRlbXM6IFwiaXRlbXNcIiB9LCBvdXRwdXRzOiB7IHNldHVwSXRlbVZpZXc6IFwic2V0dXBJdGVtVmlld1wiIH0sIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiaXRlbUxvYWRpbmdcIjogXCJvbkl0ZW1Mb2FkaW5nKCRldmVudClcIiB9IH0sIHByb3ZpZGVyczogW3sgcHJvdmlkZTogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTGlzdFZpZXdDb21wb25lbnQpIH1dLCBxdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwiaXRlbVRlbXBsYXRlUXVlcnlcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogVGVtcGxhdGVSZWYsIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBUZW1wbGF0ZVJlZiB9XSwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJsb2FkZXJcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogW1wibG9hZGVyXCJdLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPERldGFjaGVkQ29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgI2xvYWRlcj48L25nLWNvbnRhaW5lcj5cbiAgPC9EZXRhY2hlZENvbnRhaW5lcj5gLCBpc0lubGluZTogdHJ1ZSwgY2hhbmdlRGV0ZWN0aW9uOiBpMC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggfSk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTGlzdFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcIm9uSXRlbUxvYWRpbmdcIiwgbnVsbCk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0xpc3RWaWV3JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8RGV0YWNoZWRDb250YWluZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjbG9hZGVyPjwvbmctY29udGFpbmVyPlxuICA8L0RldGFjaGVkQ29udGFpbmVyPmAsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IExpc3RWaWV3Q29tcG9uZW50KSB9XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGxvYWRlcjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogWydsb2FkZXInLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XVxuICAgICAgICAgICAgfV0sIHNldHVwSXRlbVZpZXc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgaXRlbVRlbXBsYXRlUXVlcnk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogQ29udGVudENoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtUZW1wbGF0ZVJlZiwgeyByZWFkOiBUZW1wbGF0ZVJlZiwgc3RhdGljOiBmYWxzZSB9XVxuICAgICAgICAgICAgfV0sIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb25JdGVtTG9hZGluZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgYXJnczogWydpdGVtTG9hZGluZycsIFsnJGV2ZW50J11dXG4gICAgICAgICAgICB9XSB9IH0pO1xuZnVuY3Rpb24gZ2V0SXRlbVZpZXdSb290KHZpZXdSZWYsIHJvb3RMb2NhdG9yID0gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUpIHtcbiAgICBjb25zdCByb290VmlldyA9IHJvb3RMb2NhdG9yKHZpZXdSZWYucm9vdE5vZGVzLCAwKTtcbiAgICByZXR1cm4gcm9vdFZpZXc7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuY2xhc3MgVGVtcGxhdGVLZXlEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlUmVmLCBjb21wKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZVJlZjtcbiAgICAgICAgdGhpcy5jb21wID0gY29tcDtcbiAgICB9XG4gICAgc2V0IG5zVGVtcGxhdGVLZXkodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcCAmJiB0aGlzLnRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXAucmVnaXN0ZXJUZW1wbGF0ZSh2YWx1ZSwgdGhpcy50ZW1wbGF0ZVJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IG5zVGVtcGxhdGVLZXlzKHZhbHVlcykge1xuICAgICAgICAvLyBzaW5nbGUgdGVtcGxhdGUgd2l0aCBtdWx0aXBsZSBrZXlzXG4gICAgICAgIGlmICh0aGlzLmNvbXAgJiYgdGhpcy50ZW1wbGF0ZVJlZiAmJiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4gdGhpcy5jb21wLnJlZ2lzdGVyVGVtcGxhdGUodmFsdWUsIHRoaXMudGVtcGxhdGVSZWYpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblRlbXBsYXRlS2V5RGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuVGVtcGxhdGVSZWYgfSwgeyB0b2tlbjogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgaG9zdDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5UZW1wbGF0ZUtleURpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW25zVGVtcGxhdGVLZXldLFtuc1RlbXBsYXRlS2V5c11cIiwgaW5wdXRzOiB7IG5zVGVtcGxhdGVLZXk6IFwibnNUZW1wbGF0ZUtleVwiLCBuc1RlbXBsYXRlS2V5czogXCJuc1RlbXBsYXRlS2V5c1wiIH0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25zVGVtcGxhdGVLZXldLFtuc1RlbXBsYXRlS2V5c10nIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBIb3N0XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtURU1QTEFURURfSVRFTVNfQ09NUE9ORU5UXVxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9LCBwcm9wRGVjb3JhdG9yczogeyBuc1RlbXBsYXRlS2V5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbnNUZW1wbGF0ZUtleXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIE91dGxldCB7XG4gICAgZ2V0IGlzUGFnZU5hdmlnYXRpb25CYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLnNpemUgPiAwO1xuICAgIH1cbiAgICBzZXQgaXNQYWdlTmF2aWdhdGlvbkJhY2soaXNCYWNrKSB7XG4gICAgICAgIGlmICghaXNCYWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmRlbGV0ZSh0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMub3V0bGV0S2V5cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvdXRsZXRLZXksIHBhdGgsIHBhdGhCeU91dGxldHMsIG1vZGFsTmF2aWdhdGlvbkRlcHRoKSB7XG4gICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLy8gTW9yZSB0aGFuIG9uZSBmcmFtZSBhdmFpbGFibGUgd2hlbiB1c2luZyBOU0VtcHR5T3V0bGV0Q29tcG9uZW50IGNvbXBvbmVudFxuICAgICAgICAvLyBpbiBtb2R1bGUgdGhhdCBsYXp5IGxvYWRzIGNoaWxkcmVuIChsb2FkQ2hpbGRyZW4pIGFuZCBoYXMgb3V0bGV0IG5hbWUuXG4gICAgICAgIHRoaXMuZnJhbWVzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGVzID0gW107XG4gICAgICAgIC8vIFVzZWQgaW4gcmV1c2Utc3RyYXRlZ3kgYnkgaXRzIGNoaWxkcmVuIHRvIGRldGVybWluZSBpZiB0aGV5IHNob3VsZCBiZSBkZXRhY2hlZCB0b28uXG4gICAgICAgIHRoaXMuc2hvdWxkRGV0YWNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vdXRsZXRLZXlzID0gW291dGxldEtleV07XG4gICAgICAgIHRoaXMuaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93aW5nTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb2RhbE5hdmlnYXRpb25EZXB0aCA9IG1vZGFsTmF2aWdhdGlvbkRlcHRoIHx8IDA7XG4gICAgICAgIHRoaXMucGF0aEJ5T3V0bGV0cyA9IHBhdGhCeU91dGxldHM7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxuICAgIHNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrKGtleSkge1xuICAgICAgICBjb25zdCBuZXN0cyA9IGtleS5zcGxpdCgnLycpO1xuICAgICAgICB0aGlzLm91dGxldEtleXNcbiAgICAgICAgICAgIC5maWx0ZXIoKGspID0+IGsuc3BsaXQoJy8nKS5sZW5ndGggPj0gbmVzdHMubGVuZ3RoKVxuICAgICAgICAgICAgLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5hZGQoayk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb250YWluc0ZyYW1lKGZyYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lcy5pbmRleE9mKGZyYW1lKSA+IC0xO1xuICAgIH1cbiAgICBwZWVrU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbdGhpcy5zdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnRhaW5zVG9wU3RhdGUoc3RhdGVVcmwpIHtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5wZWVrU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGxhc3RTdGF0ZSAmJiBsYXN0U3RhdGUuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCkgPT09IHN0YXRlVXJsO1xuICAgIH1cbiAgICAvLyBTZWFyY2ggZm9yIGZyYW1lIHRoYXQgY2FuIGdvIGJhY2suXG4gICAgLy8gTmVzdGVkICdwcmltYXJ5JyBvdXRsZXRzIGNvdWxkIHJlc3VsdCBpbiBPdXRsZXQgd2l0aCBtdWx0aXBsZSBuYXZpZ2F0YWJsZSBmcmFtZXMuXG4gICAgZ2V0RnJhbWVUb0JhY2soKSB7XG4gICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWVzW3RoaXMuZnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIXRoaXMuaXNOU0VtcHR5T3V0bGV0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMuZnJhbWVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RnJhbWUgPSB0aGlzLmZyYW1lc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGcmFtZS5jYW5Hb0JhY2soKSkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0TmF2T3B0aW9ucyA9IHtcbiAgICBjbGVhckhpc3Rvcnk6IGZhbHNlLFxuICAgIGFuaW1hdGVkOiB0cnVlLFxufTtcblxuY2xhc3MgRnJhbWVTZXJ2aWNlIHtcbiAgICAvLyBUT0RPOiBBZGQgYW55IG1ldGhvZHMgdGhhdCBhcmUgbmVlZGVkIHRvIGhhbmRsZSBmcmFtZS9wYWdlIG5hdmlnYXRpb25cbiAgICBnZXRGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIEZyYW1lLnRvcG1vc3QoKTtcbiAgICB9XG59XG5GcmFtZVNlcnZpY2UuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVTZXJ2aWNlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuRnJhbWVTZXJ2aWNlLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBOU0xvY2F0aW9uU3RyYXRlZ3kgZXh0ZW5kcyBMb2NhdGlvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZSA9IGZyYW1lU2VydmljZTtcbiAgICAgICAgdGhpcy5zdGFydFBhdGggPSBzdGFydFBhdGg7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID0gMDtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5jb25zdHJ1Y3RvcigpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgIH1cbiAgICBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFVybFRyZWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UGF0aCB8fCAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmN1cnJlbnRVcmxUcmVlO1xuICAgICAgICBjb25zdCBjaGFuZ2VkT3V0bGV0ID0gdGhpcy5nZXRTZWdtZW50R3JvdXBCeU91dGxldCh0aGlzLmN1cnJlbnRPdXRsZXQpO1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkZWNsYXJlcyBhIGNvbXBvbmVudCBhdCBwYXRoIFwiL1wiLlxuICAgICAgICAvLyBUaGUgdXJsIHNlcmlhbGl6ZXIgZG9lc24ndCBwYXJzZSB0aGlzIHVybCBhcyBoYXZpbmcgYSBwcmltYXJ5IG91dGxldC5cbiAgICAgICAgaWYgKHN0YXRlLmlzUm9vdFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgdHJlZS5yb290ID0gc3RhdGUuc2VnbWVudEdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIHRyZWUucXVlcnlQYXJhbXMgPSBzdGF0ZS5xdWVyeVBhcmFtcztcbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodHJlZSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucGF0aCgpOiAnICsgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBwcmVwYXJlRXh0ZXJuYWxVcmwoaW50ZXJuYWwpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwoKSBpbnRlcm5hbDogJyArIGludGVybmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50ZXJuYWw7XG4gICAgfVxuICAgIHB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wdXNoU3RhdGUgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKTtcbiAgICB9XG4gICAgcHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRVcmxUcmVlID0gdXJsU2VyaWFsaXplci5wYXJzZSh1cmwpO1xuICAgICAgICBjb25zdCB1cmxUcmVlUm9vdCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgZGVjbGFyZXMgYSBjb21wb25lbnQgYXQgcGF0aCBcIi9cIi5cbiAgICAgICAgLy8gVGhlIHVybCBzZXJpYWxpemVyIGRvZXNuJ3QgcGFyc2UgdGhpcyB1cmwgYXMgaGF2aW5nIGEgcHJpbWFyeSBvdXRsZXQuXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModXJsVHJlZVJvb3QuY2hpbGRyZW4pLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudEdyb3VwID0gdGhpcy5jdXJyZW50VXJsVHJlZSAmJiB0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3Q7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleSh0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKHNlZ21lbnRHcm91cCksICdwcmltYXJ5Jyk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQgJiYgdGhpcy51cGRhdGVTdGF0ZXMob3V0bGV0LCBzZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICBjb25zdCByb290T3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQoJ3ByaW1hcnknLCBudWxsLCBzZWdtZW50R3JvdXAsIG51bGwsIG51bGwsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHJvb3RPdXRsZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCkuaXNSb290U2VnbWVudEdyb3VwID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudFRyZWUgPSB1cmxUcmVlUm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VHJlZS5jaGlsZHJlbikuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50R3JvdXAgPSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudEdyb3VwLm91dGxldCA9IG91dGxldE5hbWU7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnRHcm91cC5yb290ID0gdXJsVHJlZVJvb3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0UGF0aCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoY3VycmVudFRyZWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KG91dGxldFBhdGgsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXROYW1lID0gY3VycmVudFRyZWUub3V0bGV0IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldFBhdGggPSB0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKGN1cnJlbnRUcmVlLnBhcmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkocGFyZW50T3V0bGV0UGF0aCwgcGFyZW50T3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbnNMYXN0U3RhdGUgPSBvdXRsZXQgJiYgb3V0bGV0LmNvbnRhaW5zVG9wU3RhdGUoY3VycmVudFNlZ21lbnRHcm91cC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIG91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgY3VycmVudFNlZ21lbnRHcm91cCwgcGFyZW50T3V0bGV0LCB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwICYmIG91dGxldC5zaG93aW5nTW9kYWwgJiYgIWNvbnRhaW5zTGFzdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRpb24gaW5zaWRlIG1vZGFsIHZpZXcuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBzZXJ0TW9kYWxPdXRsZXQob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLCByZXBsYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dGxldC5wYXJlbnQgPSBwYXJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjdXJyZW50U2VnbWVudEdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0ICYmIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXM7XG4gICAgICAgIGlmIChzdGF0ZXMgJiYgc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZSBjaGFuZ2luZyBleGlzdGluZyBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUgcHVzaGluZyBuZXcgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTlNMb2NhdGlvblN0cmF0ZWd5LmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKG91dGxldCwgZnJhbWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcztcbiAgICAgICAgICAgIC8vIFdlIGFyZSBuYXZpZ2F0aW5nIHRvIHRoZSBwcmV2aW91cyBwYWdlXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgc3RhY2sgdW50aWwgd2UgZ2V0IHRvIGEgcGFnZSBuYXZpZ2F0aW9uIHN0YXRlXG4gICAgICAgICAgICBsZXQgc3RhdGUgPSBzdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlLmZyYW1lICYmIHN0YXRlLmZyYW1lICE9PSBmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoIXN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5hdmlnYXRpbmcgYmFjay4gU3RhdGVzIHBvcHBlZDogJHtjb3VudH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHN0YXRlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdhcyBhIHBhZ2UgbmF2aWdhdGlvbiAtIHNvIG5hdmlnYXRlIHRocm91Z2ggZnJhbWUuXG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmJhY2soKSB3aGlsZSBub3QgbmF2aWdhdGluZyBiYWNrIGJ1dCB0b3AnICsgJyBzdGF0ZSBpcyBwYWdlIC0gd2lsbCBjYWxsIGZyYW1lLmdvQmFjaygpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcG1vc3RGcmFtZSA9IHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZSh0b3Btb3N0RnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVUb0JhY2sgPSB0aGlzLmN1cnJlbnRPdXRsZXQuZ2V0RnJhbWVUb0JhY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVUb0JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUb0JhY2suZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVzdGVkIG5hdmlnYXRpb24gLSBqdXN0IHBvcCB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5vdCBuYXZpZ2F0aW5nIGJhY2sgYnV0IHRvcCcgKyAnIHN0YXRlIGlzIG5vdCBwYWdlIC0ganVzdCBwb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUodGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcy5wb3AoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuR29CYWNrKG91dGxldCkge1xuICAgICAgICBvdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICByZXR1cm4gb3V0bGV0LnN0YXRlcy5sZW5ndGggPiAxO1xuICAgIH1cbiAgICBvblBvcFN0YXRlKGZuKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kub25Qb3BTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9wU3RhdGVDYWxsYmFja3MucHVzaChmbik7XG4gICAgfVxuICAgIGdldEJhc2VIcmVmKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmdldEJhc2VIcmVmKCknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNhbGxQb3BTdGF0ZShzdGF0ZSwgcG9wID0gdHJ1ZSwgb3V0bGV0KSB7XG4gICAgICAgIG91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZE91dGxldCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KTtcbiAgICAgICAgaWYgKHN0YXRlICYmIGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VkT3V0bGV0KSB7XG4gICAgICAgICAgICAvLyB3aGVuIGNsb3NpbmcgbW9kYWwgdmlldyB0aGVyZSBhcmUgc2NlbmFyaW9zIChlLmcuIHJvb3Qgdmlld0NvbnRhaW5lclJlZikgd2hlbiB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBjbGVhbiB1cCB0aGUgbmFtZWQgcGFnZSByb3V0ZXIgb3V0bGV0IHRvIG1ha2Ugc3VyZSB3ZSB3aWxsIG9wZW4gdGhlIG1vZGFsIHByb3Blcmx5IGFnYWluIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodGhpcy5jdXJyZW50VXJsVHJlZSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IHsgc3RhdGUsIHR5cGU6ICdwb3BzdGF0ZScgfTtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBmbihjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIHRoaXMub3V0bGV0cy5mb3JFYWNoKChvdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFN0YXRlcyA9IG91dGxldC5zdGF0ZXM7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRMb2cgPSBvdXRsZXRTdGF0ZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgLm1hcCgodiwgaSkgPT4gYCR7b3V0bGV0Lm91dGxldEtleXN9LiR7aX0uWyR7di5pc1BhZ2VOYXZpZ2F0aW9uID8gJ1BBR0UnIDogJ0lOVEVSTkFMJ31dLlske291dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA/ICdNT0RBTCcgOiAnQkFTRSd9XSBcIiR7di5zZWdtZW50R3JvdXAudG9TdHJpbmcoKX1cImApXG4gICAgICAgICAgICAgICAgLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQob3V0bGV0TG9nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG4gICAgfVxuICAgIC8vIE1ldGhvZHMgZm9yIHN5bmNpbmcgd2l0aCBwYWdlIG5hdmlnYXRpb24gaW4gUGFnZVJvdXRlck91dGxldFxuICAgIF9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbihmcmFtZSwgb3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSk7XG4gICAgICAgIGlmICghb3V0bGV0IHx8IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2suJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5zdGFydEdvQmFjaygpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LnNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrKG91dGxldEtleSk7XG4gICAgICAgIC8vIG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IHRydWU7XG4gICAgICAgIC8vIHdlIGZpbmQgYWxsIHRoZSBjaGlsZHJlbiBhbmQgYWxzbyBzZXQgdGhlaXIgaXNQYWdlTmF2aWdhdGlvbkJhY2tcbiAgICAgICAgdGhpcy5vdXRsZXRzXG4gICAgICAgICAgICAuZmlsdGVyKChvKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gby5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goKG8pID0+IChvLmlzUGFnZU5hdmlnYXRpb25CYWNrID0gdHJ1ZSkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIF9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24oZnJhbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKTtcbiAgICAgICAgaWYgKCFvdXRsZXQgfHwgIW91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIGVuZEdvQmFjayB3aGlsZSBub3QgZ29pbmcgYmFjay4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrID0gZmFsc2U7XG4gICAgfVxuICAgIF9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbk1vZGFsTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgZnJhbWUsIGJ1dCBub3QgY29ycmVzcG9uZGluZyBPdXRsZXQsIGlmXG4gICAgICAgIC8vIHNob3dpbmcgbW9kYWwgZGlhbG9nIG9uIGFwcC5jb21wb25lbnQudHMgbmdPbkluaXQoKSBlLmcuIEluIHRoYXQgY2FzZVxuICAgICAgICAvLyB0aGUgbW9kYWwgaXMgdHJlYXRlZCBhcyBub25lIG1vZGFsIG5hdmlnYXRpb24uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zaG93aW5nTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvc2VNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuY2xvc2VNb2RhbE5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU2hvd2luZ01vZGFsID0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwO1xuICAgICAgICBpZiAoaXNTaG93aW5nTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudE91dGxldCBzaG91bGQgYmUgdGhlIG9uZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB0b3Btb3N0IGZyYW1lXG4gICAgICAgIGNvbnN0IHRvcG1vc3RPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUodGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKSk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIGlzU2hvd2luZ01vZGFsKSB8fCB0b3Btb3N0T3V0bGV0O1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQuc2hvd2luZ01vZGFsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZSh0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgYW5ndWxhciBkb2VzIGEgc2V0VGltZW91dCBvbiBvblBvcFN0YXRlLCBzbyBpZiB3ZSBkb24ndCBkbyB0aGlzIHdlIG1pZ2h0IGVuZCB1cCB3aXRoIGluY29uc2lzdGVudCBzdGF0ZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYmVnaW5QYWdlTmF2aWdhdGlvbihmcmFtZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAobGFzdFN0YXRlKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuaXNQYWdlTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2T3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdE5hdk9wdGlvbnM7XG4gICAgICAgIGlmIChuYXZPcHRpb25zLmNsZWFySGlzdG9yeSkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24gY2xlYXJpbmcgc3RhdGVzIGhpc3RvcnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXMgPSBbbGFzdFN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF2T3B0aW9ucztcbiAgICB9XG4gICAgX2dldE91dGxldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHM7XG4gICAgfVxuICAgIHVwZGF0ZU91dGxldEZyYW1lKG91dGxldCwgZnJhbWUsIGlzRW1wdHlPdXRsZXRGcmFtZSkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBvdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmIChsYXN0U3RhdGUgJiYgIWxhc3RTdGF0ZS5mcmFtZSAmJiAhaXNFbXB0eU91dGxldEZyYW1lKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgb3V0bGV0LmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIGNsZWFyT3V0bGV0KGZyYW1lKSB7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IHRoaXMub3V0bGV0cy5maWx0ZXIoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0VxdWFsVG9DdXJyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldCkge1xuICAgICAgICAgICAgICAgIGlzRXF1YWxUb0N1cnJlbnQgPSBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHRoaXMuY3VycmVudE91dGxldC5wYXRoQnlPdXRsZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG91dGxldCBmcm9tIHRoZSB1cmwgdHJlZS5cbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpICYmICFpc0VxdWFsVG9DdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUobnVsbCwgdHJ1ZSwgY3VycmVudE91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTa2lwIGZyYW1lcyBmaWx0ZXJpbmcgc2luY2UgY3VycmVudE91dGxldCBpcyA8cm91dGVyLW91dGxldD4gd2hlbiBubyBmcmFtZXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuZnJhbWVzLmxlbmd0aCAmJiAhY3VycmVudE91dGxldC5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50T3V0bGV0LmZyYW1lcyA9IGN1cnJlbnRPdXRsZXQuZnJhbWVzLmZpbHRlcigoY3VycmVudEZyYW1lKSA9PiBjdXJyZW50RnJhbWUgIT09IGZyYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE91dGxldC5mcmFtZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBmdWxsUGF0aCA9ICcnO1xuICAgICAgICB3aGlsZSAoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBzZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChmdWxsUGF0aCkge1xuICAgICAgICAgICAgICAgIGZ1bGxQYXRoID0gKHVybCA/IHVybCArICcvJyA6ICcnKSArIGZ1bGxQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBzZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aDtcbiAgICB9XG4gICAgZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IGN1cnJlbnRSb3V0ZS5vdXRsZXQ7XG4gICAgICAgIGxldCBmdWxsUGF0aDtcbiAgICAgICAgY3VycmVudFJvdXRlID0gY3VycmVudFJvdXRlLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY29uc3QgdXJscyA9IGN1cnJlbnRSb3V0ZS51cmwudmFsdWUgfHwgY3VycmVudFJvdXRlLnVybDtcbiAgICAgICAgICAgIGxldCB1cmwgPSB1cmxzO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJscykpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuam9pbignLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVsbFBhdGggPSBmdWxsUGF0aCA/ICh1cmwgPyB1cmwgKyAnLycgOiB1cmwpICsgZnVsbFBhdGggOiB1cmw7XG4gICAgICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aCA/IGZ1bGxQYXRoICsgJy0nICsgb3V0bGV0TmFtZSA6IG91dGxldE5hbWU7XG4gICAgfVxuICAgIGdldFBhdGhCeU91dGxldHModXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGlmICghdXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgbGV0IGxhc3RQYXRoID0gdXJsU2VnbWVudEdyb3VwLm91dGxldCB8fCAncHJpbWFyeSc7XG4gICAgICAgIGxldCBwYXJlbnQgPSB1cmxTZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHVybFNlZ21lbnRHcm91cC5yb290ICE9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50Lm91dGxldCAhPT0gbGFzdFBhdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhdGggPT09ICdwcmltYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhUb091dGxldCA9IGxhc3RQYXRoICsgJy0nICsgKHBhdGhUb091dGxldCB8fCB1cmxTZWdtZW50R3JvdXAub3V0bGV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoVG9PdXRsZXQgfHwgbGFzdFBhdGg7XG4gICAgfVxuICAgIGZpbmRPdXRsZXQob3V0bGV0S2V5LCBhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLm91dGxldHMuZmluZCgoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxNb2RhbERlcHRoICYmIGN1cnJlbnRPdXRsZXQub3V0bGV0S2V5cy5pbmRleE9mKG91dGxldEtleSkgPiAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vIE91dGxldCB3aXRoIHRoZSBnaXZlbiBvdXRsZXRLZXkgY291bGQgaGFwcGVuIHdoZW4gdXNpbmcgbmVzdGVkIHVubmFtZWQgcC1yLW9cbiAgICAgICAgLy8gcHJpbWFyeSAtPiBwcmltYXJ5IC0+IHByeW1hcnlcbiAgICAgICAgaWYgKCFvdXRsZXQgJiYgYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICAgICAgY29uc3QgcGF0aEJ5T3V0bGV0cyA9IHRoaXMuZ2V0UGF0aEJ5T3V0bGV0cyhhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMub3V0bGV0cy5maW5kKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFsTW9kYWxEZXB0aCAmJiBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHBhdGhCeU91dGxldHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBmaW5kT3V0bGV0QnlNb2RhbChtb2RhbE5hdmlnYXRpb24sIGlzU2hvd2luZ01vZGFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuZmluZCgob3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBvdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IG1vZGFsTmF2aWdhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBpc1Nob3dpbmdNb2RhbCA/IGVxdWFsTW9kYWxEZXB0aCAmJiBvdXRsZXQuc2hvd2luZ01vZGFsIDogZXF1YWxNb2RhbERlcHRoO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkge1xuICAgICAgICBsZXQgb3V0bGV0O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5vdXRsZXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE91dGxldCA9IHRoaXMub3V0bGV0c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgICAgIG91dGxldCA9IGN1cnJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBpc05ld1BhZ2UgPSBvdXRsZXQuc3RhdGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gb3V0bGV0LnN0YXRlc1tvdXRsZXQuc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBlcXVhbFN0YXRlVXJscyA9IG91dGxldC5jb250YWluc1RvcFN0YXRlKGN1cnJlbnRTZWdtZW50R3JvdXAudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IGN1cnJlbnRTZWdtZW50R3JvdXAsXG4gICAgICAgICAgICBpc1Jvb3RTZWdtZW50R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgaXNQYWdlTmF2aWdhdGlvbjogaXNOZXdQYWdlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5UGFyYW1zKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFsYXN0U3RhdGUgfHwgIWVxdWFsU3RhdGVVcmxzKSB7XG4gICAgICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgICAgIG91dGxldC5zdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXQuc3RhdGVzLnB1c2gobG9jYXRpb25TdGF0ZSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbGFzdCBzdGF0ZSBzZWdtZW50R3JvdXAgb2YgcGFyZW50IE91dGxldC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhb3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFyZW50c1N0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBlcXVhbFN0YXRlVXJscykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBxdWVyeSBwYXJhbXMgZm9yIGxhc3Qgc3RhdGVcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGUucXVlcnlQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1cGRhdGVQYXJlbnRzU3RhdGVzKG91dGxldCwgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBwYXJlbnRPdXRsZXQgPSBvdXRsZXQucGFyZW50O1xuICAgICAgICAvLyBVcGRhdGUgcGFyZW50cyBsYXN0U3RhdGUgc2VnbWVudEdyb3Vwc1xuICAgICAgICB3aGlsZSAocGFyZW50T3V0bGV0ICYmIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZWdtZW50R3JvdXAgPSBuZXdTZWdtZW50R3JvdXA7XG4gICAgICAgICAgICAgICAgbmV3U2VnbWVudEdyb3VwID0gbmV3U2VnbWVudEdyb3VwLnBhcmVudDtcbiAgICAgICAgICAgICAgICBwYXJlbnRPdXRsZXQgPSBwYXJlbnRPdXRsZXQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBjcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBwYXRoLCBzZWdtZW50R3JvdXAsIHBhcmVudCwgbW9kYWxOYXZpZ2F0aW9uLCBxdWVyeVBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBhdGhCeU91dGxldHMgPSB0aGlzLmdldFBhdGhCeU91dGxldHMoc2VnbWVudEdyb3VwKTtcbiAgICAgICAgY29uc3QgbmV3T3V0bGV0ID0gbmV3IE91dGxldChvdXRsZXRLZXksIHBhdGgsIHBhdGhCeU91dGxldHMsIG1vZGFsTmF2aWdhdGlvbik7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IHNlZ21lbnRHcm91cCxcbiAgICAgICAgICAgIGlzUm9vdFNlZ21lbnRHcm91cDogZmFsc2UsXG4gICAgICAgICAgICBpc1BhZ2VOYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5UGFyYW1zKSxcbiAgICAgICAgfTtcbiAgICAgICAgbmV3T3V0bGV0LnN0YXRlcyA9IFtsb2NhdGlvblN0YXRlXTtcbiAgICAgICAgbmV3T3V0bGV0LnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vdXRsZXRzLnB1c2gobmV3T3V0bGV0KTtcbiAgICAgICAgLy8gVXBkYXRlIGxhc3Qgc3RhdGUgc2VnbWVudEdyb3VwIG9mIHBhcmVudCBPdXRsZXQuXG4gICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhbmV3T3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzU3RhdGVzKG5ld091dGxldCwgc2VnbWVudEdyb3VwLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld091dGxldDtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhMaXN0ID0gb3V0bGV0LnBhdGhCeU91dGxldHMuc3BsaXQoJy0nKTtcbiAgICAgICAgbGV0IHNlZ21lbnRHcm91cCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdGhMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSBwYXRoTGlzdFtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gT2JqZWN0LmtleXMoc2VnbWVudEdyb3VwLmNoaWxkcmVuKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCAmJiBzZWdtZW50R3JvdXAuY2hpbGRyZW5bY3VycmVudFBhdGhdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcGF0aFRvT3V0bGV0ID0gcGF0aFRvT3V0bGV0ID8gcGF0aFRvT3V0bGV0ICsgJy8nICsgdXJsIDogdXJsO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IHNlZ21lbnRHcm91cC5jaGlsZHJlbltjdXJyZW50UGF0aF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBjaGlsZCBvdXRsZXQgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZSAtIGZvcmdldCBhYm91dCBhbGwgcHJldmlvdXNseSBmb3VuZCBvdXRsZXRzLlxuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGU6IHNlYWNoaW5nIGZvciAncHJpbWFyeS1zZWNvbmQtcHJpbWFyeScgc2hvdWxkbid0IHJldHVybiAncHJpbWFyeS1zZWNvbmQnXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gJ3ByaW1hcnknIGNoaWxkIGF2YWlsYWJsZSBvbiAnc2Vjb25kJy5cbiAgICAgICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhdGhzIHNob3VsZCBhbHNvIG1hdGNoIHNpbmNlIHRoZXJlIGNvdWxkIGJlIGFub3RoZXIgT3V0bGV0XG4gICAgICAgIC8vIHdpdGggdGhlIHNhbWUgcGF0aEJ5T3V0bGV0cyBidXQgZGlmZmVyZW50IHVybCBwYXRoLlxuICAgICAgICBpZiAoc2VnbWVudEdyb3VwICYmIG91dGxldC5wYXRoICYmIHBhdGhUb091dGxldCAmJiBvdXRsZXQucGF0aCAhPT0gcGF0aFRvT3V0bGV0KSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWdtZW50R3JvdXA7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNhbCBhbmQgcmVwbGFjZW1lbnQgb2Ygc2VnbWVudEdyb3VwLlxuICAgIHVwZGF0ZVNlZ21lbnRHcm91cChyb290Tm9kZSwgb2xkU2VnbWVudEdyb3VwLCBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRUcmVlID0gcm9vdE5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50VHJlZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY3VycmVudFRyZWUuY2hpbGRyZW4pLmZvckVhY2goKG91dGxldE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0gPT09IG9sZFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSA9IG5ld1NlZ21lbnRHcm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwc2VydE1vZGFsT3V0bGV0KHBhcmVudE91dGxldCwgc2VnbWVudGVkR3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgpO1xuICAgICAgICAvLyBXZSB3YW50IHRvIHRyZWF0IGV2ZXJ5IHAtci1vIGFzIGEgc3RhbmRhbG9uZSBPdXRsZXQuXG4gICAgICAgIGlmICghY3VycmVudE1vZGFsT3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBPdXRsZXQgc2hvdWxkIGJlIHRoZSBwcmV2aW91cyBvcGVuZWQgbW9kYWwgKGlmIGFueSkuXG4gICAgICAgICAgICAgICAgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8gY3VycmVudE1vZGFsT3V0bGV0IGF2YWlsYWJsZSB3aGVuIG9wZW5pbmcgJ3ByaW1hcnknIHAtci1vLlxuICAgICAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9ICdwcmltYXJ5JztcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFBhdGggPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCkuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShvdXRsZXRQYXRoLCBvdXRsZXROYW1lKTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgIGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgc2VnbWVudGVkR3JvdXAsIHBhcmVudE91dGxldCwgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhjdXJyZW50TW9kYWxPdXRsZXQsIHNlZ21lbnRlZEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRPdXRsZXRLZXkocGF0aCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aCA/IHBhdGggKyAnLScgKyBvdXRsZXROYW1lIDogb3V0bGV0TmFtZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kubmdPbkRlc3Ryb3koKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBudWxsO1xuICAgIH1cbn1cbk5TTG9jYXRpb25TdHJhdGVneS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlcHM6IFt7IHRva2VuOiBGcmFtZVNlcnZpY2UgfSwgeyB0b2tlbjogU1RBUlRfUEFUSCwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbk5TTG9jYXRpb25TdHJhdGVneS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBwcm92aWRlZEluOiAncm9vdCcgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IEZyYW1lU2VydmljZSB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtTVEFSVF9QQVRIXVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG5jbGFzcyBNb2RhbERpYWxvZ1BhcmFtcyB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCA9IHt9LCBjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY2xvc2VDYWxsYmFjayA9IGNsb3NlQ2FsbGJhY2s7XG4gICAgfVxufVxuY2xhc3MgTW9kYWxEaWFsb2dTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvbiwgem9uZSwgYXBwUmVmLCBkZWZhdWx0SW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgICAgICB0aGlzLmFwcFJlZiA9IGFwcFJlZjtcbiAgICAgICAgdGhpcy5kZWZhdWx0SW5qZWN0b3IgPSBkZWZhdWx0SW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFueXRpbWUgYSBtb2RhbCBpcyBjbG9zZWQgd2l0aCB0aGUgTW9kYWxEaWFsb2dQYXJhbXMgd2hpY2ggd2VyZSBpbmplY3RlZCBpbnRvIHRoZSBjb21wb25lbnQgd2hpY2ggaXMgbm93IGNsb3NpbmcuXG4gICAgICogRm9yIGV4YW1wbGUsIGNhbiBiZSB1c2VkIHRvIHdpcmUgdXAgUnggZmxvd3Mgb3V0c2lkZSB0aGUgc2NvcGUgb2YganVzdCB0aGUgY29tcG9uZW50IGJlaW5nIGhhbmRsZWQuXG4gICAgICovXG4gICAgZ2V0IGNsb3NlZCQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2xvc2VkJCkge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VkJCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlZCQ7XG4gICAgfVxuICAgIHNob3dNb2RhbCh0eXBlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAvLyBpZiAoIW9wdGlvbnMudmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcignTm8gdmlld0NvbnRhaW5lclJlZjogJyArICdNYWtlIHN1cmUgeW91IHBhc3Mgdmlld0NvbnRhaW5lclJlZiBpbiBNb2RhbERpYWxvZ09wdGlvbnMuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IHBhcmVudFZpZXcgPSAoKF9hID0gb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlbWVudC5uYXRpdmVFbGVtZW50KSB8fCBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgICAgICBpZiAob3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyB8fCBwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdEFzeW5jVmlldykgJiYgcGFyZW50Vmlldy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Lm5nQXBwUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBfbmdEaWFsb2dSb290IGlzIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgcHJldmlvdXNseSBkZXRhY2hlZCBwcm94eS5cbiAgICAgICAgLy8gSXQgc2hvdWxkIGhhdmUgJ3ZpZXdDb250cm9sbGVyJyAoaU9TKSBvciAnX2RpYWxvZ0ZyYWdtZW50JyAoQW5kcm9pZCkgYXZhaWxhYmxlIGZvclxuICAgICAgICAvLyBwcmVzZW50aW5nIGZ1dHVyZSBtb2RhbCB2aWV3cy5cbiAgICAgICAgaWYgKHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNvbHZlIGZyb20gcGFydGljdWxhciBtb2R1bGUgKG1vZHVsZVJlZilcbiAgICAgICAgLy8gb3IgZnJvbSBzYW1lIG1vZHVsZSBhcyBwYXJlbnRWaWV3ICh2aWV3Q29udGFpbmVyUmVmKVxuICAgICAgICBjb25zdCBjb21wb25lbnRJbmplY3RvciA9ICgoX2IgPSBvcHRpb25zLm1vZHVsZVJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluamVjdG9yKSB8fCAoKF9jID0gb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5qZWN0b3IpIHx8IHRoaXMuZGVmYXVsdEluamVjdG9yO1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IGNvbXBvbmVudEluamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpO1xuICAgICAgICBsZXQgZnJhbWUgPSBwYXJlbnRWaWV3O1xuICAgICAgICBpZiAoIShwYXJlbnRWaWV3IGluc3RhbmNlb2YgRnJhbWUpKSB7XG4gICAgICAgICAgICBmcmFtZSA9IChwYXJlbnRWaWV3LnBhZ2UgJiYgcGFyZW50Vmlldy5wYWdlLmZyYW1lKSB8fCBGcmFtZS50b3Btb3N0KCk7XG4gICAgICAgIH1cbiAgICAgICAgKF9kID0gdGhpcy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLl9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93RGlhbG9nKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgY29udGFpbmVyUmVmOiBvcHRpb25zLnZpZXdDb250YWluZXJSZWYsIGluamVjdG9yOiBjb21wb25lbnRJbmplY3RvciwgY29udGV4dDogb3B0aW9ucy5jb250ZXh0LCBkb25lQ2FsbGJhY2s6IHJlc29sdmUsIHBhcmVudFZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zaG93RGlhbG9nKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFZpZXdSZWY7XG4gICAgICAgIGxldCBkZXRhY2hlZExvYWRlclJlZjtcbiAgICAgICAgbGV0IHBvcnRhbE91dGxldDtcbiAgICAgICAgY29uc3QgY2xvc2VDYWxsYmFjayA9IG9uY2UoKC4uLmFyZ3MpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZG9uZUNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1JlZikge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldy5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5vcGVuZWRNb2RhbFBhcmFtcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xvc2VkJCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZWQkLm5leHQocGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5sb2NhdGlvbi5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoZWRMb2FkZXJSZWYgfHwgcG9ydGFsT3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGFsT3V0bGV0ID09PSBudWxsIHx8IHBvcnRhbE91dGxldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9ydGFsT3V0bGV0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID09PSBudWxsIHx8IGRldGFjaGVkTG9hZGVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9PT0gbnVsbCB8fCBkZXRhY2hlZExvYWRlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGV0YWNoZWRMb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgbW9kYWxQYXJhbXMgPSBuZXcgTW9kYWxEaWFsb2dQYXJhbXMob3B0aW9ucy5jb250ZXh0LCBjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wZW5lZE1vZGFsUGFyYW1zKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuZWRNb2RhbFBhcmFtcy5wdXNoKG1vZGFsUGFyYW1zKTtcbiAgICAgICAgY29uc3QgY2hpbGRJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IE1vZGFsRGlhbG9nUGFyYW1zLCB1c2VWYWx1ZTogbW9kYWxQYXJhbXMgfV0sXG4gICAgICAgICAgICBwYXJlbnQ6IG9wdGlvbnMuaW5qZWN0b3IsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGV2ZXIgc3VwcG9ydCB0ZW1wbGF0ZXMgaW4gdGhlIG9sZCBBUElcbiAgICAgICAgICAgIC8vIGlmKG9wdGlvbnMudGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSBvcHRpb25zLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIC8vICAgICBpZihvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5LCAwLCBjaGlsZEluamVjdG9yLCBudWxsKTtcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoY2hpbGRJbmplY3Rvcik7IC8vIHRoaXMgRGV0YWNoZWRMb2FkZXIgaXMgKipjb21wbGV0ZWx5KiogZGV0YWNoZWRcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7IC8vIHdlIGF0dGFjaCBpdCB0byB0aGUgYXBwbGljYXRpb25SZWYsIHNvIGl0IGJlY29tZXMgYSBcInJvb3RcIiB2aWV3IGluIGFuZ3VsYXIncyBoaWVyYXJjaHlcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpOyAvLyBmb3JjZSBhIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS5jcmVhdGVUZW1wbGF0ZVBvcnRhbChvcHRpb25zLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICAgICAgICAgIGNvbnN0IHBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwob3B0aW9ucy50eXBlKTtcbiAgICAgICAgICAgIHBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0Vmlldywgb3B0aW9ucy5yZXNvbHZlciwgdGhpcy5hcHBSZWYsIGNoaWxkSW5qZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gcG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDb250ZXh0QXNDb21wb25lbnRQcm9wcyAmJiBvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5yZWYuaW5zdGFuY2Vba2V5XSA9IG9wdGlvbnMuY29udGV4dFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3UmVmICE9PSBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50Ll9uZ0RpYWxvZ1Jvb3QgPSBjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Vmlldy5zaG93TW9kYWwoY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGNsb3NlQ2FsbGJhY2sgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5Nb2RhbERpYWxvZ1NlcnZpY2UuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTW9kYWxEaWFsb2dTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMC5BcHBsaWNhdGlvblJlZiB9LCB7IHRva2VuOiBpMC5JbmplY3RvciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTW9kYWxEaWFsb2dTZXJ2aWNlLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTW9kYWxEaWFsb2dTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkwLkFwcGxpY2F0aW9uUmVmIH0sIHsgdHlwZTogaTAuSW5qZWN0b3IgfV07IH0gfSk7XG5cbi8qKlxuICogVGhpcyBkZWNvcmF0b3IgZGVsYXlzIGEgcG90ZW50aWFsbHkgdW5zYWZlIGV2ZW50IChsaWtlIGxvYWRlZC91bmxvYWRlZCB0aGF0IHdpbGwgc29tZXRpbWVzIGJlIGNhbGxlZCBiZWZvcmUgbmdPbkluaXQpIHRvIGJlIGhhbmRsZWQgc2FmZWx5IGJ5IGVuc3VyaW5nIGl0J3MgY2FsbGVkIGFmdGVyIGEgbGlmZWN5Y2xlIGhvb2suXG4gKiBAcGFyYW0gcnVuQWZ0ZXJFdmVudCBldmVudC9mdW5jdGlvbiBjYWxsIHRvIHdhaXQgdW50aWwgdGhlIGV2ZW50IGNhbiBiZSBmaXJlZCAoJ25nT25Jbml0JywgJ25nQWZ0ZXJWaWV3SW5pdCcsIC4uLilcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGV2ZW50IGhhbmRsaW5nIHBhcmFtc1xuICogQHJldHVybnMgZGVjb3JhdG9yXG4gKi9cbmZ1bmN0aW9uIE5hdGl2ZVNjcmlwdE5nU2FmZUV2ZW50KHJ1bkFmdGVyRXZlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGV2ZW50ID0gcnVuQWZ0ZXJFdmVudDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0TmdTYWZlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFsnX19uZ19zYWZlX18nXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRhcmdldFsnX19uZ19zYWZlX18nXSkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdE5nU2FmZSA9IHtcbiAgICAgICAgICAgICAgICBldmVudHM6IHt9LFxuICAgICAgICAgICAgICAgIHJ1bkJlZm9yZToge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0WydfX25nX3NhZmVfXyddID0gZGVmYXVsdE5nU2FmZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0pIHtcbiAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0gPSB7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYnVmZmVyOiBbXSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbERlbGVnYXRlOiB0YXJnZXRbZXZlbnRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhcmdldFtldmVudF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLm9yaWdpbmFsRGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLm9yaWdpbmFsRGVsZWdhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLmZvckVhY2goKGZuKSA9PiBmbi5mbigpKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFsd2F5c1J1bkJlZm9yZSkge1xuICAgICAgICAgICAgZ2V0TmdTYWZlKCkucnVuQmVmb3JlW3Byb3BlcnR5S2V5XSA9IHRhcmdldFtvcHRpb25zLmFsd2F5c1J1bkJlZm9yZV07XG4gICAgICAgICAgICB0YXJnZXRbYCR7b3B0aW9ucy5hbHdheXNSdW5CZWZvcmV9YF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpXG4gICAgICAgICAgICAgICAgICAgIC5ldmVudHNbZXZlbnRdLmJ1ZmZlci5maWx0ZXIoKHYpID0+IHYua2V5ID09PSBwcm9wZXJ0eUtleSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGZuKSA9PiBmbi5mbigpKTtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlciA9IGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLmZpbHRlcigodikgPT4gdi5rZXkgIT09IHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkRm4gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2hvdWxkUHVzaCA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbmx5Rmlyc3QgfHwgb3B0aW9ucy5vbmx5TGFzdCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyW2ldLmtleSA9PT0gcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlGaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFB1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlMYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZFB1c2gpIHtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgICAgICAgZm46IG9sZEZuLmJpbmQodGhpcywgYXJncyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cblxuY2xhc3MgVGFiVmlld0RpcmVjdGl2ZSB7XG4gICAgZ2V0IHNlbGVjdGVkSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgIH1cbiAgICBzZXQgc2VsZWN0ZWRJbmRleCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZpZXdJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy50YWJWaWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50YWJWaWV3ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudmlld0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygndGhpcy5fc2VsZWN0ZWRJbmRleDogJyArIHRoaXMuX3NlbGVjdGVkSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCbGFuayh0aGlzLl9zZWxlY3RlZEluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy50YWJWaWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgfVxufVxuVGFiVmlld0RpcmVjdGl2ZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5UYWJWaWV3RGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlRhYlZpZXdcIiwgaW5wdXRzOiB7IHNlbGVjdGVkSW5kZXg6IFwic2VsZWN0ZWRJbmRleFwiIH0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUYWJWaWV3JywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBzZWxlY3RlZEluZGV4OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuY2xhc3MgVGFiVmlld0l0ZW1EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCB0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZVJlZjtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcbiAgICB9XG4gICAgc2V0IGNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcgfHwgdGhpcy5fY29uZmlnLmljb25Tb3VyY2UgIT09IGNvbmZpZy5pY29uU291cmNlIHx8IHRoaXMuX2NvbmZpZy50aXRsZSAhPT0gY29uZmlnLnRpdGxlIHx8IHRoaXMuX2NvbmZpZy50ZXh0VHJhbnNmb3JtICE9PSBjb25maWcudGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgdGhpcy5hcHBseUNvbmZpZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8taW5wdXQtcmVuYW1lXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcgfHwge307XG4gICAgfVxuICAgIHNldCB0aXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgdGl0bGUgfSk7XG4gICAgfVxuICAgIGdldCB0aXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRpdGxlO1xuICAgIH1cbiAgICBzZXQgaWNvblNvdXJjZShpY29uU291cmNlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyBpY29uU291cmNlIH0pO1xuICAgIH1cbiAgICBnZXQgaWNvblNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmljb25Tb3VyY2U7XG4gICAgfVxuICAgIHNldCB0ZXh0VHJhbnNmb3JtKHRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IHRleHRUcmFuc2Zvcm0gfSk7XG4gICAgfVxuICAgIGdldCB0ZXh0VHJhbnNmb3JtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudGV4dFRyYW5zZm9ybTtcbiAgICB9XG4gICAgZW5zdXJlSXRlbSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLml0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbSA9IG5ldyBUYWJWaWV3SXRlbSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGx5Q29uZmlnKCkge1xuICAgICAgICB0aGlzLmVuc3VyZUl0ZW0oKTtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udGl0bGUgPSB0aGlzLmNvbmZpZy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWcuaWNvblNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLmljb25Tb3VyY2UgPSB0aGlzLmNvbmZpZy5pY29uU291cmNlO1xuICAgICAgICB9XG4gICAgICAgIC8vICBUYWJWaWV3SXRlbSB0ZXh0VHJhbnNmb3JtIGhhcyBhIGRlZmF1bHQgdmFsdWUgZm9yIEFuZHJvaWQgdGhhdCBraWNrIGluXG4gICAgICAgIC8vIG9ubHkgaWYgbm8gdmFsdWUgKGV2ZW4gYSBudWxsIHZhbHVlKSBpcyBzZXQuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udGV4dFRyYW5zZm9ybSA9IHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuYXBwbHlDb25maWcoKTtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZVJlZik7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgdGV4dCBub2RlcyBhbmQgY29tbWVudHNcbiAgICAgICAgY29uc3QgcmVhbFZpZXdzID0gdmlld1JlZi5yb290Tm9kZXMuZmlsdGVyKChub2RlKSA9PiAhKG5vZGUgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgICAgIGlmIChyZWFsVmlld3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLnZpZXcgPSByZWFsVmlld3NbMF07XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtcyA9ICh0aGlzLm93bmVyLnRhYlZpZXcuaXRlbXMgfHwgW10pLmNvbmNhdChbdGhpcy5pdGVtXSk7XG4gICAgICAgICAgICB0aGlzLm93bmVyLnRhYlZpZXcuaXRlbXMgPSBuZXdJdGVtcztcbiAgICAgICAgfVxuICAgIH1cbn1cblRhYlZpZXdJdGVtRGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogVGFiVmlld0RpcmVjdGl2ZSB9LCB7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblRhYlZpZXdJdGVtRGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbdGFiSXRlbV1cIiwgaW5wdXRzOiB7IGNvbmZpZzogW1widGFiSXRlbVwiLCBcImNvbmZpZ1wiXSwgdGl0bGU6IFwidGl0bGVcIiwgaWNvblNvdXJjZTogXCJpY29uU291cmNlXCIsIHRleHRUcmFuc2Zvcm06IFwidGV4dFRyYW5zZm9ybVwiIH0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW3RhYkl0ZW1dJywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBjb25maWc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyd0YWJJdGVtJ11cbiAgICAgICAgICAgIH1dLCB0aXRsZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGljb25Tb3VyY2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCB0ZXh0VHJhbnNmb3JtOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBBbmRyb2lkRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgfVxufVxuQW5kcm9pZEZpbHRlckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogREVWSUNFIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkFuZHJvaWRGaWx0ZXJDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiYW5kcm9pZFwiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbREVWSUNFXVxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBJT1NGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLnNob3cgPSBkZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuaW9zO1xuICAgIH1cbn1cbklPU0ZpbHRlckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuSU9TRmlsdGVyQ29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiaW9zXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTEkMS5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9XSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbREVWSUNFXVxuICAgICAgICAgICAgICAgICAgICB9XSB9XTtcbiAgICB9IH0pO1xuXG5jb25zdCBDREtfQ09NUE9ORU5UUyA9IFtBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBMaXN0Vmlld0NvbXBvbmVudCwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBJT1NGaWx0ZXJDb21wb25lbnRdO1xucmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cygpO1xuY2xhc3MgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlIHtcbn1cbk5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlY2xhcmF0aW9uczogW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudF0sIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZV0sIGV4cG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZSwgQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTGlzdFZpZXdDb21wb25lbnQsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgSU9TRmlsdGVyQ29tcG9uZW50XSB9KTtcbk5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBwcm92aWRlcnM6IFtNb2RhbERpYWxvZ1NlcnZpY2VdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIENvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogWy4uLkNES19DT01QT05FTlRTXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlLCAuLi5DREtfQ09NUE9ORU5UU10sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW01vZGFsRGlhbG9nU2VydmljZV0sXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IFtOT19FUlJPUlNfU0NIRU1BXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3KHBhcmVudFJvb3RWaWV3KSB7XG4gICAgaWYgKHBhcmVudFJvb3RWaWV3KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRSb290VmlldztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBcHBIb3N0VmlldyhuZXcgQ29sb3IoJ3doaXRlJykpO1xufVxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKCkge1xuICAgIHJldHVybiBuZXcgRXJyb3JIYW5kbGVyKCk7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUlkKCkge1xuICAgIHJldHVybiBgJHtEYXRlLm5vdygpfWAgKyAnXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG59XG5jb25zdCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMgPSBbXG4gICAgeyBwcm92aWRlOiBBUFBfUk9PVF9WSUVXLCB1c2VGYWN0b3J5OiBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcsIGRlcHM6IFtbbmV3IE9wdGlvbmFsKCksIG5ldyBTa2lwU2VsZigpLCBBUFBfUk9PVF9WSUVXXV0gfSxcbiAgICB7IHByb3ZpZGU6IMm1SU5KRUNUT1JfU0NPUEUsIHVzZVZhbHVlOiAncm9vdCcgfSxcbiAgICB7IHByb3ZpZGU6IEVycm9ySGFuZGxlciwgdXNlRmFjdG9yeTogZXJyb3JIYW5kbGVyLCBkZXBzOiBbXSB9LFxuICAgIHsgcHJvdmlkZTogVmlld1V0aWwsIHVzZUNsYXNzOiBWaWV3VXRpbCwgZGVwczogW05BTUVTUEFDRV9GSUxURVJTLCBbbmV3IE9wdGlvbmFsKCksIEVOQUJMRV9SRVVTQUJFX1ZJRVdTXV0gfSxcbiAgICB7XG4gICAgICAgIHByb3ZpZGU6IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgZGVwczogW0FQUF9ST09UX1ZJRVcsIE5BTUVTUEFDRV9GSUxURVJTLCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIFtuZXcgT3B0aW9uYWwoKSwgRU5BQkxFX1JFVVNBQkVfVklFV1NdXSxcbiAgICB9LFxuICAgIHsgcHJvdmlkZTogTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lELCB1c2VGYWN0b3J5OiBnZW5lcmF0ZVJhbmRvbUlkIH0sXG4gICAgeyBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLCB1c2VFeGlzdGluZzogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5IH0sXG4gICAgeyBwcm92aWRlOiBOQU1FU1BBQ0VfRklMVEVSUywgdXNlQ2xhc3M6IFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyLCBkZXBzOiBbREVWSUNFXSwgbXVsdGk6IHRydWUgfSxcbiAgICB7IHByb3ZpZGU6IERFVklDRSwgdXNlVmFsdWU6IERldmljZSB9LFxuICAgIHsgcHJvdmlkZTogWGhyRmFjdG9yeSwgdXNlQ2xhc3M6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlcHM6IFtdIH0sXG5dO1xuY29uc3QgTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMgPSBbeyBwcm92aWRlOiBWaWV3cG9ydFNjcm9sbGVyLCB1c2VDbGFzczogybVOdWxsVmlld3BvcnRTY3JvbGxlciB9XTtcbmNsYXNzIE5hdGl2ZVNjcmlwdE1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmF0aXZlU2NyaXB0TW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gY29tbW9uIGRpcmVjdGl2ZXMgc3VjaCBhcyBOZ0lmIGFuZCBOZ0ZvciBmcm9tIGEgbGF6eSBsb2FkZWQgbW9kdWxlLCBpbXBvcnQgQ29tbW9uTW9kdWxlIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5OYXRpdmVTY3JpcHRNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZXBzOiBbeyB0b2tlbjogTmF0aXZlU2NyaXB0TW9kdWxlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVTY3JpcHRNb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjbGFyYXRpb25zOiBbRGV0YWNoZWRMb2FkZXJdLCBpbXBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sIGV4cG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgRGV0YWNoZWRMb2FkZXIsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7XG5OYXRpdmVTY3JpcHRNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgcHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSU10sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbRGV0YWNoZWRMb2FkZXJdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBEZXRhY2hlZExvYWRlciwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU2tpcFNlbGZcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW05hdGl2ZVNjcmlwdE1vZHVsZV1cbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcblxuZnVuY3Rpb24gZGlzYWJsZVJvb3RWaWV3SGFuZGluZyh2aWV3KSB7XG4gICAgdmlldy5fX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nID0gdHJ1ZTtcbn1cbmNvbnN0IHByZUFuZ3VsYXJEaXNwb3NhbCQgPSBuZXcgU3ViamVjdCgpO1xuY29uc3QgcG9zdEFuZ3VsYXJCb290c3RyYXAkID0gbmV3IFN1YmplY3QoKTtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuY29uc3Qgb25CZWZvcmVMaXZlc3luYyA9IHByZUFuZ3VsYXJEaXNwb3NhbCQucGlwZShmaWx0ZXIoKHYpID0+IHYubW9kdWxlVHlwZSA9PT0gJ21haW4nICYmIHYucmVhc29uID09PSAnaG90cmVsb2FkJyksIG1hcCgodikgPT4gdi5yZWZlcmVuY2UpKTtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuY29uc3Qgb25BZnRlckxpdmVzeW5jID0gcG9zdEFuZ3VsYXJCb290c3RyYXAkLnBpcGUoZmlsdGVyKCh2KSA9PiB2Lm1vZHVsZVR5cGUgPT09ICdtYWluJyksIG1hcCgodikgPT4gKHsgbW9kdWxlUmVmOiB2LnJlZmVyZW5jZSB9KSkpO1xuaWYgKGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10pIHtcbiAgICBpbXBvcnQubWV0YVsnd2VicGFja0hvdCddLmRlY2xpbmUoKTtcbiAgICBnbG9iYWwuX19vbkxpdmVTeW5jQ29yZSA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgLy8gYWxsIG90aGVyIGNoYW5nZXMgYXJlIGFwcGxpZWQgYnkgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcFxuICAgIH07XG59XG5mdW5jdGlvbiBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQocmVmLCBuYW1lLCByZWFzb24pIHtcbiAgICBwb3N0QW5ndWxhckJvb3RzdHJhcCQubmV4dCh7XG4gICAgICAgIG1vZHVsZVR5cGU6IG5hbWUsXG4gICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICByZWFzb24sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZXN0cm95UmVmKHJlZiwgbmFtZSwgcmVhc29uKSB7XG4gICAgaWYgKHJlZikge1xuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgUGxhdGZvcm1SZWYpIHtcbiAgICAgICAgICAgIHByZUFuZ3VsYXJEaXNwb3NhbCQubmV4dCh7XG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZTogJ3BsYXRmb3JtJyxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZixcbiAgICAgICAgICAgICAgICByZWFzb246IG5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmIGluc3RhbmNlb2YgTmdNb2R1bGVSZWYgfHwgcmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYpIHtcbiAgICAgICAgICAgIHByZUFuZ3VsYXJEaXNwb3NhbCQubmV4dCh7XG4gICAgICAgICAgICAgICAgbW9kdWxlVHlwZTogbmFtZSxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHJlZixcbiAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWYuZGVzdHJveSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJ1blpvbmVTeW5jVGFzayhmbikge1xuICAgIGlmICh0eXBlb2YgWm9uZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB6b25lID0gWm9uZS5jdXJyZW50O1xuICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdzeW5jX2Z1bmN0aW9uJywgZm4sIHt9LCAoKSA9PiB7XG4gICAgICAgIC8vXG4gICAgfSwgKCkgPT4ge1xuICAgICAgICAvL1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2suc3RhdGUpO1xuICAgICAgICB0YXNrLmludm9rZSgpO1xuICAgICAgICAvLyB6b25lLnJ1blRhc2sodGFzayk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2suc3RhdGUpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFpvbmVDYW5Xb3JrU3luYygpIHtcbiAgICBsZXQgY2FuUnVuU3luYyA9IGZhbHNlO1xuICAgIHJ1blpvbmVTeW5jVGFzaygoKSA9PiB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gKGNhblJ1blN5bmMgPSB0cnVlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNhblJ1blN5bmM7XG59XG4vKipcbiAqIFRlc3RzIGlmIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUgY2FuIGJlIHVzZWQgdG8gZHJhaW4gbWljcm90YXNrc1xuICogQmVjYXVzZSBvZiBab25lLmpzLCBldmVuIHRob3VnaCB0aGUgbmF0aXZlIHF1ZXVlIG1pZ2h0IGJlIGRyYWluZWQsIHpvbmUgbWljcm90YXNrcyBtaWdodCBub3QgYmVcbiAqIEBwYXJhbSBtYWtlVGVzdERyYWluIHNob3VsZCBpdCBkcmFpbiB0aGUgY3VycmVudCBtaWNyb3Rhc2sgcXVldWUgdG8gZW5zdXJlIHRoZSBxdWV1ZSBjYW4gYmUgZHJhaW5lZFxuICogQHJldHVybnMgaWYgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSBjYW4gYmUgY2FsbGVkXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkKG1ha2VUZXN0RHJhaW4pIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIW1ha2VUZXN0RHJhaW4pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBjYW5SdW5TeW5jID0gZmFsc2U7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiAoY2FuUnVuU3luYyA9IHRydWUpKTtcbiAgICBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlKCk7XG4gICAgcmV0dXJuIGNhblJ1blN5bmM7XG59XG4vKipcbiAqIFJ1bnMgYSBmdW5jdGlvbiBpbiB0aGUgbW9zdCBzeW5jaHJvbm91cyB3YXkgcG9zc2libGVcbiAqIEBwYXJhbSBmbiBmdW5jdGlvbiB0byBydW5cbiAqIEBwYXJhbSBkb25lIGZ1bmN0aW9uIHRvIGNoYWluIGFmdGVyIGRvbmVcbiAqL1xuZnVuY3Rpb24gcnVuU3luY2hyb25vdXNseShmbiwgZG9uZSkge1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgWm9uZUNhbldvcmtTeW5jKCkpIHtcbiAgICAgICAgcnVuWm9uZVN5bmNUYXNrKGZuKTtcbiAgICAgICAgZG9uZSA9PT0gbnVsbCB8fCBkb25lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkb25lKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkKHRydWUpKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUoKTtcbiAgICAgICAgZG9uZSA9PT0gbnVsbCB8fCBkb25lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkb25lKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm4oKTtcbiAgICBpZiAoZG9uZSkge1xuICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzayhkb25lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQcm92aWRlcnNDb25maWcob3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBQcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi4oKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByb3ZpZGVycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pXSxcbiAgICAgICAgLy8gcGxhdGZvcm1Qcm92aWRlcnM6IElOVEVSTkFMX0JST1dTRVJfUExBVEZPUk1fUFJPVklERVJTXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJvb3RzdHJhcEFwcGxpY2F0aW9uKHJvb3RDb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gybVpbnRlcm5hbENyZWF0ZUFwcGxpY2F0aW9uKE9iamVjdC5hc3NpZ24oeyByb290Q29tcG9uZW50IH0sIGNyZWF0ZVByb3ZpZGVyc0NvbmZpZyhvcHRpb25zKSkpO1xufVxuZnVuY3Rpb24gcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcChvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBsZXQgbWFpbk1vZHVsZVJlZiA9IG51bGw7XG4gICAgbGV0IGxvYWRpbmdNb2R1bGVSZWY7XG4gICAgbGV0IHBsYXRmb3JtUmVmID0gbnVsbDtcbiAgICBsZXQgYm9vdHN0cmFwSWQgPSAtMTtcbiAgICBjb25zdCB1cGRhdGVQbGF0Zm9ybVJlZiA9IChtb2R1bGVSZWYsIHJlYXNvbikgPT4ge1xuICAgICAgICBjb25zdCBuZXdQbGF0Zm9ybVJlZiA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgICAgICBpZiAobmV3UGxhdGZvcm1SZWYgPT09IHBsYXRmb3JtUmVmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveVJlZihwbGF0Zm9ybVJlZiwgcmVhc29uKTtcbiAgICAgICAgcGxhdGZvcm1SZWYgPSBuZXdQbGF0Zm9ybVJlZjtcbiAgICAgICAgcGxhdGZvcm1SZWYub25EZXN0cm95KCgpID0+IChwbGF0Zm9ybVJlZiA9IHBsYXRmb3JtUmVmID09PSBuZXdQbGF0Zm9ybVJlZiA/IG51bGwgOiBwbGF0Zm9ybVJlZikpO1xuICAgIH07XG4gICAgbGV0IGxhdW5jaEV2ZW50RG9uZSA9IHRydWU7XG4gICAgbGV0IHRhcmdldFJvb3RWaWV3ID0gbnVsbDtcbiAgICBjb25zdCBzZXRSb290VmlldyA9IChyZWYpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoYm9vdHN0cmFwSWQgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyB0cmVhdCBlZGdlIGNhc2VzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIE5nTW9kdWxlUmVmIHx8IHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmKSB7XG4gICAgICAgICAgICBpZiAocmVmLmluamVjdG9yLmdldChESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJlZlsnX19kaXNhYmxlX3Jvb3Rfdmlld19oYW5kbGluZyddKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIChfYSA9IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fY2xvc2VBbGxNb2RhbFZpZXdzSW50ZXJuYWwoKTsgLy8gY2xlYW51cCBvbGQgcm9vdHZpZXdcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3ICR7bGF1bmNoRXZlbnREb25lID8gJ291dHNpZGUgb2YnIDogJ2R1cmluZyd9IGxhdW5jaCBldmVudGApO1xuICAgICAgICAvLyBUT0RPOiBjaGVjayBmb3IgbGVha3Mgd2hlbiByb290IHZpZXcgaXNuJ3QgcHJvcGVybHkgZGVzdHJveWVkXG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBWaWV3KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgdG8gJHtyZWZ9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGF1bmNoRXZlbnREb25lKSB7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Um9vdFZpZXcgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHJlZi5pbmplY3Rvci5nZXQoQVBQX1JPT1RfVklFVyk7XG4gICAgICAgIGNvbnN0IG5ld1Jvb3QgPSB2aWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgPyB2aWV3LmNvbnRlbnQgOiB2aWV3O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyB0byAke25ld1Jvb3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gbmV3Um9vdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYXVuY2hFdmVudERvbmUpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoeyBjcmVhdGU6ICgpID0+IG5ld1Jvb3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRSb290VmlldyA9IG5ld1Jvb3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNob3dFcnJvclVJID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlICsgJ1xcblxcbicgKyBlcnJvci5zdGFjaztcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0Qm94ID0gbmV3IFRleHRWaWV3KCk7XG4gICAgICAgIGVycm9yVGV4dEJveC50ZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgZXJyb3JUZXh0Qm94LmNvbG9yID0gbmV3IENvbG9yKCdyZWQnKTtcbiAgICAgICAgc2V0Um9vdFZpZXcoZXJyb3JUZXh0Qm94KTtcbiAgICB9O1xuICAgIGNvbnN0IGJvb3RzdHJhcFJvb3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBib290c3RyYXBJZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Qm9vdHN0cmFwSWQgPSBib290c3RyYXBJZDtcbiAgICAgICAgICAgIGxldCBib290c3RyYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuU3luY2hyb25vdXNseSgoKSA9PiBvcHRpb25zLmFwcE1vZHVsZUJvb3RzdHJhcChyZWFzb24pLnRoZW4oKHJlZikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbW9kdWxlIGlzIG9sZCBhbmQgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiB3aGVuIGRldmVsb3BlciB1c2VzIGFzeW5jIGFwcCBpbml0aWFsaXplciBhbmQgdGhlIHVzZXIgZXhpdHMgdGhlIGFwcCBiZWZvcmUgdGhpcyBib290c3RyYXBzXG4gICAgICAgICAgICAgICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFpbk1vZHVsZVJlZiA9IHJlZjtcbiAgICAgICAgICAgICAgICAocmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyByZWYuY29tcG9uZW50c1swXSA6IHJlZikub25EZXN0cm95KCgpID0+IChtYWluTW9kdWxlUmVmID0gbWFpbk1vZHVsZVJlZiA9PT0gcmVmID8gbnVsbCA6IG1haW5Nb2R1bGVSZWYpKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQbGF0Zm9ybVJlZihyZWYsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVUYWcgPSByZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgKHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gcmVmLmNvbXBvbmVudHNbMF0gOiByZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwKCk7XG4gICAgICAgICAgICAgICAgZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50KHJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIC8vIGJvb3RzdHJhcHBlZCBjb21wb25lbnQ6IChyZWYgYXMgYW55KS5fYm9vdHN0cmFwQ29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGFwcCBtb2R1bGU6XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JVSShlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWJvb3RzdHJhcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sb2FkaW5nTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5TeW5jaHJvbm91c2x5KCgpID0+IG9wdGlvbnMubG9hZGluZ01vZHVsZShyZWFzb24pLnRoZW4oKGxvYWRpbmdSZWYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1vZHVsZSBpcyBvbGQgYW5kIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1heSBoYXBwZW4gd2hlbiBkZXZlbG9wZXIgdXNlcyBhc3luYyBhcHAgaW5pdGlhbGl6ZXIgYW5kIHRoZSB1c2VyIGV4aXRzIHRoZSBhcHAgYmVmb3JlIHRoaXMgYm9vdHN0cmFwc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ1JlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobG9hZGluZ01vZHVsZVJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gbG9hZGluZ01vZHVsZVJlZi5jb21wb25lbnRzWzBdIDogbG9hZGluZ01vZHVsZVJlZikub25EZXN0cm95KCgpID0+IChsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ01vZHVsZVJlZiA9PT0gbG9hZGluZ1JlZiA/IG51bGwgOiBsb2FkaW5nTW9kdWxlUmVmKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGxhdGZvcm1SZWYobG9hZGluZ1JlZiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvYWRpbmdNb2R1bGVSZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IGxvYWRpbmdNb2R1bGVSZWYuY29tcG9uZW50c1swXSA6IGxvYWRpbmdNb2R1bGVSZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KGxvYWRpbmdSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsYXkgc2hvd2luZyB0aGUgbmV3IHJvb3R2aWV3IHRvIGF2b2lkIGZsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1NlcnZpY2UgPSBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOZ1pvbmUpLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1NlcnZpY2UuX25vdGlmeU1haW5Nb2R1bGVSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nU2VydmljZS5yZWFkeVRvRGVzdHJveSRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSksIHRha2UoMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveVJlZihsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGxvYWRpbmcgbW9kdWxlOlxcbiR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yVUkoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5sYXVuY2hWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF1bmNoVmlldyA9IG9wdGlvbnMubGF1bmNoVmlldyhyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobGF1bmNoVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgbGF1bmNoIGFuaW1hdGlvbiBpcyBleGVjdXRlZCBhZnRlciBsYXVuY2hWaWV3IGFkZGVkIHRvIHZpZXcgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGF5IHNob3dpbmcgdGhlIG5ldyByb290dmlldyB0byBhdm9pZCBmbGFzaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5jbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsZWFudXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcHAgaXMgYm9vdHN0cmFwcGluZyBhc3luY2hyb25vdXNseSAobGlrZWx5IEFQUF9JTklUSUFMSVpFUikgYnV0IGRpZCBub3QgcHJvdmlkZSBhIGxhdW5jaFZpZXcgb3IgTG9hZGluZ01vZHVsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBpbiBCb290c3RyYXAgRnVuY3Rpb246XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZVBsYXRmb3JtID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBkZXN0cm95UmVmKHBsYXRmb3JtUmVmLCByZWFzb24pO1xuICAgICAgICBwbGF0Zm9ybVJlZiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlTGFzdE1vZHVsZXMgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIC8vIHJlc2V0IGJvb3RzdHJhcCBJRCB0byBtYWtlIHN1cmUgYW55IG1vZHVsZXMgYm9vdHN0cmFwcGVkIGFmdGVyIHRoaXMgYXJlIGRpc2NhcmRlZFxuICAgICAgICBib290c3RyYXBJZCA9IC0xO1xuICAgICAgICBkZXN0cm95UmVmKGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgIGRlc3Ryb3lSZWYobWFpbk1vZHVsZVJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICBtYWluTW9kdWxlUmVmID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGxhdW5jaENhbGxiYWNrID0gcHJvZmlsZSgnQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL3BsYXRmb3JtLWNvbW1vbi5sYXVuY2hDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGxhdW5jaEV2ZW50RG9uZSA9IGZhbHNlO1xuICAgICAgICBib290c3RyYXBSb290KCdhcHBsYXVuY2gnKTtcbiAgICAgICAgbGF1bmNoRXZlbnREb25lID0gdHJ1ZTtcbiAgICAgICAgYXJncy5yb290ID0gdGFyZ2V0Um9vdFZpZXcgfHwgbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBleGl0Q2FsbGJhY2sgPSBwcm9maWxlKCdAbmF0aXZlc2NyaXB0L2FuZ3VsYXIvcGxhdGZvcm0tY29tbW9uLmV4aXRDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnYXBwZXhpdCcpO1xuICAgIH0pO1xuICAgIGxldCBvbGRBZGRFdmVudExpc3RlbmVyO1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKChfYiA9IChfYSA9IGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXZlbnRzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbWm9uZS5fX3N5bWJvbF9fKCdhZGRFdmVudExpc3RlbmVyJyldKSkge1xuICAgICAgICBvbGRBZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzW1pvbmUuX19zeW1ib2xfXygnYWRkRXZlbnRMaXN0ZW5lcicpXTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgfVxuICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmV4aXRFdmVudCwgZXhpdENhbGxiYWNrKTtcbiAgICBpZiAob2xkQWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IG9sZEFkZEV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGlmIChpbXBvcnQubWV0YVsnd2VicGFja0hvdCddKSB7XG4gICAgICAgIC8vIGhhbmRsZSBITVIgQXBwbGljYXRpb24ucnVuXG4gICAgICAgIGdsb2JhbFsnX19kaXNwb3NlX2FwcF9uZ19wbGF0Zm9ybV9fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fZGlzcG9zZV9hcHBfbmdfbW9kdWxlc19fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fYm9vdHN0cmFwX2FwcF9uZ19tb2R1bGVzX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fY2xlYW51cF9uZ19ob3RfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ub2ZmKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5vZmYoQXBwbGljYXRpb24uZXhpdEV2ZW50LCBleGl0Q2FsbGJhY2spO1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19yZWJvb3RfbmdfbW9kdWxlc19fJ10gPSAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uLmhhc0xhdW5jaGVkKCkpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2FwcGxhdW5jaCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24ucnVuKCk7XG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IGV4dGVuZHMgUGxhdGZvcm1SZWYge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBsYXVuY2hWaWV3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5sYXVuY2hWaWV3ID0gbGF1bmNoVmlldztcbiAgICB9XG4gICAgYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnkpLFxuICAgICAgICAgICAgbGF1bmNoVmlldzogKCkgPT4gdGhpcy5sYXVuY2hWaWV3LFxuICAgICAgICB9O1xuICAgICAgICBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0ub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF0Zm9ybS5pbmplY3RvcjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmRlc3Ryb3llZDtcbiAgICB9XG59XG5cbmNvbnN0IGRlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyID0geyBwcm92aWRlOiBQQUdFX0ZBQ1RPUlksIHVzZVZhbHVlOiBkZWZhdWx0UGFnZUZhY3RvcnkgfTtcbmNsYXNzIE5hdGl2ZVNjcmlwdFNhbml0aXplciBleHRlbmRzIFNhbml0aXplciB7XG4gICAgc2FuaXRpemUoX2NvbnRleHQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4vLyBUT0RPOiB3aGVuIGFuZ3VsYXIgZmluYWxseSBleHBvcnRzIHRoZWlyIHNjaGVkdWxlciB0b2tlbiBmb3IgaXZ5IENELCBwcm92aWRlIG91ciBvd24gd2l0aCBxdWV1ZU1hY3JvVGFza1xuLy8gZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlckZhY3RvcnkoKSB7XG4vLyAgIHJldHVybiAoZm46IGFueSkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKCdTQ0hFRFVMRVInKTtcbi8vICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbi8vICAgfTtcbi8vIH1cbmNsYXNzIE5hdGl2ZVNjcmlwdERvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gUmVxdWlyZWQgYnkgdGhlIEFuaW1hdGlvbkRyaXZlclxuICAgICAgICB0aGlzLmJvZHkgPSB7XG4gICAgICAgICAgICBpc092ZXJyaWRlOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHRhZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZVNjcmlwdERvY3VtZW50IGlzIG5vdCBET00gRG9jdW1lbnQuIFRoZXJlIGlzIG5vIGNyZWF0ZUVsZW1lbnQoKSBtZXRob2QuJyk7XG4gICAgfVxufVxuY29uc3QgQ09NTU9OX1BST1ZJREVSUyA9IFtkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgeyBwcm92aWRlOiBTYW5pdGl6ZXIsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIsIGRlcHM6IFtdIH0sIHsgcHJvdmlkZTogRE9DVU1FTlQsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHREb2N1bWVudCwgZGVwczogW10gfV07XG5jb25zdCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdCA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwbGF0Zm9ybUNvcmUsICduYXRpdmVzY3JpcHREeW5hbWljJywgQ09NTU9OX1BST1ZJREVSUyk7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIGluc3RlYWRcbiAqL1xuY29uc3QgcGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljID0gZnVuY3Rpb24gKG9wdGlvbnMsIGV4dHJhUHJvdmlkZXJzKSB7XG4gICAgY29uc29sZS5sb2coJ3BsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyBpcyBkZXByZWNhdGVkLCB1c2UgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCBpbnN0ZWFkJyk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgZXh0cmFQcm92aWRlcnMgPSBleHRyYVByb3ZpZGVycyB8fCBbXTtcbiAgICBjb25zdCBuZ1Jvb3RWaWV3ID0gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnKSk7XG4gICAgbGV0IGxhdW5jaFZpZXcgPSBvcHRpb25zLmxhdW5jaFZpZXc7XG4gICAgaWYgKCFsYXVuY2hWaWV3ICYmIG9wdGlvbnMuYXN5bmMpIHtcbiAgICAgICAgbGF1bmNoVmlldyA9IG5ldyBHcmlkTGF5b3V0KCk7XG4gICAgICAgIGxhdW5jaFZpZXcuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgJ3doaXRlJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5KHBsYXRmb3JtTmF0aXZlU2NyaXB0KFsuLi5leHRyYVByb3ZpZGVyc10pLCBsYXVuY2hWaWV3KTtcbn07XG5cbmNsYXNzIFJvb3RWaWV3UHJveHkgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50Um9vdExheW91dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQgPSBwYXJlbnRSb290TGF5b3V0O1xuICAgIH1cbiAgICBfYWRkVmlldyh2aWV3LCBhdEluZGV4KSB7XG4gICAgICAgIHN1cGVyLl9hZGRWaWV3KHZpZXcsIGF0SW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRSb290TGF5b3V0LmdldENoaWxkSW5kZXgodGhpcykgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQuaW5zZXJ0Q2hpbGQodGhpcywgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3JlbW92ZVZpZXcodmlldykge1xuICAgICAgICBzdXBlci5fcmVtb3ZlVmlldyh2aWV3KTtcbiAgICAgICAgdGhpcy5wYXJlbnRSb290TGF5b3V0LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBnZW5lcmF0ZXMgYSBSb290TGF5b3V0IGFuZCByZXR1cm5zIGEgUm9vdFZpZXdQcm94eS5cbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50IHdpbGwgYWRkIHRoZSB2aWV3IHRvIHRoZSBib3R0b20gb2YgdGhlIFJvb3RMYXlvdXRcbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50ID0gbnVsbCB3aWxsIHJlbW92ZSB0aGUgdmlldyBmcm9tIHRoZSBSb290TGF5b3V0XG4gKiBAcmV0dXJucyBSb290Vmlld1Byb3h5IHRoYXQgd2lsbCBpbnNlcnQgY29udGVudCBpbnRvIHRoZSBzdGFydCBvZiB0aGUgUm9vdExheW91dFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSgpIHtcbiAgICBsZXQgcm9vdFZpZXcgPSBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgIGlmICghcm9vdFZpZXcgfHwgIShyb290VmlldyBpbnN0YW5jZW9mIFJvb3RMYXlvdXQpKSB7XG4gICAgICAgIHJvb3RWaWV3ID0gbmV3IFJvb3RMYXlvdXQoKTtcbiAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcm9vdFZpZXcgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdQcm94eSA9IG5ldyBSb290Vmlld1Byb3h5KHJvb3RWaWV3KTtcbiAgICAvLyAocm9vdFZpZXcgYXMgUm9vdExheW91dCkuaW5zZXJ0Q2hpbGQodmlld1Byb3h5LCAwKTtcbiAgICByZXR1cm4gdmlld1Byb3h5O1xufVxuY2xhc3MgUm9vdENvbXBvc2l0ZU1vZHVsZSB7XG59XG5Sb290Q29tcG9zaXRlTW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuUm9vdENvbXBvc2l0ZU1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSB9KTtcblJvb3RDb21wb3NpdGVNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIHByb3ZpZGVyczogW1xuICAgICAgICB7IHByb3ZpZGU6IERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCB1c2VWYWx1ZTogdHJ1ZSB9LFxuICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBvcGVuaW5nIGEgbW9kYWwgZGlhbG9nIHdpdGggdGhlIE1hdERpYWxvZyBzZXJ2aWNlLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogV2hldGhlciB0aGUgZGlhbG9nIGhhcyBhIGJhY2tkcm9wLiAqL1xuICAgICAgICB0aGlzLmhhc0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIHVzZXIgY2FuIHVzZSBlc2NhcGUgb3IgY2xpY2tpbmcgb24gdGhlIGJhY2tkcm9wIHRvIGNsb3NlIHRoZSBtb2RhbC4gKi9cbiAgICAgICAgdGhpcy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgLyoqIERhdGEgYmVpbmcgaW5qZWN0ZWQgaW50byB0aGUgY2hpbGQgY29tcG9uZW50LiAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgZGlhbG9nIHNob3VsZCBjbG9zZSB3aGVuIHRoZSB1c2VyIGdvZXMgYmFja3dhcmRzL2ZvcndhcmRzIGluIGhpc3RvcnkuXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGlzIHVzdWFsbHkgZG9lc24ndCBpbmNsdWRlIGNsaWNraW5nIG9uIGxpbmtzICh1bmxlc3MgdGhlIHVzZXIgaXMgdXNpbmdcbiAgICAgICAgICogdGhlIGBIYXNoTG9jYXRpb25TdHJhdGVneWApLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZU9uTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMubmF0aXZlT3B0aW9ucyA9IHt9O1xuICAgICAgICAvLyBUT0RPKGplbGJvdXJuKTogYWRkIGNvbmZpZ3VyYXRpb24gZm9yIGxpZmVjeWNsZSBob29rcywgQVJJQSBsYWJlbGxpbmcuXG4gICAgfVxufVxuXG4vLyBDb3VudGVyIGZvciB1bmlxdWUgZGlhbG9nIGlkcy5cbmxldCB1bmlxdWVJZCA9IDA7XG5jbGFzcyBOYXRpdmVEaWFsb2dSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVNb2RhbFJlZiwgaWQgPSBgbmF0aXZlLWRpYWxvZy0ke3VuaXF1ZUlkKyt9YCkge1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZiA9IF9uYXRpdmVNb2RhbFJlZjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgb3BlbmluZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgY2xvc2luZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLiAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogQ3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nLiAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDAgLyogTmF0aXZlRGlhbG9nU3RhdGUuT1BFTiAqLztcbiAgICAgICAgLy8gUGFzcyB0aGUgaWQgYWxvbmcgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLl9pZCA9IGlkO1xuICAgICAgICAvLyBFbWl0IHdoZW4gb3BlbmluZyBhbmltYXRpb24gY29tcGxldGVzXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnb3BlbmVkJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLm5leHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEaXNwb3NlIG92ZXJsYXkgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBpcyBjb21wbGV0ZVxuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NlZCcpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2xvc2VGYWxsYmFja1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfbmF0aXZlTW9kYWxSZWYub25EaXNtaXNzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBfbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVzdWx0IE9wdGlvbmFsIHJlc3VsdCB0byByZXR1cm4gdG8gdGhlIGRpYWxvZyBvcGVuZXIuXG4gICAgICovXG4gICAgY2xvc2UoZGlhbG9nUmVzdWx0KSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IGRpYWxvZ1Jlc3VsdDtcbiAgICAgICAgLy8gVHJhbnNpdGlvbiB0aGUgYmFja2Ryb3AgaW4gcGFyYWxsZWwgdG8gdGhlIGRpYWxvZy5cbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NpbmcnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dChkaWFsb2dSZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmRldGFjaEJhY2tkcm9wKCk7XG4gICAgICAgICAgICAvLyBUaGUgbG9naWMgdGhhdCBkaXNwb3NlcyBvZiB0aGUgb3ZlcmxheSBkZXBlbmRzIG9uIHRoZSBleGl0IGFuaW1hdGlvbiBjb21wbGV0aW5nLCBob3dldmVyXG4gICAgICAgICAgICAvLyBpdCBpc24ndCBndWFyYW50ZWVkIGlmIHRoZSBwYXJlbnQgdmlldyBpcyBkZXN0cm95ZWQgd2hpbGUgaXQncyBydW5uaW5nLiBBZGQgYSBmYWxsYmFja1xuICAgICAgICAgICAgLy8gdGltZW91dCB3aGljaCB3aWxsIGNsZWFuIGV2ZXJ5dGhpbmcgdXAgaWYgdGhlIGFuaW1hdGlvbiBoYXNuJ3QgZmlyZWQgd2l0aGluIHRoZSBzcGVjaWZpZWRcbiAgICAgICAgICAgIC8vIGFtb3VudCBvZiB0aW1lIHBsdXMgMTAwbXMuIFdlIGRvbid0IG5lZWQgdG8gcnVuIHRoaXMgb3V0c2lkZSB0aGUgTmdab25lLCBiZWNhdXNlIGZvciB0aGVcbiAgICAgICAgICAgIC8vIHZhc3QgbWFqb3JpdHkgb2YgY2FzZXMgdGhlIHRpbWVvdXQgd2lsbCBoYXZlIGJlZW4gY2xlYXJlZCBiZWZvcmUgaXQgaGFzIHRoZSBjaGFuY2UgdG8gZmlyZS5cbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlRmFsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgLy9ldmVudC50b3RhbFRpbWUgKyAxMDApO1xuICAgICAgICAgICAgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gMSAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5DTE9TSU5HICovO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5fc3RhcnRFeGl0QW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBvcGVuaW5nLlxuICAgICAqL1xuICAgIGFmdGVyT3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJPcGVuZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGFmdGVyQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJDbG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGJlZm9yZUNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZUNsb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2hlbiB0aGUgb3ZlcmxheSdzIGJhY2tkcm9wIGhhcyBiZWVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgYmFja2Ryb3BDbGljaygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIC8qKiBBZGQgYSBDU1MgY2xhc3Mgb3IgYW4gYXJyYXkgb2YgY2xhc3NlcyB0byB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIGFkZFBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmFkZFBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogUmVtb3ZlIGEgQ1NTIGNsYXNzIG9yIGFuIGFycmF5IG9mIGNsYXNzZXMgZnJvbSB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIHJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLnJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nJ3MgbGlmZWN5Y2xlLiAqL1xuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBkaWFsb2cgY2xvc2UgYnkgdXBkYXRpbmcgdGhlIHN0YXRlIG9mIHRoZSBkaWFsb2dcbiAgICAgKiBhbmQgZGlzcG9zaW5nIHRoZSBvdmVybGF5LlxuICAgICAqL1xuICAgIF9maW5pc2hEaWFsb2dDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAyIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLkNMT1NFRCAqLztcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgIH1cbn1cblxubGV0IE5hdGl2ZU1vZGFsUmVmID0gY2xhc3MgTmF0aXZlTW9kYWxSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9pbmplY3RvciwgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMub25EaXNtaXNzID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5faXNEaXNtaXNzZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHBhcmVudFZpZXcgPSAoKF9hID0gdGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpIHx8IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIGlmICgocGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3IHx8IHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0QXN5bmNWaWV3KSAmJiBwYXJlbnRWaWV3Lm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcubmdBcHBSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIF9uZ0RpYWxvZ1Jvb3QgaXMgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBwcmV2aW91c2x5IGRldGFjaGVkIHByb3h5LlxuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSAndmlld0NvbnRyb2xsZXInIChpT1MpIG9yICdfZGlhbG9nRnJhZ21lbnQnIChBbmRyb2lkKSBhdmFpbGFibGUgZm9yXG4gICAgICAgIC8vIHByZXNlbnRpbmcgZnV0dXJlIG1vZGFsIHZpZXdzLlxuICAgICAgICB3aGlsZSAocGFyZW50Vmlldy5fbW9kYWwgfHwgcGFyZW50Vmlldy5fbmdEaWFsb2dSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5fbW9kYWwgfHwgcGFyZW50Vmlldy5fbmdEaWFsb2dSb290O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50VmlldyA9IHBhcmVudFZpZXc7XG4gICAgICAgIHRoaXMuX2Nsb3NlQ2FsbGJhY2sgPSBvbmNlKCgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2luZycgfSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzRGlzbWlzc2VkKSB7XG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkICgoX2MgPSB0aGlzLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCkpO1xuICAgICAgICAgICAgLy8gdGhpcy5kZXRhY2hlZExvYWRlclJlZj8uZGVzdHJveSgpO1xuICAgICAgICAgICAgaWYgKChfZCA9IHRoaXMubW9kYWxWaWV3UmVmKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZmlyc3ROYXRpdmVMaWtlVmlldy5pc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIGZyb21FdmVudCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCAndW5sb2FkZWQnKVxuICAgICAgICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuc3RhdGVDaGFuZ2VkLm5leHQoeyBzdGF0ZTogJ2Nsb3NlZCcgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2VkJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBfZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lcih2Y1JlZikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9ICh0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgIGlmICh2Y1JlZikge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IHZjUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoKChfYSA9IHRoaXMuX2NvbmZpZy52aWV3Q29udGFpbmVyUmVmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5qZWN0b3IpIHx8IHRoaXMuX2luamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2luamVjdG9yLmdldChBcHBsaWNhdGlvblJlZikuYXR0YWNoVmlldyh0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdmNSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZiB8fCB0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lcih2Y1JlZik7XG4gICAgICAgIHBvcnRhbC52aWV3Q29udGFpbmVyUmVmID0gdGhpcy5kZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52YztcbiAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0VmlldywgdGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSwgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYodGVtcGxhdGVSZWYpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3WydfX25nX21vZGFsX2lkX18nXSA9IHRoaXMuX2lkO1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgY29uc3QgdXNlck9wdGlvbnMgPSB0aGlzLl9jb25maWcubmF0aXZlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3LnNob3dNb2RhbCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBjb250ZXh0OiBudWxsIH0sIHVzZXJPcHRpb25zKSwgeyBjbG9zZUNhbGxiYWNrOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHlpZWxkICgoX2EgPSB0aGlzLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSksIGNhbmNlbGFibGU6ICF0aGlzLl9jb25maWcuZGlzYWJsZUNsb3NlIH0pKTtcbiAgICAgICAgLy8gICBpZiAodGhpcy5tb2RhbFZpZXcgIT09IHRlbXBsYXRlUmVmLnJvb3ROb2Rlc1swXSkge1xuICAgICAgICAvLyAgICAgY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQuX25nRGlhbG9nUm9vdCA9IHRoaXMubW9kYWxWaWV3O1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlUmVmO1xuICAgIH1cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0VmlldywgdGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSwgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRSZWYgPSB0aGlzLnBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudFJlZik7XG4gICAgICAgIGlmICh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3ICE9PSB0aGlzLm1vZGFsVmlld1JlZi52aWV3KSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi52aWV3Ll9uZ0RpYWxvZ1Jvb3QgPSB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXdbJ19fbmdfbW9kYWxfaWRfXyddID0gdGhpcy5faWQ7XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICBjb25zdCB1c2VyT3B0aW9ucyA9IHRoaXMuX2NvbmZpZy5uYXRpdmVPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnBhcmVudFZpZXcuc2hvd01vZGFsKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGNvbnRleHQ6IG51bGwgfSwgdXNlck9wdGlvbnMpLCB7IGNsb3NlQ2FsbGJhY2s6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Rpc21pc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjaygpOyAvLyBjbG9zZSBjYWxsYmFjayBjYW4gb25seSBiZSBjYWxsZWQgb25jZSwgc28gd2UgY2FsbCBpdCBoZXJlIHRvIHNldHVwIHRoZSBleGl0IGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLm5leHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSksIGNhbmNlbGFibGU6ICF0aGlzLl9jb25maWcuZGlzYWJsZUNsb3NlIH0pKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgX3N0YXJ0RXhpdEFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VDYWxsYmFjaygpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldC5kaXNwb3NlKCk7XG4gICAgfVxuICAgIHN0YXJ0TW9kYWxOYXZpZ2F0aW9uKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudFZpZXcgaW5zdGFuY2VvZiBGcmFtZSA/IHRoaXMucGFyZW50VmlldyA6ICgoX2IgPSAoX2EgPSB0aGlzLnBhcmVudFZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYWdlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZnJhbWUpIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgKF9jID0gdGhpcy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSk7XG4gICAgfVxufTtcbk5hdGl2ZU1vZGFsUmVmID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgyLCBPcHRpb25hbCgpKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW05hdGl2ZURpYWxvZ0NvbmZpZywgSW5qZWN0b3IsIE5TTG9jYXRpb25TdHJhdGVneV0pXG5dLCBOYXRpdmVNb2RhbFJlZik7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIEluamVjdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFjY2VzcyB0aGUgZGF0YSB0aGF0IHdhcyBwYXNzZWQgaW4gdG8gYSBkaWFsb2cuICovXG5jb25zdCBOQVRJVkVfRElBTE9HX0RBVEEgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZURpYWxvZ0RhdGEnKTtcbi8qKiBJbmplY3Rpb24gdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGRlZmF1bHQgZGlhbG9nIG9wdGlvbnMuICovXG5jb25zdCBOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignbmF0aXZlLWRpYWxvZy1kZWZhdWx0LW9wdGlvbnMnKTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgZGlhbG9nIHNlcnZpY2VzLiBUaGUgYmFzZSBkaWFsb2cgc2VydmljZSBhbGxvd3NcbiAqIGZvciBhcmJpdHJhcnkgZGlhbG9nIHJlZnMgYW5kIGRpYWxvZyBjb250YWluZXIgY29tcG9uZW50cy5cbiAqL1xuY2xhc3MgX05hdGl2ZURpYWxvZ0Jhc2Uge1xuICAgIC8qKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy4gKi9cbiAgICBnZXQgb3BlbkRpYWxvZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnREaWFsb2cgPyB0aGlzLl9wYXJlbnREaWFsb2cub3BlbkRpYWxvZ3MgOiB0aGlzLl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsO1xuICAgIH1cbiAgICAvKiogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhIGRpYWxvZyBoYXMgYmVlbiBvcGVuZWQuICovXG4gICAgZ2V0IGFmdGVyT3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50RGlhbG9nID8gdGhpcy5fcGFyZW50RGlhbG9nLmFmdGVyT3BlbmVkIDogdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbDtcbiAgICB9XG4gICAgX2dldEFmdGVyQWxsQ2xvc2VkKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9wYXJlbnREaWFsb2c7XG4gICAgICAgIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuX2dldEFmdGVyQWxsQ2xvc2VkKCkgOiB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihfaW5qZWN0b3IsIF9kZWZhdWx0T3B0aW9ucywgX3BhcmVudERpYWxvZywgX2RpYWxvZ1JlZkNvbnN0cnVjdG9yLCBfbmF0aXZlTW9kYWxUeXBlLCBfZGlhbG9nRGF0YVRva2VuLCBsb2NhdGlvblN0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLl9kZWZhdWx0T3B0aW9ucyA9IF9kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgdGhpcy5fcGFyZW50RGlhbG9nID0gX3BhcmVudERpYWxvZztcbiAgICAgICAgdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IgPSBfZGlhbG9nUmVmQ29uc3RydWN0b3I7XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsVHlwZSA9IF9uYXRpdmVNb2RhbFR5cGU7XG4gICAgICAgIHRoaXMuX2RpYWxvZ0RhdGFUb2tlbiA9IF9kaWFsb2dEYXRhVG9rZW47XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneSA9IGxvY2F0aW9uU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwgPSBbXTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvLyBUT0RPIChqZWxib3Vybik6IHRpZ2h0ZW4gdGhlIHR5cGluZyByaWdodC1oYW5kIHNpZGUgb2YgdGhpcyBleHByZXNzaW9uLlxuICAgICAgICAvKipcbiAgICAgICAgICogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhbGwgb3BlbiBkaWFsb2cgaGF2ZSBmaW5pc2hlZCBjbG9zaW5nLlxuICAgICAgICAgKiBXaWxsIGVtaXQgb24gc3Vic2NyaWJlIGlmIHRoZXJlIGFyZSBubyBvcGVuIGRpYWxvZ3MgdG8gYmVnaW4gd2l0aC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWZ0ZXJBbGxDbG9zZWQgPSBkZWZlcigoKSA9PiAodGhpcy5vcGVuRGlhbG9ncy5sZW5ndGggPyB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpIDogdGhpcy5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKS5waXBlKHN0YXJ0V2l0aCh1bmRlZmluZWQpKSkpO1xuICAgIH1cbiAgICBvcGVuKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZykge1xuICAgICAgICBjb25maWcgPSBfYXBwbHlDb25maWdEZWZhdWx0cyhjb25maWcsIHRoaXMuX2RlZmF1bHRPcHRpb25zIHx8IG5ldyBOYXRpdmVEaWFsb2dDb25maWcoKSk7XG4gICAgICAgIGlmIChjb25maWcuaWQgJiYgdGhpcy5nZXREaWFsb2dCeUlkKGNvbmZpZy5pZCkgJiYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBEaWFsb2cgd2l0aCBpZCBcIiR7Y29uZmlnLmlkfVwiIGV4aXN0cyBhbHJlYWR5LiBUaGUgZGlhbG9nIGlkIG11c3QgYmUgdW5pcXVlLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHRoaXMuX2F0dGFjaERpYWxvZ0NvbnRlbnQoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5vcGVuRGlhbG9ncy5wdXNoKGRpYWxvZ1JlZik7XG4gICAgICAgIGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB0aGlzLl9yZW1vdmVPcGVuRGlhbG9nKGRpYWxvZ1JlZikpO1xuICAgICAgICB0aGlzLmFmdGVyT3BlbmVkLm5leHQoZGlhbG9nUmVmKTtcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBkaWFsb2cgY29udGFpbmVyIHRoYXQgdGhlIGNvbnRlbnQgaGFzIGJlZW4gYXR0YWNoZWQuXG4gICAgICAgIC8vIGRpYWxvZ0NvbnRhaW5lci5faW5pdGlhbGl6ZVdpdGhBdHRhY2hlZENvbnRlbnQoKTtcbiAgICAgICAgcmV0dXJuIGRpYWxvZ1JlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFsbCBvZiB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy5cbiAgICAgKi9cbiAgICBjbG9zZUFsbCgpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VEaWFsb2dzKHRoaXMub3BlbkRpYWxvZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyBhbiBvcGVuIGRpYWxvZyBieSBpdHMgaWQuXG4gICAgICogQHBhcmFtIGlkIElEIHRvIHVzZSB3aGVuIGxvb2tpbmcgdXAgdGhlIGRpYWxvZy5cbiAgICAgKi9cbiAgICBnZXREaWFsb2dCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5EaWFsb2dzLmZpbmQoKGRpYWxvZykgPT4gZGlhbG9nLmlkID09PSBpZCk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICAvLyBPbmx5IGNsb3NlIHRoZSBkaWFsb2dzIGF0IHRoaXMgbGV2ZWwgb24gZGVzdHJveVxuICAgICAgICAvLyBzaW5jZSB0aGUgcGFyZW50IHNlcnZpY2UgbWF5IHN0aWxsIGJlIGFjdGl2ZS5cbiAgICAgICAgdGhpcy5fY2xvc2VEaWFsb2dzKHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwpO1xuICAgICAgICB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwuY29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIHVzZXItcHJvdmlkZWQgY29tcG9uZW50IHRvIHRoZSBhbHJlYWR5LWNyZWF0ZWQgZGlhbG9nIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gY29tcG9uZW50T3JUZW1wbGF0ZVJlZiBUaGUgdHlwZSBvZiBjb21wb25lbnQgYmVpbmcgbG9hZGVkIGludG8gdGhlIGRpYWxvZyxcbiAgICAgKiAgICAgb3IgYSBUZW1wbGF0ZVJlZiB0byBpbnN0YW50aWF0ZSBhcyB0aGUgY29udGVudC5cbiAgICAgKiBAcGFyYW0gZGlhbG9nQ29udGFpbmVyIFJlZmVyZW5jZSB0byB0aGUgd3JhcHBpbmcgZGlhbG9nIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gb3ZlcmxheVJlZiBSZWZlcmVuY2UgdG8gdGhlIG92ZXJsYXkgaW4gd2hpY2ggdGhlIGRpYWxvZyByZXNpZGVzLlxuICAgICAqIEBwYXJhbSBjb25maWcgVGhlIGRpYWxvZyBjb25maWd1cmF0aW9uLlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIE1hdERpYWxvZ1JlZiB0aGF0IHNob3VsZCBiZSByZXR1cm5lZCB0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBfYXR0YWNoRGlhbG9nQ29udGVudChjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgcmVmZXJlbmNlIHRvIHRoZSBkaWFsb2cgd2UncmUgY3JlYXRpbmcgaW4gb3JkZXIgdG8gZ2l2ZSB0aGUgdXNlciBhIGhhbmRsZVxuICAgICAgICAvLyB0byBtb2RpZnkgYW5kIGNsb3NlIGl0LlxuICAgICAgICBjb25zdCBuYXRpdmVNb2RhbFJlZiA9IG5ldyB0aGlzLl9uYXRpdmVNb2RhbFR5cGUoY29uZmlnLCB0aGlzLl9pbmplY3RvciwgdGhpcy5sb2NhdGlvblN0cmF0ZWd5KTtcbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gbmV3IHRoaXMuX2RpYWxvZ1JlZkNvbnN0cnVjdG9yKG5hdGl2ZU1vZGFsUmVmLCBjb25maWcuaWQpO1xuICAgICAgICBpZiAoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiBpbnN0YW5jZW9mIFRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gb3B0aW9ucy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSwgMCwgY2hpbGRJbmplY3RvciwgbnVsbCk7XG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKGNoaWxkSW5qZWN0b3IpOyAvLyB0aGlzIERldGFjaGVkTG9hZGVyIGlzICoqY29tcGxldGVseSoqIGRldGFjaGVkXG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpOyAvLyB3ZSBhdHRhY2ggaXQgdG8gdGhlIGFwcGxpY2F0aW9uUmVmLCBzbyBpdCBiZWNvbWVzIGEgXCJyb290XCIgdmlldyBpbiBhbmd1bGFyJ3MgaGllcmFyY2h5XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTsgLy8gZm9yY2UgYSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UuY3JlYXRlVGVtcGxhdGVQb3J0YWwob3B0aW9ucy50ZW1wbGF0ZVJlZik7XG4gICAgICAgICAgICBuYXRpdmVNb2RhbFJlZi5hdHRhY2hUZW1wbGF0ZVBvcnRhbChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICBuZXcgVGVtcGxhdGVQb3J0YWwoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgbnVsbCwgeyAkaW1wbGljaXQ6IGNvbmZpZy5kYXRhLCBkaWFsb2dSZWYgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0b3IgPSB0aGlzLl9jcmVhdGVJbmplY3Rvcihjb25maWcsIGRpYWxvZ1JlZik7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50UmVmID0gbmF0aXZlTW9kYWxSZWYuYXR0YWNoQ29tcG9uZW50UG9ydGFsKG5ldyBDb21wb25lbnRQb3J0YWwoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnLnZpZXdDb250YWluZXJSZWYsIGluamVjdG9yKSk7XG4gICAgICAgICAgICBkaWFsb2dSZWYuY29tcG9uZW50SW5zdGFuY2UgPSBjb250ZW50UmVmLmluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWFsb2dSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjdXN0b20gaW5qZWN0b3IgdG8gYmUgdXNlZCBpbnNpZGUgdGhlIGRpYWxvZy4gVGhpcyBhbGxvd3MgYSBjb21wb25lbnQgbG9hZGVkIGluc2lkZVxuICAgICAqIG9mIGEgZGlhbG9nIHRvIGNsb3NlIGl0c2VsZiBhbmQsIG9wdGlvbmFsbHksIHRvIHJldHVybiBhIHZhbHVlLlxuICAgICAqIEBwYXJhbSBjb25maWcgQ29uZmlnIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gY29uc3RydWN0IHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIGRpYWxvZ1JlZiBSZWZlcmVuY2UgdG8gdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nQ29udGFpbmVyIERpYWxvZyBjb250YWluZXIgZWxlbWVudCB0aGF0IHdyYXBzIGFsbCBvZiB0aGUgY29udGVudHMuXG4gICAgICogQHJldHVybnMgVGhlIGN1c3RvbSBpbmplY3RvciB0aGF0IGNhbiBiZSB1c2VkIGluc2lkZSB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIF9jcmVhdGVJbmplY3Rvcihjb25maWcsIGRpYWxvZ1JlZikge1xuICAgICAgICBjb25zdCB1c2VySW5qZWN0b3IgPSBjb25maWcgJiYgY29uZmlnLnZpZXdDb250YWluZXJSZWYgJiYgY29uZmlnLnZpZXdDb250YWluZXJSZWYuaW5qZWN0b3I7XG4gICAgICAgIC8vIFRoZSBkaWFsb2cgY29udGFpbmVyIHNob3VsZCBiZSBwcm92aWRlZCBhcyB0aGUgZGlhbG9nIGNvbnRhaW5lciBhbmQgdGhlIGRpYWxvZydzXG4gICAgICAgIC8vIGNvbnRlbnQgYXJlIGNyZWF0ZWQgb3V0IG9mIHRoZSBzYW1lIGBWaWV3Q29udGFpbmVyUmVmYCBhbmQgYXMgc3VjaCwgYXJlIHNpYmxpbmdzXG4gICAgICAgIC8vIGZvciBpbmplY3RvciBwdXJwb3Nlcy4gVG8gYWxsb3cgdGhlIGhpZXJhcmNoeSB0aGF0IGlzIGV4cGVjdGVkLCB0aGUgZGlhbG9nXG4gICAgICAgIC8vIGNvbnRhaW5lciBpcyBleHBsaWNpdGx5IHByb3ZpZGVkIGluIHRoZSBpbmplY3Rvci5cbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gW1xuICAgICAgICAgICAgeyBwcm92aWRlOiB0aGlzLl9kaWFsb2dEYXRhVG9rZW4sIHVzZVZhbHVlOiBjb25maWcuZGF0YSB9LFxuICAgICAgICAgICAgeyBwcm92aWRlOiB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvciwgdXNlVmFsdWU6IGRpYWxvZ1JlZiB9LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gSW5qZWN0b3IuY3JlYXRlKHsgcGFyZW50OiB1c2VySW5qZWN0b3IgfHwgdGhpcy5faW5qZWN0b3IsIHByb3ZpZGVycyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRpYWxvZyBmcm9tIHRoZSBhcnJheSBvZiBvcGVuIGRpYWxvZ3MuXG4gICAgICogQHBhcmFtIGRpYWxvZ1JlZiBEaWFsb2cgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBfcmVtb3ZlT3BlbkRpYWxvZyhkaWFsb2dSZWYpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9wZW5EaWFsb2dzLmluZGV4T2YoZGlhbG9nUmVmKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkRpYWxvZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIElmIGFsbCB0aGUgZGlhbG9ncyB3ZXJlIGNsb3NlZCwgcmVtb3ZlL3Jlc3RvcmUgdGhlIGBhcmlhLWhpZGRlbmBcbiAgICAgICAgICAgIC8vIHRvIGEgdGhlIHNpYmxpbmdzIGFuZCBlbWl0IHRvIHRoZSBgYWZ0ZXJBbGxDbG9zZWRgIHN0cmVhbS5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcGVuRGlhbG9ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ2xvc2VzIGFsbCBvZiB0aGUgZGlhbG9ncyBpbiBhbiBhcnJheS4gKi9cbiAgICBfY2xvc2VEaWFsb2dzKGRpYWxvZ3MpIHtcbiAgICAgICAgbGV0IGkgPSBkaWFsb2dzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgLy8gVGhlIGBfb3BlbkRpYWxvZ3NgIHByb3BlcnR5IGlzbid0IHVwZGF0ZWQgYWZ0ZXIgY2xvc2UgdW50aWwgdGhlIHJ4anMgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICAvLyBydW5zIG9uIHRoZSBuZXh0IG1pY3JvdGFzaywgaW4gYWRkaXRpb24gdG8gbW9kaWZ5aW5nIHRoZSBhcnJheSBhcyB3ZSdyZSBnb2luZ1xuICAgICAgICAgICAgLy8gdGhyb3VnaCBpdC4gV2UgbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGVtIGFuZCBjYWxsIGNsb3NlIHdpdGhvdXQgYXNzdW1pbmcgdGhhdFxuICAgICAgICAgICAgLy8gdGhleSdsbCBiZSByZW1vdmVkIGZyb20gdGhlIGxpc3QgaW5zdGFudGFuZW91c2x5LlxuICAgICAgICAgICAgZGlhbG9nc1tpXS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuX05hdGl2ZURpYWxvZ0Jhc2UuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIGRlcHM6IFwiaW52YWxpZFwiLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbl9OYXRpdmVEaWFsb2dCYXNlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogX05hdGl2ZURpYWxvZ0Jhc2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5JbmplY3RvciB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IGkwLlR5cGUgfSwgeyB0eXBlOiBpMC5UeXBlIH0sIHsgdHlwZTogaTAuSW5qZWN0aW9uVG9rZW4gfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV07IH0gfSk7XG4vKipcbiAqIFNlcnZpY2UgdG8gb3BlbiBNYXRlcmlhbCBEZXNpZ24gbW9kYWwgZGlhbG9ncy5cbiAqL1xuY2xhc3MgTmF0aXZlRGlhbG9nU2VydmljZSBleHRlbmRzIF9OYXRpdmVEaWFsb2dCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihpbmplY3RvciwgZGVmYXVsdE9wdGlvbnMsIHBhcmVudERpYWxvZywgbG9jYXRpb24pIHtcbiAgICAgICAgc3VwZXIoaW5qZWN0b3IsIGRlZmF1bHRPcHRpb25zLCBwYXJlbnREaWFsb2csIE5hdGl2ZURpYWxvZ1JlZiwgTmF0aXZlTW9kYWxSZWYsIE5BVElWRV9ESUFMT0dfREFUQSwgbG9jYXRpb24pO1xuICAgIH1cbn1cbk5hdGl2ZURpYWxvZ1NlcnZpY2UuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVwczogW3sgdG9rZW46IGkwLkluamVjdG9yIH0sIHsgdG9rZW46IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5LCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTmF0aXZlRGlhbG9nU2VydmljZS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IGkwLkluamVjdG9yIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nQ29uZmlnLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW05BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TXVxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIH1dIH1dO1xuICAgIH0gfSk7XG4vKipcbiAqIEFwcGxpZXMgZGVmYXVsdCBvcHRpb25zIHRvIHRoZSBkaWFsb2cgY29uZmlnLlxuICogQHBhcmFtIGNvbmZpZyBDb25maWcgdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0gZGVmYXVsdE9wdGlvbnMgRGVmYXVsdCBvcHRpb25zIHByb3ZpZGVkLlxuICogQHJldHVybnMgVGhlIG5ldyBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gX2FwcGx5Q29uZmlnRGVmYXVsdHMoY29uZmlnLCBkZWZhdWx0T3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zKSwgY29uZmlnKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJ1dHRvbiB0aGF0IHdpbGwgY2xvc2UgdGhlIGN1cnJlbnQgZGlhbG9nLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGRpYWxvZyB0aXRsZSBkaXJlY3RpdmUgaXMgYWx3YXlzIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBhIGBNYXREaWFsb2dSZWZgLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbGlnaHR3ZWlnaHQtdG9rZW5zXG4gICAgZGlhbG9nUmVmLCBfZWxlbWVudFJlZiwgX2RpYWxvZykge1xuICAgICAgICB0aGlzLmRpYWxvZ1JlZiA9IGRpYWxvZ1JlZjtcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IF9lbGVtZW50UmVmO1xuICAgICAgICB0aGlzLl9kaWFsb2cgPSBfZGlhbG9nO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxvZ1JlZikge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGlzIGRpcmVjdGl2ZSBpcyBpbmNsdWRlZCBpbiBhIGRpYWxvZyB2aWEgVGVtcGxhdGVSZWYgKHJhdGhlciB0aGFuIGJlaW5nXG4gICAgICAgICAgICAvLyBpbiBhIENvbXBvbmVudCksIHRoZSBEaWFsb2dSZWYgaXNuJ3QgYXZhaWxhYmxlIHZpYSBpbmplY3Rpb24gYmVjYXVzZSBlbWJlZGRlZFxuICAgICAgICAgICAgLy8gdmlld3MgY2Fubm90IGJlIGdpdmVuIGEgY3VzdG9tIGluamVjdG9yLiBJbnN0ZWFkLCB3ZSBsb29rIHVwIHRoZSBEaWFsb2dSZWYgYnlcbiAgICAgICAgICAgIC8vIElELiBUaGlzIG11c3Qgb2NjdXIgaW4gYG9uSW5pdGAsIGFzIHRoZSBJRCBiaW5kaW5nIGZvciB0aGUgZGlhbG9nIGNvbnRhaW5lciB3b24ndFxuICAgICAgICAgICAgLy8gYmUgcmVzb2x2ZWQgYXQgY29uc3RydWN0b3IgdGltZS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1JlZiA9IGdldENsb3Nlc3REaWFsb2codGhpcy5fZWxlbWVudFJlZiwgdGhpcy5fZGlhbG9nLm9wZW5EaWFsb2dzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHByb3hpZWRDaGFuZ2UgPSBjaGFuZ2VzWydfbWF0RGlhbG9nQ2xvc2UnXSB8fCBjaGFuZ2VzWydfbWF0RGlhbG9nQ2xvc2VSZXN1bHQnXTtcbiAgICAgICAgaWYgKHByb3hpZWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nUmVzdWx0ID0gcHJveGllZENoYW5nZS5jdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uQnV0dG9uQ2xpY2soKSB7XG4gICAgICAgIC8vIERldGVybWluYXRlIHRoZSBmb2N1cyBvcmlnaW4gdXNpbmcgdGhlIGNsaWNrIGV2ZW50LCBiZWNhdXNlIHVzaW5nIHRoZSBGb2N1c01vbml0b3Igd2lsbFxuICAgICAgICAvLyByZXN1bHQgaW4gaW5jb3JyZWN0IG9yaWdpbnMuIE1vc3Qgb2YgdGhlIHRpbWUsIGNsb3NlIGJ1dHRvbnMgd2lsbCBiZSBhdXRvIGZvY3VzZWQgaW4gdGhlXG4gICAgICAgIC8vIGRpYWxvZywgYW5kIHRoZXJlZm9yZSBjbGlja2luZyB0aGUgYnV0dG9uIHdvbid0IHJlc3VsdCBpbiBhIGZvY3VzIGNoYW5nZS4gVGhpcyBtZWFucyB0aGF0XG4gICAgICAgIC8vIHRoZSBGb2N1c01vbml0b3Igd29uJ3QgZGV0ZWN0IGFueSBvcmlnaW4gY2hhbmdlLCBhbmQgd2lsbCBhbHdheXMgb3V0cHV0IGBwcm9ncmFtYC5cbiAgICAgICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UodGhpcy5kaWFsb2dSZXN1bHQpO1xuICAgIH1cbn1cbk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogTmF0aXZlRGlhbG9nUmVmLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IE5hdGl2ZURpYWxvZ1NlcnZpY2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIltuYXRpdmUtZGlhbG9nLWNsb3NlXSwgW25hdGl2ZURpYWxvZ0Nsb3NlXVwiLCBpbnB1dHM6IHsgZGlhbG9nUmVzdWx0OiBbXCJuYXRpdmUtZGlhbG9nLWNsb3NlXCIsIFwiZGlhbG9nUmVzdWx0XCJdLCBfbWF0RGlhbG9nQ2xvc2U6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCIsIFwiX21hdERpYWxvZ0Nsb3NlXCJdIH0sIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidGFwXCI6IFwiX29uQnV0dG9uQ2xpY2soKVwiIH0gfSwgZXhwb3J0QXM6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCJdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuYXRpdmUtZGlhbG9nLWNsb3NlXSwgW25hdGl2ZURpYWxvZ0Nsb3NlXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnbmF0aXZlRGlhbG9nQ2xvc2UnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogTmF0aXZlRGlhbG9nUmVmLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9XTtcbiAgICB9LCBwcm9wRGVjb3JhdG9yczogeyBkaWFsb2dSZXN1bHQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyduYXRpdmUtZGlhbG9nLWNsb3NlJ11cbiAgICAgICAgICAgIH1dLCBfbWF0RGlhbG9nQ2xvc2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyduYXRpdmVEaWFsb2dDbG9zZSddXG4gICAgICAgICAgICB9XSwgX29uQnV0dG9uQ2xpY2s6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdExpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsndGFwJ11cbiAgICAgICAgICAgIH1dIH0gfSk7XG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IE1hdERpYWxvZ1JlZiB0byBhbiBlbGVtZW50IGJ5IGxvb2tpbmcgYXQgdGhlIERPTS5cbiAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgcmVsYXRpdmUgdG8gd2hpY2ggdG8gbG9vayBmb3IgYSBkaWFsb2cuXG4gKiBAcGFyYW0gb3BlbkRpYWxvZ3MgUmVmZXJlbmNlcyB0byB0aGUgY3VycmVudGx5LW9wZW4gZGlhbG9ncy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2xvc2VzdERpYWxvZyhlbGVtZW50LCBvcGVuRGlhbG9ncykge1xuICAgIGxldCB2aWV3ID0gZWxlbWVudC5uYXRpdmVFbGVtZW50LnBhcmVudDtcbiAgICB3aGlsZSAodmlldyAmJiAhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmlldywgJ19fbmdfbW9kYWxfaWRfXycpKSB7XG4gICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXcgPyBvcGVuRGlhbG9ncy5maW5kKChkaWFsb2cpID0+IGRpYWxvZy5pZCA9PT0gdmlld1snX19uZ19tb2RhbF9pZF9fJ10pIDogbnVsbDtcbn1cblxuY2xhc3MgTmF0aXZlRGlhbG9nTW9kdWxlIHtcbn1cbk5hdGl2ZURpYWxvZ01vZHVsZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuTmF0aXZlRGlhbG9nTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlY2xhcmF0aW9uczogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSwgZXhwb3J0czogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSB9KTtcbk5hdGl2ZURpYWxvZ01vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBwcm92aWRlcnM6IFtOYXRpdmVEaWFsb2dTZXJ2aWNlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW05hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTmF0aXZlRGlhbG9nU2VydmljZV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8vIEFsbG93cyBncmVhdGVyIGZsZXhpYmlsaXR5IHdpdGggYGZpbGUtc3lzdGVtYCBhbmQgQW5ndWxhclxuLy8gQWxzbyBwcm92aWRlcyBhIHdheSBmb3IgYGZpbGUtc3lzdGVtYCB0byBiZSBtb2NrZWQgZm9yIHRlc3RpbmdcbmNsYXNzIE5TRmlsZVN5c3RlbSB7XG4gICAgY3VycmVudEFwcCgpIHtcbiAgICAgICAgcmV0dXJuIGtub3duRm9sZGVycy5jdXJyZW50QXBwKCk7XG4gICAgfVxuICAgIGZpbGVGcm9tUGF0aChwYXRoKSB7XG4gICAgICAgIHJldHVybiBGaWxlLmZyb21QYXRoKHBhdGgpO1xuICAgIH1cbiAgICBmaWxlRXhpc3RzKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIEZpbGUuZXhpc3RzKHBhdGgpO1xuICAgIH1cbn1cbk5TRmlsZVN5c3RlbS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5OU0ZpbGVTeXN0ZW0uybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRmlsZVN5c3RlbSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIGNyZWF0ZXMgYSBEZXRhY2hlZExvYWRlciBlaXRoZXIgbGlua2VkIHRvIHRoZSBWaWV3Q29udGFpbmVyUmVmIG9yIHRoZSBBcHBsaWNhdGlvblJlZiBpZiBWaWV3Q29udGFpbmVyUmVmIGlzIG5vdCBkZWZpbmVkXG4gKiBAcGFyYW0gcmVzb2x2ZXIgY29tcG9uZW50IGZhY3RvcnkgcmVzb2x2ZXJcbiAqIEBwYXJhbSBpbmplY3RvciBkZWZhdWx0IGluamVjdG9yLCB1bnVzZWQgaWYgdmlld0NvbnRhaW5lclJlZiBpcyBzZXRcbiAqIEBwYXJhbSB2aWV3Q29udGFpbmVyUmVmIHdoZXJlIHRoZSB2aWV3IHNob3VsZCBsaXZlIGluIHRoZSBhbmd1bGFyIHRyZWVcbiAqIEByZXR1cm5zIHJlZmVyZW5jZSB0byB0aGUgRGV0YWNoZWRMb2FkZXJcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVEZXRhY2hlZExvYWRlcihyZXNvbHZlciwgaW5qZWN0b3IsIHZpZXdDb250YWluZXJSZWYpIHtcbiAgICBpbmplY3RvciA9ICh2aWV3Q29udGFpbmVyUmVmID09PSBudWxsIHx8IHZpZXdDb250YWluZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZXdDb250YWluZXJSZWYuaW5qZWN0b3IpIHx8IGluamVjdG9yO1xuICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICBjb25zdCBkZXRhY2hlZExvYWRlclJlZiA9ICh2aWV3Q29udGFpbmVyUmVmID09PSBudWxsIHx8IHZpZXdDb250YWluZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSkpIHx8IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoaW5qZWN0b3IpO1xuICAgIGlmICghdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgcmV0dXJuIGRldGFjaGVkTG9hZGVyUmVmO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBOZ1ZpZXdSZWYgZnJvbSBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZS4gQHNlZSBOZ1ZpZXdSZWZcbiAqIFBhc3Mga2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCBhcyBgdHJ1ZWAgaWYgeW91IGRvbid0IHdhbnQgdGhlIGZpcnN0IG5hdGl2ZSB2aWV3IHRvIGJlIGRldGFjaGVkIGZyb20gaXRzIHBhcmVudC5cbiAqIEZvciBvcGVuaW5nIG1vZGFscyBhbmQgb3RoZXJzLCB0aGUgZmlyc3ROYXRpdmVMaWtlVmlldyBzaG91bGQgYmUgZGV0YWNoZWQuXG4gKiBAcGFyYW0gdHlwZU9yVGVtcGxhdGUgQ29tcG9uZW50VHlwZSBvciBUZW1wbGF0ZVJlZiB0aGF0IHNob3VsZCBiZSBpbnN0YW5jZWRcbiAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSB2aWV3XG4gKiBAcmV0dXJucyBOZ1ZpZXdSZWZcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3KHR5cGVPclRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgY29uc3QgcmV1c2luZ0RldGFjaGVkTG9hZGVyID0gISFkZXRhY2hlZExvYWRlclJlZjtcbiAgICBpZiAocmV1c2luZ0RldGFjaGVkTG9hZGVyKSB7XG4gICAgICAgIG9wdGlvbnMudmlld0NvbnRhaW5lclJlZiA9IGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RvciA9ICgoX2EgPSBvcHRpb25zLnZpZXdDb250YWluZXJSZWYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmplY3RvcikgfHwgb3B0aW9ucy5pbmplY3RvcjtcbiAgICBjb25zdCByZXNvbHZlciA9IG9wdGlvbnMucmVzb2x2ZXIgfHwgaW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgaWYgKCFkZXRhY2hlZExvYWRlclJlZiAmJiAob3B0aW9ucy52aWV3Q29udGFpbmVyUmVmIHx8IHR5cGVPclRlbXBsYXRlIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpKSB7XG4gICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZ2VuZXJhdGVEZXRhY2hlZExvYWRlcihyZXNvbHZlciwgaW5qZWN0b3IsIG9wdGlvbnMudmlld0NvbnRhaW5lclJlZik7XG4gICAgfVxuICAgIGxldCBwb3J0YWw7XG4gICAgaWYgKHR5cGVPclRlbXBsYXRlIGluc3RhbmNlb2YgVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgcG9ydGFsID0gbmV3IFRlbXBsYXRlUG9ydGFsKHR5cGVPclRlbXBsYXRlLCBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52Yyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwb3J0YWwgPSBuZXcgQ29tcG9uZW50UG9ydGFsKHR5cGVPclRlbXBsYXRlLCBkZXRhY2hlZExvYWRlclJlZiA9PT0gbnVsbCB8fCBkZXRhY2hlZExvYWRlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmMpO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgY29uc3QgcG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldChwYXJlbnRWaWV3LCByZXNvbHZlciwgaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgaW5qZWN0b3IpO1xuICAgIGNvbnN0IGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgPSBwb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgY29tcG9uZW50T3JUZW1wbGF0ZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBwb3J0YWxPdXRsZXQuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIGlmIChkZXRhY2hlZExvYWRlclJlZiAmJiAhcmV1c2luZ0RldGFjaGVkTG9hZGVyKSB7XG4gICAgICAgIGNvbXBvbmVudE9yVGVtcGxhdGVSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYpO1xuICAgIHZpZXdSZWYuZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZExvYWRlclJlZjtcbiAgICBpZiAoIW9wdGlvbnMua2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCkge1xuICAgICAgICB2aWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3UmVmO1xufVxuXG5jbGFzcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSAwO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZWdpc3Rlck9uQ2hhbmdlKGZuKSB7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSAoYXJnKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGZuKGFyZyk7XG4gICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT25Ub3VjaGVkKGZuKSB7XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gICAgfVxuICAgIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZCkge1xuICAgICAgICB0aGlzLnZpZXcuaXNFbmFibGVkID0gIWlzRGlzYWJsZWQ7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUoXykge1xuICAgICAgICAvL1xuICAgIH1cbiAgICBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXNCbGFuayh2YWx1ZSkgPyB1bnNldFZhbHVlIDogdmFsdWU7XG4gICAgfVxufVxuXG5jb25zdCBURVhUX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRleHRWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igd3JpdGluZyBhIHRleHQgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxUZXh0RmllbGQgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIFRleHRWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUgPyBgJHt2YWx1ZX1gIDogdmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcudGV4dCA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxufVxuVGV4dFZhbHVlQWNjZXNzb3IuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGV4dFZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcblRleHRWYWx1ZUFjY2Vzc29yLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJUZXh0RmllbGRbbmdNb2RlbF0sVGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sVGV4dEZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0RmllbGRbbmdNb2RlbF0sdGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dEZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0ZmllbGRbbmdNb2RlbF0sdGV4dGZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dGZpZWxkW2Zvcm1Db250cm9sXSx0ZXh0LWZpZWxkW25nTW9kZWxdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sXSxUZXh0Vmlld1tuZ01vZGVsXSxUZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLFRleHRWaWV3W2Zvcm1Db250cm9sXSx0ZXh0Vmlld1tuZ01vZGVsXSx0ZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHRWaWV3W2Zvcm1Db250cm9sXSx0ZXh0dmlld1tuZ01vZGVsXSx0ZXh0dmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHR2aWV3W2Zvcm1Db250cm9sXSx0ZXh0LXZpZXdbbmdNb2RlbF0sdGV4dC12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dC12aWV3W2Zvcm1Db250cm9sXSxTZWFyY2hCYXJbbmdNb2RlbF0sU2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VhcmNoQmFyW2Zvcm1Db250cm9sXSxzZWFyY2hCYXJbbmdNb2RlbF0sc2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoQmFyW2Zvcm1Db250cm9sXSxzZWFyY2hiYXJbbmdNb2RlbF0sc2VhcmNoYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoYmFyW2Zvcm1Db250cm9sXSxzZWFyY2gtYmFyW25nTW9kZWxdLCBzZWFyY2gtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoLWJhcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJibHVyXCI6IFwib25Ub3VjaGVkKClcIiwgXCJ0ZXh0Q2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbVEVYVF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUZXh0RmllbGRbbmdNb2RlbF0sVGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sVGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0RmllbGRbbmdNb2RlbF0sdGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0ZmllbGRbbmdNb2RlbF0sdGV4dGZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dGZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkW25nTW9kZWxdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUZXh0Vmlld1tuZ01vZGVsXSxUZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLFRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0Vmlld1tuZ01vZGVsXSx0ZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0dmlld1tuZ01vZGVsXSx0ZXh0dmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHR2aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LXZpZXdbbmdNb2RlbF0sdGV4dC12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dC12aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWFyY2hCYXJbbmdNb2RlbF0sU2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hCYXJbbmdNb2RlbF0sc2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hiYXJbbmdNb2RlbF0sc2VhcmNoYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2gtYmFyW25nTW9kZWxdLCBzZWFyY2gtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoLWJhcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtURVhUX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoYmx1ciknOiAnb25Ub3VjaGVkKCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyh0ZXh0Q2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IENIRUNLRURfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hlY2tlZFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgY2hlY2tlZCBwcm9wZXJ0eSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFN3aXRjaCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgQ2hlY2tlZFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy5jaGVja2VkID0gbm9ybWFsaXplZDtcbiAgICB9XG59XG5DaGVja2VkVmFsdWVBY2Nlc3Nvci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuQ2hlY2tlZFZhbHVlQWNjZXNzb3IuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlN3aXRjaFtuZ01vZGVsXSxTd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxTd2l0Y2hbZm9ybUNvbnRyb2xdLHN3aXRjaFtuZ01vZGVsXSxzd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxzd2l0Y2hbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiY2hlY2tlZENoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW0NIRUNLRURfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU3dpdGNoW25nTW9kZWxdLFN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLFN3aXRjaFtmb3JtQ29udHJvbF0sJyArICdzd2l0Y2hbbmdNb2RlbF0sc3dpdGNoW2Zvcm1Db250cm9sTmFtZV0sc3dpdGNoW2Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW0NIRUNLRURfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhjaGVja2VkQ2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IERBVEVfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF0ZVZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgZGF0ZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPERhdGVQaWNrZXIgWyhuZ01vZGVsKV09XCJtb2RlbC50ZXN0XCI+XG4gKiAgYGBgXG4gKi9cbmNsYXNzIERhdGVWYWx1ZUFjY2Vzc29yIGV4dGVuZHMgQmFzZVZhbHVlQWNjZXNzb3Ige1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRSZWYpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gc3VwZXIubm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICB0aGlzLnZpZXcuZGF0ZSA9IG5vcm1hbGl6ZWQ7XG4gICAgfVxufVxuRGF0ZVZhbHVlQWNjZXNzb3IuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbkRhdGVWYWx1ZUFjY2Vzc29yLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJEYXRlUGlja2VyW25nTW9kZWxdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSxkYXRlUGlja2VyW25nTW9kZWxdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlLXBpY2tlcltuZ01vZGVsXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImRhdGVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGF0ZVZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0RhdGVQaWNrZXJbbmdNb2RlbF0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZXBpY2tlcltuZ01vZGVsXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZXBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlUGlja2VyW25nTW9kZWxdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGUtcGlja2VyW25nTW9kZWxdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbREFURV9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGRhdGVDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY29uc3QgVElNRV9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUaW1lVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSB0aW1lIGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8VGltZVBpY2tlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgVGltZVZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy50aW1lID0gbm9ybWFsaXplZDtcbiAgICB9XG59XG5UaW1lVmFsdWVBY2Nlc3Nvci7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuVGltZVZhbHVlQWNjZXNzb3IuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogVGltZVZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlRpbWVQaWNrZXJbbmdNb2RlbF0sVGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWVwaWNrZXJbbmdNb2RlbF0sdGltZXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWVQaWNrZXJbbmdNb2RlbF0sdGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLHRpbWUtcGlja2VyW25nTW9kZWxdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidGltZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW1RJTUVfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnVGltZVBpY2tlcltuZ01vZGVsXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sVGltZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lcGlja2VyW25nTW9kZWxdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWVQaWNrZXJbbmdNb2RlbF0sdGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZS1waWNrZXJbbmdNb2RlbF0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtUSU1FX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcodGltZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBOVU1CRVJfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTnVtYmVyVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSB2YWx1ZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9XG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFNsaWRlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgTnVtYmVyVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnZhbHVlID0gbm9ybWFsaXplZDtcbiAgICB9XG59XG5OdW1iZXJWYWx1ZUFjY2Vzc29yLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbk51bWJlclZhbHVlQWNjZXNzb3IuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgdHlwZTogTnVtYmVyVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU2xpZGVyW25nTW9kZWxdLFNsaWRlcltmb3JtQ29udHJvbE5hbWVdLFNsaWRlcltmb3JtQ29udHJvbF0sc2xpZGVyW25nTW9kZWxdLHNsaWRlcltmb3JtQ29udHJvbE5hbWVdLHNsaWRlcltmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJ2YWx1ZUNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW05VTUJFUl9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1NsaWRlcltuZ01vZGVsXSxTbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxTbGlkZXJbZm9ybUNvbnRyb2xdLCcgKyAnc2xpZGVyW25nTW9kZWxdLHNsaWRlcltmb3JtQ29udHJvbE5hbWVdLHNsaWRlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOVU1CRVJfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyh2YWx1ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBzZWxlY3RlZEluZGV4IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U2VnbWVudGVkQmFyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm1heC1saW5lLWxlbmd0aCBkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSBub3JtYWxpemVkO1xuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudmlld0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLnZhbHVlO1xuICAgIH1cbn1cblNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5TZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvci7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU2VnbWVudGVkQmFyW25nTW9kZWxdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkQmFyW25nTW9kZWxdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkYmFyW25nTW9kZWxdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbF0sc2VnbWVudGVkLWJhcltuZ01vZGVsXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbF0sTGlzdFBpY2tlcltuZ01vZGVsXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sTGlzdFBpY2tlcltmb3JtQ29udHJvbF0sbGlzdFBpY2tlcltuZ01vZGVsXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdFBpY2tlcltmb3JtQ29udHJvbF0sbGlzdHBpY2tlcltuZ01vZGVsXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdHBpY2tlcltmb3JtQ29udHJvbF0sbGlzdC1waWNrZXJbbmdNb2RlbF0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbF0sVGFiVmlld1tuZ01vZGVsXSxUYWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGFiVmlld1tmb3JtQ29udHJvbF0sdGFiVmlld1tuZ01vZGVsXSx0YWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiVmlld1tmb3JtQ29udHJvbF0sdGFidmlld1tuZ01vZGVsXSx0YWJ2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFidmlld1tmb3JtQ29udHJvbF0sdGFiLXZpZXdbbmdNb2RlbF0sdGFiLXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWItdmlld1tmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnU2VnbWVudGVkQmFyW25nTW9kZWxdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLFNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkQmFyW25nTW9kZWxdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZEJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkYmFyW25nTW9kZWxdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZGJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VnbWVudGVkLWJhcltuZ01vZGVsXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTGlzdFBpY2tlcltuZ01vZGVsXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sTGlzdFBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdFBpY2tlcltuZ01vZGVsXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdFBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdHBpY2tlcltuZ01vZGVsXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdHBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGlzdC1waWNrZXJbbmdNb2RlbF0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGFiVmlld1tuZ01vZGVsXSxUYWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sVGFiVmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiVmlld1tuZ01vZGVsXSx0YWJWaWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiVmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFidmlld1tuZ01vZGVsXSx0YWJ2aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFidmlld1tmb3JtQ29udHJvbF0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGFiLXZpZXdbbmdNb2RlbF0sdGFiLXZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWItdmlld1tmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUl0sXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKHNlbGVjdGVkSW5kZXhDaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY2xhc3MgTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUge1xufVxuTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLCBpbXBvcnRzOiBbRm9ybXNNb2R1bGVdLCBleHBvcnRzOiBbRm9ybXNNb2R1bGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0gfSk7XG5OYXRpdmVTY3JpcHRGb3Jtc01vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIGltcG9ydHM6IFtGb3Jtc01vZHVsZSwgRm9ybXNNb2R1bGVdIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbRm9ybXNNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbRm9ybXNNb2R1bGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmNvbnN0IERBU0hfQ0FTRV9SRUdFWFAgPSAvLSsoW2EtejAtOV0pL2c7XG5mdW5jdGlvbiBkYXNoQ2FzZVRvQ2FtZWxDYXNlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoREFTSF9DQVNFX1JFR0VYUCwgKC4uLm0pID0+IG1bMV0udG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbihzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSB7XG4gICAgY29uc3QgaW5mbyA9IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uSW5mbyhzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICByZXR1cm4gS2V5ZnJhbWVBbmltYXRpb24ua2V5ZnJhbWVBbmltYXRpb25Gcm9tSW5mbyhpbmZvKTtcbn1cbmNvbnN0IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uSW5mbyA9IChzdHlsZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKSA9PiAoe1xuICAgIGlzRm9yd2FyZHM6IHRydWUsXG4gICAgZHVyYXRpb246IGR1cmF0aW9uIHx8IDAuMDEsXG4gICAgZGVsYXksXG4gICAgY3VydmU6IGdldEN1cnZlKGVhc2luZyksXG4gICAga2V5ZnJhbWVzOiBzdHlsZXMubWFwKHBhcnNlQW5pbWF0aW9uS2V5ZnJhbWUpLFxufSk7XG5jb25zdCBnZXRDdXJ2ZSA9ICh2YWx1ZSkgPT4gYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIodmFsdWUpO1xuY29uc3QgcGFyc2VBbmltYXRpb25LZXlmcmFtZSA9IChzdHlsZXMpID0+ICh7XG4gICAgZHVyYXRpb246IGdldEtleWZyYW1lRHVyYXRpb24oc3R5bGVzKSxcbiAgICBkZWNsYXJhdGlvbnM6IGdldERlY2xhcmF0aW9ucyhzdHlsZXMpLFxufSk7XG5jb25zdCBnZXRLZXlmcmFtZUR1cmF0aW9uID0gKHN0eWxlcykgPT4gc3R5bGVzLm9mZnNldDtcbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9ucyhzdHlsZXMpIHtcbiAgICBjb25zdCBrZXlzID0gQXJyYXkuZnJvbShzdHlsZXMua2V5cygpKTtcbiAgICBjb25zdCB1bnBhcnNlZERlY2xhcmF0aW9ucyA9IGtleXMubWFwKChwcm9wZXJ0eSkgPT4gKHsgcHJvcGVydHksIHZhbHVlOiBzdHlsZXMuZ2V0KHByb3BlcnR5KSB9KSk7XG4gICAgcmV0dXJuIHBhcnNlS2V5ZnJhbWVEZWNsYXJhdGlvbnModW5wYXJzZWREZWNsYXJhdGlvbnMpO1xufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMucGFyZW50UGxheWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0S2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgfVxuICAgIGdldCB0b3RhbFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGF5ICsgdGhpcy5kdXJhdGlvbjtcbiAgICB9XG4gICAgaW5pdCgpIHsgfVxuICAgIGhhc1N0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydGVkO1xuICAgIH1cbiAgICBvblN0YXJ0KGZuKSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgb25Eb25lKGZuKSB7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koZm4pIHtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnBsYXlgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoaXMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL05hdGl2ZVNjcmlwdC9OYXRpdmVTY3JpcHQvaXNzdWVzLzc5ODQgaXMgZml4ZXMgaW4gQG5hdGl2ZXNjcmlwdC9jb3JlXG4gICAgICAgIC8vIHdlIGNhbiBjaGFuZ2UgdGhpcyBmaXggYW5kIGFwcGx5IHRoZSBvbmUgdGhhdCBpcyByZWNvbW1lbmRlZCBpbiB0aGF0IGlzc3VlLlxuICAgICAgICBpZiAodGhpcy50YXJnZXQuaXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQub24oVmlldy5sb2FkZWRFdmVudCwgdGhpcy5vblRhcmdldExvYWRlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblRhcmdldExvYWRlZChhcmdzKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Lm9mZihWaWV3LmxvYWRlZEV2ZW50LCB0aGlzLm9uVGFyZ2V0TG9hZGVkKTtcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIHBsYXlBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uXG4gICAgICAgICAgICAucGxheSh0aGlzLnRhcmdldClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMub25GaW5pc2goKSlcbiAgICAgICAgICAgIC5jYXRjaCgoX2UpID0+IHsgfSk7XG4gICAgfVxuICAgIHBhdXNlKCkgeyB9XG4gICAgZmluaXNoKCkge1xuICAgICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5yZXNldGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbiAmJiB0aGlzLmFuaW1hdGlvbi5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLnJlc3RhcnRgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5kZXN0cm95YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgICBzZXRQb3NpdGlvbihfcCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuaW1hdGlvblBsYXllci5zZXRQb3NpdGlvbiBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCEnKTtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpbml0S2V5ZnJhbWVBbmltYXRpb24oa2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5pbml0S2V5ZnJhbWVBbmltYXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBvbkZpbmlzaCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIub25GaW5pc2hgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cbn1cblxuY2xhc3MgU2VsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucGFyc2UocmF3U2VsZWN0b3IpO1xuICAgIH1cbiAgICBtYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5zU2VsZWN0b3JNYXRjaChlbGVtZW50KSB8fCB0aGlzLmNsYXNzU2VsZWN0b3JzTWF0Y2goZWxlbWVudCk7XG4gICAgfVxuICAgIHBhcnNlKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IHJhd1NlbGVjdG9yLnNwbGl0KCcsJykubWFwKChzKSA9PiBzLnRyaW0oKSk7XG4gICAgICAgIHRoaXMubnNTZWxlY3RvcnMgPSBzZWxlY3RvcnMubWFwKENTU0hlbHBlci5jcmVhdGVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuY2xhc3NTZWxlY3RvcnMgPSBzZWxlY3RvcnMuZmlsdGVyKChzKSA9PiBzLnN0YXJ0c1dpdGgoJy4nKSkubWFwKChzKSA9PiBzLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIG5zU2VsZWN0b3JNYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5zU2VsZWN0b3JzLnNvbWUoKHMpID0+IHMubWF0Y2goZWxlbWVudCkpO1xuICAgIH1cbiAgICBjbGFzc1NlbGVjdG9yc01hdGNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NTZWxlY3RvcnMuc29tZSgocykgPT4gdGhpcy5oYXNDbGFzcyhlbGVtZW50LCBzKSk7XG4gICAgfVxuICAgIC8vIHdlJ3JlIHVzaW5nIHRoYXQgaW5zdGVhZCBvZiBtYXRjaCBmb3IgY2xhc3Nlc1xuICAgIC8vIHRoYXQgYXJlIGR5bmFtaWNhbGx5IGFkZGVkIGJ5IHRoZSBhbmltYXRpb24gZW5naW5lXG4gICAgLy8gc3VjaCBhcyAubmctdHJpZ2dlciwgdGhhdCdzIGFkZGVkIGZvciBldmVyeSA6ZW50ZXIgdmlld1xuICAgIGhhc0NsYXNzKGVsZW1lbnQsIGNscykge1xuICAgICAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50WyckJGNsYXNzZXMnXSAmJiBlbGVtZW50WyckJGNsYXNzZXMnXVtjbHNdO1xuICAgIH1cbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciB7XG4gICAgZ2V0UGFyZW50RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQucGFyZW50O1xuICAgIH1cbiAgICB2YWxpZGF0ZVN0eWxlUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgQ3NzQW5pbWF0aW9uUHJvcGVydHkudmFsaWRhdGVTdHlsZVByb3BlcnR5OiAke3Byb3BlcnR5fWApO1xuICAgICAgICByZXR1cm4gTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnZhbGlkUHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTE7XG4gICAgfVxuICAgIG1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5tYXRjaGVzRWxlbWVudCBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIHNlbGVjdG9yOiAke3Jhd1NlbGVjdG9yfWApO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMubWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLm1hdGNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICBjb250YWluc0VsZW1lbnQoZWxtMSwgZWxtMikge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29udGFpbnNFbGVtZW50IGAgKyBgZWxlbWVudDE6ICR7ZWxtMX0sIGVsZW1lbnQyOiAke2VsbTJ9YCk7XG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBwYXJlbnQgaXMgb3VyIGZha2UgYm9keSBvYmplY3RcbiAgICAgICAgaWYgKGVsbTFbJ2lzT3ZlcnJpZGUnXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBvcmlnaW5hbFZpZXc6IGVsbTIgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52aXNpdERlc2NlbmRhbnRzKGVsbTEsIHZpZXdNYXRjaGVzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmZvdW5kO1xuICAgIH1cbiAgICBxdWVyeShlbGVtZW50LCByYXdTZWxlY3RvciwgbXVsdGkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnF1ZXJ5IGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgc2VsZWN0b3I6ICR7cmF3U2VsZWN0b3J9IGAgKyBgbXVsdGk6ICR7bXVsdGl9YCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5tYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IHNlbGVjdG9yLCBtdWx0aSB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZpc2l0RGVzY2VuZGFudHMoZWxlbWVudCwgcXVlcnlEZXNjZW5kYW50cywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXRjaGVzIHx8IFtdO1xuICAgIH1cbiAgICBjb21wdXRlU3R5bGUoZWxlbWVudCwgcHJvcCkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29tcHV0ZVN0eWxlIGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgcHJvcDogJHtwcm9wfWApO1xuICAgICAgICBjb25zdCBjYW1lbENhc2VQcm9wID0gZGFzaENhc2VUb0NhbWVsQ2FzZShwcm9wKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbY2FtZWxDYXNlUHJvcF07XG4gICAgfVxuICAgIGFuaW1hdGUoZWxlbWVudCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuYW5pbWF0ZSBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIGtleWZyYW1lczogJHtrZXlmcmFtZXN9IGAgKyBgZHVyYXRpb246ICR7ZHVyYXRpb259LCBkZWxheTogJHtkZWxheX0gYCArIGBlYXNpbmc6ICR7ZWFzaW5nfWApO1xuICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllcihlbGVtZW50LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgbWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgIH1cbiAgICB2aXNpdERlc2NlbmRhbnRzKGVsZW1lbnQsIGNiLCBjYlBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgLy8gZmlsbCB0aGUgcmVzdWx0IG9iaiB3aXRoIHRoZSByZXN1bHQgZnJvbSB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgZWFjaERlc2NlbmRhbnQoZWxlbWVudCwgKGNoaWxkKSA9PiBjYihjaGlsZCwgcmVzdWx0LCBjYlBhcmFtcykpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbk5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci52YWxpZFByb3BlcnRpZXMgPSBbLi4uQ3NzQW5pbWF0aW9uUHJvcGVydHkuX2dldFByb3BlcnR5TmFtZXMoKSwgJ3RyYW5zZm9ybSddO1xuZnVuY3Rpb24gdmlld01hdGNoZXMoZWxlbWVudCwgcmVzdWx0LCBwYXJhbXMpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gcGFyYW1zLm9yaWdpbmFsVmlldykge1xuICAgICAgICByZXN1bHQuZm91bmQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gIXJlc3VsdC5mb3VuZDtcbn1cbmZ1bmN0aW9uIHF1ZXJ5RGVzY2VuZGFudHMoZWxlbWVudCwgcmVzdWx0LCBwYXJhbXMpIHtcbiAgICBpZiAoIXJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHJlc3VsdC5tYXRjaGVzID0gW107XG4gICAgfVxuICAgIGNvbnN0IHsgc2VsZWN0b3IsIG11bHRpIH0gPSBwYXJhbXM7XG4gICAgLy8gc2tpcCBjb21tZW50IGFuZCB0ZXh0IG5vZGVzXG4gICAgLy8gYmVjYXVzZSB0aGV5IGFyZSBub3QgYWN0dWFsIFZpZXdzXG4gICAgLy8gYW5kIGNhbm5vdCBiZSBhbmltYXRlZFxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSB8fCAhc2VsZWN0b3IubWF0Y2goZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgUHJveHlWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgIGVsZW1lbnQuZWFjaENoaWxkKChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgcmVzdWx0Lm1hdGNoZXMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQubWF0Y2hlcy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbXVsdGk7XG59XG5cbmNsYXNzIEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgZXh0ZW5kcyDJtUFuaW1hdGlvbkVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IoZG9jLCBkcml2ZXIsIG5vcm1hbGl6ZXIpIHtcbiAgICAgICAgc3VwZXIoZG9jLmJvZHksIGRyaXZlciwgbm9ybWFsaXplcik7XG4gICAgfVxufVxuSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBkZXBzOiBbeyB0b2tlbjogRE9DVU1FTlQgfSwgeyB0b2tlbjogaTEkMi5BbmltYXRpb25Ecml2ZXIgfSwgeyB0b2tlbjogaTEkMi7JtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtET0NVTUVOVF1cbiAgICAgICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMSQyLkFuaW1hdGlvbkRyaXZlciB9LCB7IHR5cGU6IGkxJDIuybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIgfV07XG4gICAgfSB9KTtcbmZ1bmN0aW9uIGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyKCkge1xuICAgIHJldHVybiBuZXcgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyKCk7XG59XG5mdW5jdGlvbiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeShyZW5kZXJlciwgZW5naW5lLCB6b25lKSB7XG4gICAgcmV0dXJuIG5ldyDJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeShyZW5kZXJlciwgZW5naW5lLCB6b25lKTtcbn1cbmZ1bmN0aW9uIGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcigpIHtcbiAgICByZXR1cm4gbmV3IMm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplcigpO1xufVxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSB7XG4gICAgY29uc3RydWN0b3IocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIC8vIFByZXZlbnRzIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUgZnJvbSBnZXR0aW5nIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAgIHRocm93SWZBbHJlYWR5TG9hZGVkKHBhcmVudE1vZHVsZSwgJ05hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUnKTtcbiAgICB9XG59XG5OYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7XG5OYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTtcbk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBBbmltYXRpb25Ecml2ZXIsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgfSxcbiAgICAgICAgeyBwcm92aWRlOiBBbmltYXRpb25CdWlsZGVyLCB1c2VDbGFzczogybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgfSxcbiAgICAgICAgeyBwcm92aWRlOiDJtUFuaW1hdGlvbkVuZ2luZSwgdXNlQ2xhc3M6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgcHJvdmlkZTogUmVuZGVyZXJGYWN0b3J5MixcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICAgICAgZGVwczogW05hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgybVBbmltYXRpb25FbmdpbmUsIE5nWm9uZV0sXG4gICAgICAgIH0sXG4gICAgXSwgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFuaW1hdGlvbkJ1aWxkZXIsIHVzZUNsYXNzOiDJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogybVBbmltYXRpb25FbmdpbmUsIHVzZUNsYXNzOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUmVuZGVyZXJGYWN0b3J5MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCDJtUFuaW1hdGlvbkVuZ2luZSwgTmdab25lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbeyB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU2tpcFNlbGZcbiAgICAgICAgICAgICAgICAgICAgfV0gfV07XG4gICAgfSB9KTtcblxuZnVuY3Rpb24gaXNMb2NhbFJlcXVlc3QodXJsKSB7XG4gICAgcmV0dXJuIHVybC5pbmRleE9mKCd+JykgPT09IDAgfHwgdXJsLmluZGV4T2YoJy8nKSA9PT0gMDtcbn1cbmZ1bmN0aW9uIGdldEFic29sdXRlUGF0aCh1cmwsIG5zRmlsZVN5c3RlbSkge1xuICAgIHVybCA9IHVybC5yZXBsYWNlKCd+JywgJycpLnJlcGxhY2UoJy8nLCAnJyk7XG4gICAgdXJsID0gcGF0aC5qb2luKG5zRmlsZVN5c3RlbS5jdXJyZW50QXBwKCkucGF0aCwgdXJsKTtcbiAgICByZXR1cm4gdXJsO1xufVxuZnVuY3Rpb24gcHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QodXJsLCBuc0ZpbGVTeXN0ZW0sIHN1Y2Nlc3NSZXNwb25zZSwgZXJyb3JSZXNwb25zZSkge1xuICAgIHVybCA9IGdldEFic29sdXRlUGF0aCh1cmwsIG5zRmlsZVN5c3RlbSk7XG4gICAgLy8gcmVxdWVzdCBmcm9tIGxvY2FsIGFwcCByZXNvdXJjZXNcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUkMSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgaWYgKG5zRmlsZVN5c3RlbS5maWxlRXhpc3RzKHVybCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsRmlsZSA9IG5zRmlsZVN5c3RlbS5maWxlRnJvbVBhdGgodXJsKTtcbiAgICAgICAgICAgIGxvY2FsRmlsZS5yZWFkVGV4dCgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChzdWNjZXNzUmVzcG9uc2UodXJsLCBqc29uLCAyMDApKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIHRoZSByZXNwb25zZSBzdGF0dXMgd2FzIDJ4eCwgdGhpcyBpcyBzdGlsbCBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBhcnNlIGVycm9yIGNvbnRhaW5zIHRoZSB0ZXh0IG9mIHRoZSBib2R5IHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclJlc3VsdCA9IHsgZXJyb3IsIHRleHQ6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsIGVycm9yUmVzdWx0LCAyMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsIGVyciwgNDAwKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCAnTm90IEZvdW5kJywgNDA0KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY2xhc3MgTnNIdHRwQmFja0VuZCBleHRlbmRzIEh0dHBYaHJCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3Rvcih4aHJGYWN0b3J5LCBuc0ZpbGVTeXN0ZW0pIHtcbiAgICAgICAgc3VwZXIoeGhyRmFjdG9yeSk7XG4gICAgICAgIHRoaXMubnNGaWxlU3lzdGVtID0gbnNGaWxlU3lzdGVtO1xuICAgIH1cbiAgICBoYW5kbGUocmVxKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGlmIChpc0xvY2FsUmVxdWVzdChyZXEudXJsKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5oYW5kbGVMb2NhbEZpbGVSZXF1ZXN0KHJlcS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VwZXIuaGFuZGxlKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaGFuZGxlTG9jYWxGaWxlUmVxdWVzdCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0KHVybCwgdGhpcy5uc0ZpbGVTeXN0ZW0sIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSwgY3JlYXRlRXJyb3JSZXNwb25zZSk7XG4gICAgfVxufVxuTnNIdHRwQmFja0VuZC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kLCBkZXBzOiBbeyB0b2tlbjogaTEkMS5YaHJGYWN0b3J5IH0sIHsgdG9rZW46IE5TRmlsZVN5c3RlbSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTnNIdHRwQmFja0VuZC7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnNIdHRwQmFja0VuZCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDEuWGhyRmFjdG9yeSB9LCB7IHR5cGU6IE5TRmlsZVN5c3RlbSB9XTsgfSB9KTtcbmZ1bmN0aW9uIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSh1cmwsIGJvZHksIHN0YXR1cykge1xuICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgdXJsLFxuICAgICAgICBib2R5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvclJlc3BvbnNlKHVybCwgYm9keSwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIG5ldyBIdHRwRXJyb3JSZXNwb25zZSh7XG4gICAgICAgIHVybCxcbiAgICAgICAgZXJyb3I6IGJvZHksXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogJ0VSUk9SJyxcbiAgICB9KTtcbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSB7XG59XG5OYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pO1xuTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgaW1wb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLCBleHBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0gfSk7XG5OYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBwcm92aWRlcnM6IFtOU0ZpbGVTeXN0ZW0sIE5zSHR0cEJhY2tFbmQsIHsgcHJvdmlkZTogSHR0cEJhY2tlbmQsIHVzZUV4aXN0aW5nOiBOc0h0dHBCYWNrRW5kIH1dLCBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZSwgSHR0cENsaWVudE1vZHVsZV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTlNGaWxlU3lzdGVtLCBOc0h0dHBCYWNrRW5kLCB7IHByb3ZpZGU6IEh0dHBCYWNrZW5kLCB1c2VFeGlzdGluZzogTnNIdHRwQmFja0VuZCB9XSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogVGhlcmUgYXJlIGNhc2VzIHdoZXJlIG11bHRpcGxlIGFjdGl2YXRlZFJvdXRlIG5vZGVzIHNob3VsZCBiZSBhc3NvY2lhdGVkL2hhbmRsZWQgYnkgdGhlIHNhbWUgUGFnZVJvdXRlck91dGxldC5cbiAqIFdlIGNhbiBnYXQgYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZXMgbm9kZXMgd2hlbiB0aGVyZSBpczpcbiAqICAtIExhenkgbG9hZGluZyAtIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGUgbm9kZSBmb3IgdGhlIFJvdXRlQ29uZmlnIHdpdGggdGhlIGBsb2FkQ2hpbGRyZW5gIHNldHVwXG4gKiAgLSBDb21wb25lbnRsZXNzIHJvdXRlcyAtIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGUgbm9kZSBmb3IgdGhlIGNvbXBvbmVudGxlc3MgUm91dGVDb25maWdcbiAqXG4gKiBFeGFtcGxlOlxuICogICBSICA8LS0gcm9vdFxuICogICB8XG4gKiBmZWF0dXJlIChsYXp5IG1vZHVsZSkgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibGF6eVwiLCBsb2FkQ2hpbGRyZW46IFwiLi9mZWF0dXJlL2ZlYXR1cmUubW9kdWxlI0ZlYXR1cmVNb2R1bGVcIiB9XG4gKiAgIHxcbiAqIG1vZHVsZSAoY29tcG9uZW50bGVzcyByb3V0ZSkgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibW9kdWxlXCIsIGNoaWxkcmVuOiBbLi4uXSB9IC8vIE5vdGU6IE5vICdjb21wb25lbnQnXG4gKiAgIHxcbiAqICBob21lIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcIm1vZHVsZVwiLCBjb21wb25lbnQ6IE15Q29tcG9uZW50IH0gLSB0aGlzIGlzIHdoYXQgd2UgZ2V0IGFzIGFjdGl2YXRlZFJvdXRlIHBhcmFtXG4gKlxuICogIEluIHRoZXNlIGNhc2VzIHdlIHdpbGwgbWFyayB0aGUgdG9wLW1vc3Qgbm9kZSAoZmVhdHVyZSkuIE5TUm91dGVSZXVzZVN0cmF0ZWd5IHdpbGwgZGV0YWNoIHRoZSB0cmVlIHRoZXJlIGFuZFxuICogIHVzZSB0aGlzIEFjdGl2YXRlUm91dGUgYXMgYSBrYXkgZm9yIGNhY2hpbmcuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoYWN0aXZhdGVkUm91dGUpIHtcbiAgICAvLyBUT0RPOiB0ZXN0IHRoaXMgYW5kIGZpZ3VyZSBpdCBvdXQgaWYgaXQncyByZWFsbHkgbm8gbG9uZ2VyIG5lZWRlZFxuICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAvLyBsZXQgb3V0bGV0QWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAvLyB3aGlsZSAob3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50ICYmIG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudC5yb3V0ZUNvbmZpZyAmJiAhb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50LnJvdXRlQ29uZmlnLmNvbXBvbmVudCkge1xuICAgIC8vICAgb3V0bGV0QWN0aXZhdGVkUm91dGUgPSBvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQ7XG4gICAgLy8gfVxuICAgIC8vIHJldHVybiBvdXRsZXRBY3RpdmF0ZWRSb3V0ZTtcbn1cbmNvbnN0IHBhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2wgPSBTeW1ib2woJ3BhZ2Utcm91dGVyLWFjdGl2YXRlZCcpO1xuY29uc3QgbG9hZGVyUmVmU3ltYm9sID0gU3ltYm9sKCdsb2FkZXItcmVmJyk7XG5mdW5jdGlvbiBkZXN0cm95Q29tcG9uZW50UmVmKGNvbXBvbmVudFJlZikge1xuICAgIGlmIChjb21wb25lbnRSZWYpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyUmVmID0gY29tcG9uZW50UmVmW2xvYWRlclJlZlN5bWJvbF07XG4gICAgICAgIGlmIChsb2FkZXJSZWYpIHtcbiAgICAgICAgICAgIGxvYWRlclJlZi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbmNvbnN0IGdldFNuYXBzaG90S2V5ID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG4gICAgcmV0dXJuIHNuYXBzaG90LnBhdGhGcm9tUm9vdC5qb2luKCctPicpO1xufTtcbi8qKlxuICogRGV0YWNoZWQgc3RhdGUgY2FjaGVcbiAqL1xuY2xhc3MgRGV0YWNoZWRTdGF0ZUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBBcnJheSgpO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGg7XG4gICAgfVxuICAgIHB1c2goY2FjaGVJdGVtKSB7XG4gICAgICAgIHRoaXMuY2FjaGUucHVzaChjYWNoZUl0ZW0pO1xuICAgIH1cbiAgICBwb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLnBvcCgpO1xuICAgIH1cbiAgICBwZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVt0aGlzLmNhY2hlLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYERldGFjaGVkU3RhdGVDYWNoZS5jbGVhcigpICR7dGhpcy5jYWNoZS5sZW5ndGh9IGl0ZW1zIHdpbGwgYmUgZGVzdHJveWVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuY2FjaGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhY2hlLnBvcCgpLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFya0N1cnJlbnRGb3JDbGVhcigpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuY2FjaGUpIHtcbiAgICAgICAgICAgIGl0ZW0ubWFya2VkRm9yRGVsZXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTWFya2VkKCkge1xuICAgICAgICAvLyB0cnkgdG8gcHJlc2VydmUgc2FtZSBvcmRlciBhcyAuY2xlYXIoKVxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jYWNoZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVJdGVtID0gdGhpcy5jYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChjYWNoZUl0ZW0ubWFya2VkRm9yRGVsZXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNhY2hlSXRlbS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1vZGFsQ2FjaGUoKSB7XG4gICAgICAgIGxldCByZW1vdmVkSXRlbXNDb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IGhhc01vZGFsUGFnZXMgPSB0aGlzLmNhY2hlLnNvbWUoKGNhY2hlSXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlSXRlbS5pc01vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhhc01vZGFsUGFnZXMpIHtcbiAgICAgICAgICAgIGxldCBtb2RhbENhY2hlQ2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKCFtb2RhbENhY2hlQ2xlYXJlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMucGVlaygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGVJdGVtLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZUl0ZW0uaXNNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbENhY2hlQ2xlYXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEl0ZW1zQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgRGV0YWNoZWRTdGF0ZUNhY2hlLmNsZWFyTW9kYWxDYWNoZSgpICR7cmVtb3ZlZEl0ZW1zQ291bnR9IGl0ZW1zIHdpbGwgYmUgZGVzdHJveWVkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIERldGFjaGVzIHN1YnRyZWVzIGxvYWRlZCBpbnNpZGUgUGFnZVJvdXRlck91dGxldCBpbiBmb3J3YXJkIG5hdmlnYXRpb25cbiAqIGFuZCByZWF0dGFjaGVzIHRoZW0gb24gYmFjay5cbiAqIFJldXNlcyByb3V0ZXMgYXMgbG9uZyBhcyB0aGVpciByb3V0ZSBjb25maWcgaXMgdGhlIHNhbWUuXG4gKi9cbmNsYXNzIE5TUm91dGVSZXVzZVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvbikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuY2FjaGVCeU91dGxldCA9IHt9O1xuICAgIH1cbiAgICBzaG91bGREZXRhY2gocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBsZXQgaXNQYWdlQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0bXAgPSByb3V0ZTtcbiAgICAgICAgd2hpbGUgKCEoaXNQYWdlQWN0aXZhdGVkID0gdG1wW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdKSAmJiB0bXAucGFyZW50KSB7XG4gICAgICAgICAgICB0bXAgPSB0bXAucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBsZXQgc2hvdWxkRGV0YWNoID0gb3V0bGV0ICYmICFpc0JhY2sgJiYgaXNQYWdlQWN0aXZhdGVkO1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAob3V0bGV0LnBhcmVudCAmJiAhb3V0bGV0LnBhcmVudC5zaG91bGREZXRhY2gpIHtcbiAgICAgICAgICAgICAgICBzaG91bGREZXRhY2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dGxldC5zaG91bGREZXRhY2ggPSBzaG91bGREZXRhY2g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHNob3VsZERldGFjaCBpc0JhY2s6ICR7aXNCYWNrfSBrZXk6ICR7a2V5fSByZXN1bHQ6ICR7c2hvdWxkRGV0YWNofWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGREZXRhY2g7XG4gICAgfVxuICAgIGZpbmRWYWxpZE91dGxldEFuZEtleSh0YXJnZXRSb3V0ZSkge1xuICAgICAgICBsZXQgcm91dGUgPSB0YXJnZXRSb3V0ZTtcbiAgICAgICAgY29uc3Qgcm91dGVPdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICBsZXQgb3V0bGV0S2V5ID0gcm91dGVPdXRsZXRLZXk7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uLmZpbmRPdXRsZXQob3V0bGV0S2V5LCByb3V0ZSk7XG4gICAgICAgIHdoaWxlICghb3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAoIXJvdXRlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG91dGxldDogbnVsbCwgb3V0bGV0S2V5OiByb3V0ZU91dGxldEtleSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91dGUgPSByb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5sb2NhdGlvbi5maW5kT3V0bGV0KG91dGxldEtleSwgcm91dGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHdoaWxlICghb3V0bGV0Lm91dGxldEtleXMuaW5jbHVkZXMob3V0bGV0S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghcm91dGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgQ291bGQgbm90IGZpbmQgdmFsaWQgb3V0bGV0IGtleSBmb3Igcm91dGU6ICR7dGFyZ2V0Um91dGV9LmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBvdXRsZXQsIG91dGxldEtleTogcm91dGVPdXRsZXRLZXkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm91dGUgPSByb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBvdXRsZXQsIG91dGxldEtleSB9O1xuICAgIH1cbiAgICBzaG91bGRBdHRhY2gocm91dGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCB7IG91dGxldCwgb3V0bGV0S2V5IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBjb25zdCBzaG91bGRBdHRhY2ggPSBpc0JhY2sgJiYgKChfYSA9IGNhY2hlLnBlZWsoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtleSkgPT09IGtleTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHNob3VsZEF0dGFjaCBpc0JhY2s6ICR7aXNCYWNrfSBrZXk6ICR7a2V5fSByZXN1bHQ6ICR7c2hvdWxkQXR0YWNofWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIG91dGxldC5zaG91bGREZXRhY2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGRBdHRhY2g7XG4gICAgfVxuICAgIHN0b3JlKHJvdXRlLCBzdGF0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzdG9yZSBrZXk6ICR7a2V5fSwgc3RhdGU6ICR7c3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICBjb25zdCBjYWNoZSA9ICh0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldIHx8IG5ldyBEZXRhY2hlZFN0YXRlQ2FjaGUoKSk7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgbGV0IGlzTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpc01vZGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlLnB1c2goeyBrZXksIHN0YXRlLCBpc01vZGFsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdG9wSXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgICAgIGlmICh0b3BJdGVtLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgY2FjaGUucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBwb3AgZnJvbSBEZXRhY2hlZFN0YXRlQ2FjaGUgYnV0IGtleXMgZG9uJ3QgbWF0Y2guIFwiICsgYGV4cGVjdGVkOiAke3RvcEl0ZW0ua2V5fSBhY3R1YWw6ICR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHJpZXZlKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0LCBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKCFjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBpc0JhY2sgPSBvdXRsZXQgPyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgY2FjaGVkSXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgbGV0IHN0YXRlID0gbnVsbDtcbiAgICAgICAgaWYgKGlzQmFjayAmJiBjYWNoZWRJdGVtICYmIGNhY2hlZEl0ZW0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgIHN0YXRlID0gY2FjaGVkSXRlbS5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgcmV0cmlldmVkIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHN0YXRlOiAke3N0YXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgc2hvdWxkUmV1c2VSb3V0ZShmdXR1cmUsIGN1cnIpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmV1c2UgPSBmdXR1cmUucm91dGVDb25maWcgPT09IGN1cnIucm91dGVDb25maWc7XG4gICAgICAgIGlmIChzaG91bGRSZXVzZSAmJiBjdXJyICYmIGN1cnJbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0pIHtcbiAgICAgICAgICAgIC8vIFdoZW4gcmV1c2luZyByb3V0ZSAtIGNvcHkgdGhlIHBhZ2VSb3V0ZXJBY3RpdmF0ZWQgdG8gdGhlIG5ldyBzbmFwc2hvdFxuICAgICAgICAgICAgLy8gSXQncyBuZWVkZWQgaW4gc2hvdWxkRGV0YWNoIHRvIGRldGVybWluZSBpZiB0aGUgcm91dGUgc2hvdWxkIGJlIGRldGFjaGVkLlxuICAgICAgICAgICAgZnV0dXJlW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdID0gY3VycltwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkUmV1c2VSb3V0ZSByZXN1bHQ6ICR7c2hvdWxkUmV1c2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZFJldXNlO1xuICAgIH1cbiAgICBjbGVhckNhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFya0NhY2hlRm9yQ2xlYXIob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUubWFya0N1cnJlbnRGb3JDbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcENhY2hlKG91dGxldEtleSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlLnBlZWsoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gKF9hID0gY2FjaGUucG9wKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ2FjaGVGb3JQb3Aob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGNhY2hlLnBlZWsoKTtcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5tYXJrZWRGb3JEZWxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNYXJrZWRDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5jbGVhck1hcmtlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTW9kYWxDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5jbGVhck1vZGFsQ2FjaGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbk5TUm91dGVSZXVzZVN0cmF0ZWd5Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5LCBkZXBzOiBbeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5OU1JvdXRlUmV1c2VTdHJhdGVneS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dOyB9IH0pO1xuXG5jbGFzcyBSb3V0ZXJFeHRlbnNpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGxvY2F0aW9uU3RyYXRlZ3ksIGZyYW1lU2VydmljZSkge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UgPSBmcmFtZVNlcnZpY2U7XG4gICAgfVxuICAgIG5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLm5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpO1xuICAgIH1cbiAgICBuYXZpZ2F0ZUJ5VXJsKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCh1cmwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBiYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICBpZiAoYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tPdXRsZXRzKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbkdvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNhbkdvQmFjayA9IHRydWU7XG4gICAgICAgIGlmIChiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3V0bGV0c1RvQmFjaywgb3V0bGV0cyB9ID0gdGhpcy5maW5kT3V0bGV0c1RvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG91dGxldHNUb0JhY2subGVuZ3RoICE9PSBvdXRsZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2sob3V0bGV0VG9CYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuR29CYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbkdvQmFjayA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuR29CYWNrO1xuICAgIH1cbiAgICBiYWNrVG9QcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCkuZ29CYWNrKCk7XG4gICAgfVxuICAgIGNhbkdvQmFja1RvUHJldmlvdXNQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKS5jYW5Hb0JhY2soKTtcbiAgICB9XG4gICAgYmFja091dGxldHMob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG91dGxldHNUb0JhY2ssIG91dGxldHMgfSA9IHRoaXMuZmluZE91dGxldHNUb0JhY2sob3B0aW9ucyk7XG4gICAgICAgIGlmIChvdXRsZXRzVG9CYWNrLmxlbmd0aCAhPT0gb3V0bGV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRUb0JhY2suaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2s6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhvdXRsZXRUb0JhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBmaW5kT3V0bGV0c1RvQmFjayhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvb3RSb3V0ZSA9IHRoaXMucm91dGVyLnJvdXRlclN0YXRlLnJvb3Q7XG4gICAgICAgIGxldCBvdXRsZXRzID0gb3B0aW9ucy5vdXRsZXRzO1xuICAgICAgICBsZXQgcmVsYXRpdmVSb3V0ZSA9IG9wdGlvbnMucmVsYXRpdmVUbyB8fCByb290Um91dGU7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlUm91dGVPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJlbGF0aXZlUm91dGUpO1xuICAgICAgICBjb25zdCBpc05TRW1wdHlPdXRsZXQgPSByZWxhdGl2ZVJvdXRlT3V0bGV0ICYmIHJlbGF0aXZlUm91dGVPdXRsZXQuaXNOU0VtcHR5T3V0bGV0O1xuICAgICAgICAvLyBMYXp5IG5hbWVkIG91dGxldCBoYXMgYWRkZWQgJ3ByaW1hcnknIGlubmVyIE5TRW1wdHlPdXRsZXQgY2hpbGQuXG4gICAgICAgIC8vIFRha2UgcGFyZW50IHJvdXRlIHdoZW4gYHJlbGF0aXZlVG9gIG9wdGlvbiBwb2ludHMgdG8gdGhlIG91dGVyIG5hbWVkIG91dGxldC5cbiAgICAgICAgaWYgKGlzTlNFbXB0eU91dGxldCAmJiByZWxhdGl2ZVJvdXRlLm91dGxldCAhPT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICByZWxhdGl2ZVJvdXRlID0gcmVsYXRpdmVSb3V0ZS5wYXJlbnQgfHwgcmVsYXRpdmVSb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXRzID0gb3V0bGV0cyB8fCBbcmVsYXRpdmVSb3V0ZS5vdXRsZXRdO1xuICAgICAgICBjb25zdCBvdXRsZXRzVG9CYWNrID0gdGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShbLi4ub3V0bGV0c10sIHJlbGF0aXZlUm91dGUpO1xuICAgICAgICByZXR1cm4geyBvdXRsZXRzVG9CYWNrOiBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzOiBvdXRsZXRzIH07XG4gICAgfVxuICAgIC8vIHdhcm5pbmcsIG91dGxldHMgaXMgbXV0YWJsZSFcbiAgICBmaW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCByb3V0ZSkge1xuICAgICAgICBpZiAoIXJvdXRlIHx8IG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0bGV0c1RvQmFjayA9IFtdO1xuICAgICAgICBpZiAob3V0bGV0cy5zb21lKChjdXJyZW50T3V0bGV0KSA9PiBjdXJyZW50T3V0bGV0ID09PSByb3V0ZS5vdXRsZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJvdXRlKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzLnNwbGljZShvdXRsZXRzLmluZGV4T2Yocm91dGUub3V0bGV0KSwgMSk7XG4gICAgICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5wdXNoKG91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIG91dGxldHNUb0JhY2s7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJvdXRlLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Um91dGUgPSByb3V0ZS5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLnB1c2goLi4udGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCBjdXJyZW50Um91dGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0c1RvQmFjaztcbiAgICB9XG4gICAgZmluZE91dGxldEJ5Um91dGUoY3VycmVudFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZVNuYXBzaG9wID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChjdXJyZW50Um91dGUuc25hcHNob3QpO1xuICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGVTbmFwc2hvcCk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgY3VycmVudFJvdXRlU25hcHNob3ApO1xuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbn1cblJvdXRlckV4dGVuc2lvbnMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm91dGVyRXh0ZW5zaW9ucywgZGVwczogW3sgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHRva2VuOiBGcmFtZVNlcnZpY2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcblJvdXRlckV4dGVuc2lvbnMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogRnJhbWVTZXJ2aWNlIH1dOyB9IH0pO1xuXG4vKipcbiAqIFRoZSBuc1JvdXRlckxpbmsgZGlyZWN0aXZlIGxldHMgeW91IGxpbmsgdG8gc3BlY2lmaWMgcGFydHMgb2YgeW91ciBhcHAuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyByb3V0ZSBjb25maWd1cmF0aW9uOlxuICogYGBgXG4gKiBbeyBwYXRoOiBcIi91c2VyXCIsIGNvbXBvbmVudDogVXNlckNtcCB9XVxuICogYGBgXG4gKlxuICogV2hlbiBsaW5raW5nIHRvIHRoaXMgYFVzZXJgIHJvdXRlLCB5b3UgY2FuIHdyaXRlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCJbXCIvdXNlclwiXVwiPmxpbmsgdG8gdXNlciBjb21wb25lbnQ8L2E+XG4gKiBgYGBcbiAqXG4gKiBOU1JvdXRlckxpbmsgZXhwZWN0cyB0aGUgdmFsdWUgdG8gYmUgYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cywgZm9sbG93ZWQgYnkgdGhlIHBhcmFtc1xuICogZm9yIHRoYXQgbGV2ZWwgb2Ygcm91dGluZy4gRm9yIGluc3RhbmNlIGBbXCIvdGVhbVwiLCB7dGVhbUlkOiAxfSwgXCJ1c2VyXCIsIHt1c2VySWQ6IDJ9XWBcbiAqIG1lYW5zIHRoYXQgd2Ugd2FudCB0byBnZW5lcmF0ZSBhIGxpbmsgdG8gYC90ZWFtO3RlYW1JZD0xL3VzZXI7dXNlcklkPTJgLlxuICpcbiAqIFRoZSBmaXJzdCBzZWdtZW50IG5hbWUgY2FuIGJlIHByZXBlbmRlZCB3aXRoIGAvYCwgYC4vYCwgb3IgYC4uL2AuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgL2AsIHRoZSByb3V0ZXIgd2lsbCBsb29rIHVwIHRoZSByb3V0ZSBmcm9tIHRoZSByb290IG9mIHRoZSBhcHAuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi9gLCBvciBkb2VzblwidCBiZWdpbiB3aXRoIGEgc2xhc2gsIHRoZSByb3V0ZXIgd2lsbFxuICogaW5zdGVhZCBsb29rIGluIHRoZSBjdXJyZW50IGNvbXBvbmVudFwicyBjaGlsZHJlbiBmb3IgdGhlIHJvdXRlLlxuICogQW5kIGlmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAuLi9gLCB0aGUgcm91dGVyIHdpbGwgZ28gdXAgb25lIGxldmVsLlxuICovXG5jbGFzcyBOU1JvdXRlckxpbmsge1xuICAgIGNvbnN0cnVjdG9yKG5nWm9uZSwgcm91dGVyLCBuYXZpZ2F0b3IsIHJvdXRlLCBlbCkge1xuICAgICAgICB0aGlzLm5nWm9uZSA9IG5nWm9uZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMubmF2aWdhdG9yID0gbmF2aWdhdG9yO1xuICAgICAgICB0aGlzLnJvdXRlID0gcm91dGU7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5wYWdlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29tbWFuZHMgPSBbXTtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub24oJ3RhcCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRhcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXQgcGFyYW1zKGRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblRhcCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluay50YXBwZWQ6ICR7dGhpcy5jb21tYW5kc30gYCArIGBjbGVhcjogJHt0aGlzLmNsZWFySGlzdG9yeX0gYCArIGB0cmFuc2l0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMucGFnZVRyYW5zaXRpb24pfSBgICsgYGR1cmF0aW9uOiAke3RoaXMucGFnZVRyYW5zaXRpb25EdXJhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRyYXMgPSB0aGlzLmdldEV4dHJhcygpO1xuICAgICAgICAvLyB0aGlzLm5hdmlnYXRvci5uYXZpZ2F0ZUJ5VXJsKHRoaXMudXJsVHJlZSwgZXh0cmFzKTtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IubmF2aWdhdGUodGhpcy5jb21tYW5kcywgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleHRyYXMpLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLCBmcmFnbWVudDogdGhpcy5mcmFnbWVudCwgcXVlcnlQYXJhbXNIYW5kbGluZzogdGhpcy5xdWVyeVBhcmFtc0hhbmRsaW5nLCBwcmVzZXJ2ZUZyYWdtZW50OiBhdHRyQm9vbFZhbHVlKHRoaXMucHJlc2VydmVGcmFnbWVudCkgfSkpO1xuICAgIH1cbiAgICBnZXRFeHRyYXMoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmdldFRyYW5zaXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNraXBMb2NhdGlvbkNoYW5nZTogYXR0ckJvb2xWYWx1ZSh0aGlzLnNraXBMb2NhdGlvbkNoYW5nZSksXG4gICAgICAgICAgICByZXBsYWNlVXJsOiBhdHRyQm9vbFZhbHVlKHRoaXMucmVwbGFjZVVybCksXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IHRoaXMuY29udmVydENsZWFySGlzdG9yeSh0aGlzLmNsZWFySGlzdG9yeSksXG4gICAgICAgICAgICBhbmltYXRlZDogdHJhbnNpdGlvbi5hbmltYXRlZCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24udHJhbnNpdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHVybFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IHVybFRyZWUgPSB0aGlzLnJvdXRlci5jcmVhdGVVcmxUcmVlKHRoaXMuY29tbWFuZHMsIHtcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5xdWVyeVBhcmFtcyxcbiAgICAgICAgICAgIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50LFxuICAgICAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogdGhpcy5xdWVyeVBhcmFtc0hhbmRsaW5nLFxuICAgICAgICAgICAgcHJlc2VydmVGcmFnbWVudDogYXR0ckJvb2xWYWx1ZSh0aGlzLnByZXNlcnZlRnJhZ21lbnQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluayB1cmxUcmVlIGNyZWF0ZWQ6ICR7dXJsVHJlZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsVHJlZTtcbiAgICB9XG4gICAgY29udmVydENsZWFySGlzdG9yeSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcbiAgICB9XG4gICAgZ2V0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgbGV0IHRyYW5zaXRpb247XG4gICAgICAgIGxldCBhbmltYXRlZDtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFuaW1hdGVkID0gdGhpcy5wYWdlVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnbm9uZScgfHwgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYWdlVHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRoaXMucGFnZVRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSArdGhpcy5wYWdlVHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgICAgICBpZiAoIWlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gfHwge307XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYW5pbWF0ZWQsIHRyYW5zaXRpb24gfTtcbiAgICB9XG59XG5OU1JvdXRlckxpbmsuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rLCBkZXBzOiBbeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IFJvdXRlckV4dGVuc2lvbnMgfSwgeyB0b2tlbjogaTEkMy5BY3RpdmF0ZWRSb3V0ZSB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbk5TUm91dGVyTGluay7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOU1JvdXRlckxpbmssIHNlbGVjdG9yOiBcIltuc1JvdXRlckxpbmtdXCIsIGlucHV0czogeyB0YXJnZXQ6IFwidGFyZ2V0XCIsIHF1ZXJ5UGFyYW1zOiBcInF1ZXJ5UGFyYW1zXCIsIGZyYWdtZW50OiBcImZyYWdtZW50XCIsIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IFwicXVlcnlQYXJhbXNIYW5kbGluZ1wiLCBwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOiBcInByZXNlcnZlUXVlcnlQYXJhbXNcIiwgcHJlc2VydmVGcmFnbWVudDogXCJwcmVzZXJ2ZUZyYWdtZW50XCIsIHNraXBMb2NhdGlvbkNoYW5nZTogXCJza2lwTG9jYXRpb25DaGFuZ2VcIiwgcmVwbGFjZVVybDogXCJyZXBsYWNlVXJsXCIsIGNsZWFySGlzdG9yeTogXCJjbGVhckhpc3RvcnlcIiwgcGFnZVRyYW5zaXRpb246IFwicGFnZVRyYW5zaXRpb25cIiwgcGFnZVRyYW5zaXRpb25EdXJhdGlvbjogXCJwYWdlVHJhbnNpdGlvbkR1cmF0aW9uXCIsIHBhcmFtczogW1wibnNSb3V0ZXJMaW5rXCIsIFwicGFyYW1zXCJdIH0sIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmssIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbeyBzZWxlY3RvcjogJ1tuc1JvdXRlckxpbmtdJyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogUm91dGVyRXh0ZW5zaW9ucyB9LCB7IHR5cGU6IGkxJDMuQWN0aXZhdGVkUm91dGUgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyB0YXJnZXQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBxdWVyeVBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGZyYWdtZW50OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcXVlcnlQYXJhbXNIYW5kbGluZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHByZXNlcnZlUXVlcnlQYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwcmVzZXJ2ZUZyYWdtZW50OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgc2tpcExvY2F0aW9uQ2hhbmdlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcmVwbGFjZVVybDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGNsZWFySGlzdG9yeTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHBhZ2VUcmFuc2l0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFnZVRyYW5zaXRpb25EdXJhdGlvbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ25zUm91dGVyTGluayddXG4gICAgICAgICAgICB9XSB9IH0pO1xuZnVuY3Rpb24gYXR0ckJvb2xWYWx1ZShzKSB7XG4gICAgcmV0dXJuIHMgPT09ICcnIHx8ICEhcztcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Zm9yaW4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zVHJlZShjb250YWluZXIsIGNvbnRhaW5lZSwgZXhhY3QpIHtcbiAgICBpZiAoZXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGVxdWFsU2VnbWVudEdyb3Vwcyhjb250YWluZXIucm9vdCwgY29udGFpbmVlLnJvb3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lciwgY29udGFpbmVlKSB7XG4gICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjb250YWluZWUuc2VnbWVudHMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5udW1iZXJPZkNoaWxkcmVuICE9PSBjb250YWluZWUubnVtYmVyT2ZDaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3QgYyBpbiBjb250YWluZWUuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVxdWFsU2VnbWVudEdyb3Vwcyhjb250YWluZXIuY2hpbGRyZW5bY10sIGNvbnRhaW5lZS5jaGlsZHJlbltjXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lciwgY29udGFpbmVlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyKGNvbnRhaW5lciwgY29udGFpbmVlLCBjb250YWluZWUuc2VnbWVudHMpO1xufVxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLCBjb250YWluZWUsIGNvbnRhaW5lZVBhdGhzKSB7XG4gICAgaWYgKGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGggPiBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lci5zZWdtZW50cy5zbGljZSgwLCBjb250YWluZWVQYXRocy5sZW5ndGgpO1xuICAgICAgICBpZiAoIWVxdWFsUGF0aChjdXJyZW50LCBjb250YWluZWVQYXRocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGFpbmVlLmhhc0NoaWxkcmVuKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCA9PT0gY29udGFpbmVlUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY29udGFpbmVlUGF0aHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bY10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5zU2VnbWVudEdyb3VwKGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjb250YWluZWVQYXRocy5zbGljZSgwLCBjb250YWluZXIuc2VnbWVudHMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250YWluZXIuY2hpbGRyZW5bUFJJTUFSWV9PVVRMRVRdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyKGNvbnRhaW5lci5jaGlsZHJlbltQUklNQVJZX09VVExFVF0sIGNvbnRhaW5lZSwgbmV4dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXF1YWxQYXRoKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldLnBhdGggIT09IGJbaV0ucGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRoZSBOU1JvdXRlckxpbmtBY3RpdmUgZGlyZWN0aXZlIGxldHMgeW91IGFkZCBhIENTUyBjbGFzcyB0byBhbiBlbGVtZW50IHdoZW4gdGhlIGxpbmtcInMgcm91dGVcbiAqIGJlY29tZXMgYWN0aXZlLlxuICpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiPkJvYjwvYT5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIHVybCBpcyBlaXRoZXIgXCIvdXNlclwiIG9yIFwiL3VzZXIvYm9iXCIsIHRoZSBhY3RpdmUtbGluayBjbGFzcyB3aWxsXG4gKiBiZSBhZGRlZCB0byB0aGUgY29tcG9uZW50LiBJZiB0aGUgdXJsIGNoYW5nZXMsIHRoZSBjbGFzcyB3aWxsIGJlIHJlbW92ZWQuXG4gKlxuICogWW91IGNhbiBzZXQgbW9yZSB0aGFuIG9uZSBjbGFzcywgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJjbGFzczEgY2xhc3MyXCI+Qm9iPC9hPlxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cIltcImNsYXNzMVwiLCBcImNsYXNzMlwiXVwiPkJvYjwvYT5cbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gY29uZmlndXJlIE5TUm91dGVyTGlua0FjdGl2ZSBieSBwYXNzaW5nIGBleGFjdDogdHJ1ZWAuIFRoaXMgd2lsbCBhZGQgdGhlXG4gKiBjbGFzc2VzIG9ubHkgd2hlbiB0aGUgdXJsIG1hdGNoZXMgdGhlIGxpbmsgZXhhY3RseS5cbiAqXG4gKiBgYGBcbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiXG4gKiBbbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7ZXhhY3Q6IHRydWV9XCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogRmluYWxseSwgeW91IGNhbiBhcHBseSB0aGUgTlNSb3V0ZXJMaW5rQWN0aXZlIGRpcmVjdGl2ZSB0byBhbiBhbmNlc3RvciBvZiBhIFJvdXRlckxpbmsuXG4gKlxuICogYGBgXG4gKiA8ZGl2IFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiYWN0aXZlLWxpbmtcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7ZXhhY3Q6IHRydWV9XCI+XG4gKiAgIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvamltXCI+SmltPC9hPlxuICogICA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiPkJvYjwvYT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhpcyB3aWxsIHNldCB0aGUgYWN0aXZlLWxpbmsgY2xhc3Mgb24gdGhlIGRpdiB0YWcgaWYgdGhlIHVybCBpcyBlaXRoZXIgXCIvdXNlci9qaW1cIiBvclxuICogXCIvdXNlci9ib2JcIi5cbiAqXG4gKiBAc3RhYmxlXG4gKi9cbmNsYXNzIE5TUm91dGVyTGlua0FjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Iocm91dGVyLCBlbGVtZW50LCByZW5kZXJlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zID0geyBleGFjdDogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSByb3V0ZXIuZXZlbnRzLnN1YnNjcmliZSgocykgPT4ge1xuICAgICAgICAgICAgaWYgKHMgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgIH1cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIHRoaXMubGlua3MuY2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4gdGhpcy51cGRhdGUoKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHNldCBuc1JvdXRlckxpbmtBY3RpdmUoZGF0YSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NlcyA9IGRhdGEuc3BsaXQoJyAnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzQWN0aXZlTGlua3MgPSB0aGlzLmhhc0FjdGl2ZUxpbmtzKCk7XG4gICAgICAgIC8vIHJlYWN0IG9ubHkgd2hlbiBzdGF0dXMgaGFzIGNoYW5nZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBkb20gdXBkYXRlc1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgIT09IGhhc0FjdGl2ZUxpbmtzKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXJsVHJlZSA9IHRoaXMucm91dGVyLnBhcnNlVXJsKHRoaXMucm91dGVyLnVybCk7XG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZUxpbmtzID0gdGhpcy5yZWR1Y2VMaXN0KGN1cnJlbnRVcmxUcmVlLCB0aGlzLmxpbmtzKTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3Nlcy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlTGlua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoaGFzQWN0aXZlTGlua3MpLnRoZW4oKGFjdGl2ZSkgPT4gKHRoaXMuYWN0aXZlID0gYWN0aXZlKSk7XG4gICAgfVxuICAgIHJlZHVjZUxpc3QoY3VycmVudFVybFRyZWUsIHEpIHtcbiAgICAgICAgcmV0dXJuIHEucmVkdWNlKChyZXMsIGxpbmspID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXMgfHwgY29udGFpbnNUcmVlKGN1cnJlbnRVcmxUcmVlLCBsaW5rLnVybFRyZWUsIHRoaXMubnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucy5leGFjdCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgaXNMaW5rQWN0aXZlKHJvdXRlcikge1xuICAgICAgICByZXR1cm4gKGxpbmspID0+IHJvdXRlci5pc0FjdGl2ZShsaW5rLnVybFRyZWUsIHRoaXMubnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucy5leGFjdCk7XG4gICAgfVxuICAgIGhhc0FjdGl2ZUxpbmtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5rcy5zb21lKHRoaXMuaXNMaW5rQWN0aXZlKHRoaXMucm91dGVyKSk7XG4gICAgfVxufVxuTlNSb3V0ZXJMaW5rQWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTtcbk5TUm91dGVyTGlua0FjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIHNlbGVjdG9yOiBcIltuc1JvdXRlckxpbmtBY3RpdmVdXCIsIGlucHV0czogeyBuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zOiBcIm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnNcIiwgbnNSb3V0ZXJMaW5rQWN0aXZlOiBcIm5zUm91dGVyTGlua0FjdGl2ZVwiIH0sIHF1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJsaW5rc1wiLCBwcmVkaWNhdGU6IE5TUm91dGVyTGluayB9XSwgZXhwb3J0QXM6IFtcInJvdXRlckxpbmtBY3RpdmVcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuc1JvdXRlckxpbmtBY3RpdmVdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdyb3V0ZXJMaW5rQWN0aXZlJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgbGlua3M6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogQ29udGVudENoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtOU1JvdXRlckxpbmtdXG4gICAgICAgICAgICB9XSwgbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG5zUm91dGVyTGlua0FjdGl2ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgUGFnZVJvdXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydFJvdXRlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUm91dGUgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHN0YXJ0Um91dGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKGl0ZW0pIHtcbiAgICByZXR1cm4gISFpdGVtLnJlc29sdmVDb21wb25lbnRGYWN0b3J5O1xufVxuZnVuY3Rpb24gY2FsbGFibGVPbmNlKGZuKSB7XG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgIH07XG59XG5jbGFzcyBEZXN0cnVjdGlibGVJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5kZXN0cnVjdGlibGVQcm92aWRlcnMgPSBkZXN0cnVjdGlibGVQcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnJlZnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgcmVmID0gdGhpcy5wYXJlbnQuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIC8vIGlmIHdlJ3JlIHNraXBwaW5nIG91cnNlbHZlcyB0aGVuIGl0J3Mgbm90IG91ciByZXNwb25zaWJpbGl0eSB0byBkZXN0cm95XG4gICAgICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoIShmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSAmJiB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmFkZChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgPT09IG51bGwgfHwgZmxhZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZsYWdzLnNraXBTZWxmKSAmJiB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmFkZChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgICAgICAgIGlmIChyZWYubmdPbkRlc3Ryb3kgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHJlZi5uZ09uRGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWZzLmNsZWFyKCk7XG4gICAgfVxufVxuY29uc3Qgcm91dGVUb1N0cmluZyA9IGZ1bmN0aW9uIChhY3RpdmF0ZWRSb3V0ZSkge1xuICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZS5wYXRoRnJvbVJvb3Quam9pbignLT4nKTtcbn07XG5yZWdpc3RlckVsZW1lbnQoJ3BhZ2Utcm91dGVyLW91dGxldCcsICgpID0+IEZyYW1lKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG5jbGFzcyBQYWdlUm91dGVyT3V0bGV0IHtcbiAgICAvKiogQGRlcHJlY2F0ZWQgZnJvbSBBbmd1bGFyIHNpbmNlIHY0ICovXG4gICAgZ2V0IGxvY2F0aW9uSW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmluamVjdG9yO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgZnJvbSBBbmd1bGFyIHNpbmNlIHY0ICovXG4gICAgZ2V0IGxvY2F0aW9uRmFjdG9yeVJlc29sdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlcjtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZhdGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFjdGl2YXRlZDtcbiAgICB9XG4gICAgZ2V0IGNvbXBvbmVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZTtcbiAgICB9XG4gICAgZ2V0IGFjdGl2YXRlZFJvdXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlO1xuICAgIH1cbiAgICBnZXQgYWN0aXZhdGVkUm91dGVEYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFyZW50Q29udGV4dHMsIGxvY2F0aW9uLCBuYW1lLCBhY3Rpb25CYXJWaXNpYmlsaXR5LCBpc0VtcHR5T3V0bGV0LCBsb2NhdGlvblN0cmF0ZWd5LCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIHJlc29sdmVyLCBjaGFuZ2VEZXRlY3RvciwgcGFnZUZhY3RvcnksIHJvdXRlUmV1c2VTdHJhdGVneSwgbmdab25lLCByb3V0ZXIsIGVsUmVmLCB2aWV3VXRpbCwgZW52aXJvbm1lbnRJbmplY3Rvcikge1xuICAgICAgICB0aGlzLnBhcmVudENvbnRleHRzID0gcGFyZW50Q29udGV4dHM7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlcjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvciA9IGNoYW5nZURldGVjdG9yO1xuICAgICAgICB0aGlzLnBhZ2VGYWN0b3J5ID0gcGFnZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5ID0gcm91dGVSZXVzZVN0cmF0ZWd5O1xuICAgICAgICB0aGlzLm5nWm9uZSA9IG5nWm9uZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRJbmplY3RvciA9IGVudmlyb25tZW50SW5qZWN0b3I7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLWNsYXNzLXN1ZmZpeFxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmRlYWN0aXZhdGVFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmlzRW1wdHlPdXRsZXQgPSBpc0VtcHR5T3V0bGV0O1xuICAgICAgICB0aGlzLmZyYW1lID0gZWxSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5zZXRBY3Rpb25CYXJWaXNpYmlsaXR5KGFjdGlvbkJhclZpc2liaWxpdHkpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5jb25zdHJ1Y3RvciBmcmFtZTogJHt0aGlzLmZyYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWUgfHwgUFJJTUFSWV9PVVRMRVQ7XG4gICAgICAgIHBhcmVudENvbnRleHRzLm9uQ2hpbGRPdXRsZXRDcmVhdGVkKHRoaXMubmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSB2aWV3VXRpbDtcbiAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlckZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgfVxuICAgIHNldEFjdGlvbkJhclZpc2liaWxpdHkoYWN0aW9uQmFyVmlzaWJpbGl0eSkge1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbkJhclZpc2liaWxpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Fsd2F5cyc6XG4gICAgICAgICAgICBjYXNlICduZXZlcic6XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5ID0gYWN0aW9uQmFyVmlzaWJpbGl0eTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuYWN0aW9uQmFyVmlzaWJpbGl0eSA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhhdCB0aGUgYHBhcmVudENvbnRleHRzYCBoYXMgY2hhbmdlZCB0aGUgb3V0bGV0XG4gICAgICAgIC8vIHZpYSB0aGUgY3JlYXRpb24gb2YgYW5vdGhlciBvdXRsZXQsIHRoZSBgb25DaGlsZE91dGxldERlc3Ryb3llZGBcbiAgICAgICAgLy8gd2lsbCBiZSBza2lwcGVkXG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vdXRsZXQpID09PSB0aGlzKSB7XG4gICAgICAgICAgICAvLyBDbGVhciBhY2N1bXVsYXRlZCBtb2RhbCB2aWV3IHBhZ2UgY2FjaGUgd2hlbiBwYWdlLXJvdXRlci1vdXRsZXRcbiAgICAgICAgICAgIC8vIGRlc3Ryb3llZCBvbiBtb2RhbCB2aWV3IGNsb3NpbmdcbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldERlc3Ryb3llZCh0aGlzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1vZGFsQ2FjaGUoa2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNsZWFyT3V0bGV0KHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0Lm5nT25EZXN0cm95OiBubyBvdXRsZXQgYXZhaWxhYmxlIGZvciBwYWdlLXJvdXRlci1vdXRsZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcuZGV0YWNoKCk7XG4gICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHRoaXMuYWN0aXZhdGVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KGMpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLm91dGxldCB8fCAhdGhpcy5vdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQ3VycmVudGx5IG5vdCBpbiBwYWdlIGJhY2sgbmF2aWdhdGlvbiAtIGNvbXBvbmVudCBzaG91bGQgYmUgZGV0YWNoZWQgaW5zdGVhZCBvZiBkZWFjdGl2YXRlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnUGFnZVJvdXRlck91dGxldC5kZWFjdGl2YXRlKCkgd2hpbGUgZ29pbmcgYmFjayAtIHNob3VsZCBkZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5wb3N0TmF2RnVuY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2U7XG4gICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYodGhpcy5hY3RpdmF0ZWQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQoYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBgUm91dGVSZXVzZVN0cmF0ZWd5YCBpbnN0cnVjdHMgdG8gZGV0YWNoIHRoZSBzdWJ0cmVlXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmRldGFjaCgpIC0gJHtyb3V0ZVRvU3RyaW5nKHRoaXMuX2FjdGl2YXRlZFJvdXRlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnBvc3ROYXZGdW5jdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIERldGFjaCBmcm9tIENoYW5nZURldGVjdGlvblxuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5kZXRhY2goKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5hY3RpdmF0ZWQ7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRldGFjaEV2ZW50cy5lbWl0KGNvbXBvbmVudC5pbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBgUm91dGVSZXVzZVN0cmF0ZWd5YCBpbnN0cnVjdHMgdG8gcmUtYXR0YWNoIGEgcHJldmlvdXNseSBkZXRhY2hlZCBzdWJ0cmVlXG4gICAgICovXG4gICAgYXR0YWNoKHJlZiwgYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuYXR0YWNoKCkgLSAke3JvdXRlVG9TdHJpbmcoYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gcmVmO1xuICAgICAgICAvLyByZWF0dGFjaCB0byBDaGFuZ2VEZXRlY3Rpb25cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcubWFya0ZvckNoZWNrKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LnJlYXR0YWNoKCk7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIHRoaXMubWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgLy8gd2UgaGF2ZSBhIGNoaWxkIHdpdGggdGhlIHNhbWUgbmFtZSwgc28gd2UgZG9uJ3QgZmluaXNoIHRoZSBiYWNrIG5hdlxuICAgICAgICBpZiAodGhpcy5pc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cy5lbWl0KHJlZi5pbnN0YW5jZSk7XG4gICAgfVxuICAgIGlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IChfYSA9IHRoaXMucGFyZW50Q29udGV4dHMuZ2V0Q29udGV4dCh0aGlzLm5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGRyZW47XG4gICAgICAgIHdoaWxlIChjaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDb250ZXh0ID0gY2hpbGRyZW4uZ2V0Q29udGV4dCh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFjaGlsZENvbnRleHQgfHwgIWNoaWxkQ29udGV4dC5vdXRsZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZENvbnRleHQub3V0bGV0IGluc3RhbmNlb2YgUGFnZVJvdXRlck91dGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRDb250ZXh0LmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYnkgdGhlIFJvdXRlciB0byBpbnN0YW50aWF0ZSBhIG5ldyBjb21wb25lbnQgZHVyaW5nIHRoZSBjb21taXQgcGhhc2Ugb2YgYSBuYXZpZ2F0aW9uLlxuICAgICAqIFRoaXMgbWV0aG9kIGluIHR1cm4gaXMgcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgdGhlIGByb3V0ZXJPbkFjdGl2YXRlYCBob29rIG9mIGl0cyBjaGlsZC5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZVdpdGgoYWN0aXZhdGVkUm91dGUsIHJlc29sdmVyKSB7XG4gICAgICAgIHRoaXMub3V0bGV0ID0gdGhpcy5vdXRsZXQgfHwgdGhpcy5nZXRPdXRsZXQoYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBpZiAoIXRoaXMub3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignTm8gb3V0bGV0IGZvdW5kIHJlbGF0aXZlIHRvIGFjdGl2YXRlZCByb3V0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0LmlzTlNFbXB0eU91dGxldCA9IHRoaXMuaXNFbXB0eU91dGxldDtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnVwZGF0ZU91dGxldEZyYW1lKHRoaXMub3V0bGV0LCB0aGlzLmZyYW1lLCB0aGlzLmlzRW1wdHlPdXRsZXQpO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXQgJiYgdGhpcy5vdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQ3VycmVudGx5IGluIHBhZ2UgYmFjayBuYXZpZ2F0aW9uIC0gY29tcG9uZW50IHNob3VsZCBiZSByZWF0dGFjaGVkIGluc3RlYWQgb2YgYWN0aXZhdGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmFjdGl2YXRlV2l0aCgpIC0gJHtyb3V0ZVRvU3RyaW5nKGFjdGl2YXRlZFJvdXRlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgICAgICB0aGlzLm1hcmtBY3RpdmF0ZWRSb3V0ZShhY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVPbkdvRm9yd2FyZChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXIgfHwgdGhpcy5lbnZpcm9ubWVudEluamVjdG9yKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUV2ZW50cy5lbWl0KHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlKTtcbiAgICB9XG4gICAgYWN0aXZhdGVPbkdvRm9yd2FyZChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXJPckluamVjdG9yKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0LmFjdGl2YXRlKCkgZm9yd2FyZCBuYXZpZ2F0aW9uIC0gJyArICdjcmVhdGUgZGV0YWNoZWQgbG9hZGVyIGluIHRoZSBsb2FkZXIgY29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5nZXRDb21wb25lbnRUeXBlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZUZhY3Rvcnkoe1xuICAgICAgICAgICAgaXNOYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9uZW50VHlwZTogY29tcG9uZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmxvY2F0aW9uO1xuICAgICAgICBjb25zdCBkZXN0cnVjdGlibGVzID0gbmV3IFNldChbUGFnZVNlcnZpY2VdKTtcbiAgICAgICAgY29uc3QgcGFyZW50SW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoe1xuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQYWdlLCB1c2VWYWx1ZTogcGFnZSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogRnJhbWUsIHVzZVZhbHVlOiB0aGlzLmZyYW1lIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQYWdlUm91dGUsIHVzZVZhbHVlOiBuZXcgUGFnZVJvdXRlKGFjdGl2YXRlZFJvdXRlKSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQWN0aXZhdGVkUm91dGUsIHVzZVZhbHVlOiBhY3RpdmF0ZWRSb3V0ZSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQ2hpbGRyZW5PdXRsZXRDb250ZXh0cywgdXNlVmFsdWU6IHRoaXMucGFyZW50Q29udGV4dHMuZ2V0T3JDcmVhdGVDb250ZXh0KHRoaXMubmFtZSkuY2hpbGRyZW4gfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2VTZXJ2aWNlLCB1c2VDbGFzczogUGFnZVNlcnZpY2UgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwYXJlbnQ6IGxvY2F0aW9uLmluamVjdG9yLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW5qZWN0b3IgPSBuZXcgRGVzdHJ1Y3RpYmxlSW5qZWN0b3IoZGVzdHJ1Y3RpYmxlcywgcGFyZW50SW5qZWN0b3IpO1xuICAgICAgICBsZXQgbG9hZGVyUmVmO1xuICAgICAgICBpZiAoaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIocmVzb2x2ZXJPckluamVjdG9yKSkge1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IHJlc29sdmVyT3JJbmplY3Rvci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICBsb2FkZXJSZWYgPSBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSwgbG9jYXRpb24ubGVuZ3RoLCBpbmplY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbnZpcm9ubWVudEluamVjdG9yID0gcmVzb2x2ZXJPckluamVjdG9yO1xuICAgICAgICAgICAgbG9hZGVyUmVmID0gbG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KERldGFjaGVkTG9hZGVyLCB7IGluZGV4OiBsb2NhdGlvbi5sZW5ndGgsIGluamVjdG9yLCBlbnZpcm9ubWVudEluamVjdG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRlclJlZi5vbkRlc3Ryb3koKCkgPT4gaW5qZWN0b3IuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBsb2FkZXJSZWYuaW5zdGFuY2UubG9hZENvbXBvbmVudEluTG9jYXRpb24oY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLmxvYWRDb21wb25lbnRJblBhZ2UocGFnZSwgdGhpcy5hY3RpdmF0ZWQsIHsgYWN0aXZhdGVkUm91dGUgfSk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkW2xvYWRlclJlZlN5bWJvbF0gPSBsb2FkZXJSZWY7XG4gICAgfVxuICAgIGxvYWRDb21wb25lbnRJblBhZ2UocGFnZSwgY29tcG9uZW50UmVmLCBuYXZpZ2F0aW9uQ29udGV4dCkge1xuICAgICAgICAvLyBDb21wb25lbnQgbG9hZGVkLiBGaW5kIGl0cyByb290IG5hdGl2ZSB2aWV3LlxuICAgICAgICBjb25zdCBjb21wb25lbnRWaWV3ID0gY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIG9yaWdpbmFsIG5hdGl2ZSBwYXJlbnQuXG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlQ2hpbGQoY29tcG9uZW50Vmlldy5wYXJlbnQsIGNvbXBvbmVudFZpZXcpO1xuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIG5ldyBwYWdlXG4gICAgICAgIHRoaXMudmlld1V0aWwuYXBwZW5kQ2hpbGQocGFnZSwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgIGxldCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQodGhpcy5fYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBsZXQgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBjb25zdCB0aGlzUm91dGVLZXkgPSBvdXRsZXRLZXk7XG4gICAgICAgIHdoaWxlICghdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5KSkge1xuICAgICAgICAgICAgdG9wQWN0aXZhdGVkUm91dGUgPSB0b3BBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXRvcEFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIG91dGxldCBmb3Igcm91dGU6ICcgKyB0aGlzUm91dGVLZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdmlnYXRlZEZyb21DYWxsYmFjayA9IGdsb2JhbC5ab25lLmN1cnJlbnQud3JhcCgoYXJncykgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSwgb3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhudWxsLCB0aGlzLmZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IGV4cGVyaW1lbnQgd2l0aCB1c2luZyBOZ1pvbmUgaW5zdGVhZCBvZiBnbG9iYWwgYWJvdmVcbiAgICAgICAgLy8gY29uc3QgbmF2aWdhdGVkRnJvbUNhbGxiYWNrID0gKGFyZ3M6IE5hdmlnYXRlZERhdGEpID0+IHtcbiAgICAgICAgLy8gXHRpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAvLyAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICAvLyAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhudWxsLCB0aGlzLmZyYW1lKTtcbiAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAvLyBcdH1cbiAgICAgICAgLy8gfTtcbiAgICAgICAgcGFnZS5vbihQYWdlLm5hdmlnYXRlZEZyb21FdmVudCwgbmF2aWdhdGVkRnJvbUNhbGxiYWNrKTtcbiAgICAgICAgY29tcG9uZW50UmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgICAgIHBhZ2Uub2ZmKFBhZ2UubmF2aWdhdGVkRnJvbUV2ZW50LCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmF2T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE5hdk9wdGlvbnMpLCAodGhpcy5yb3V0ZXIuZ2V0Q3VycmVudE5hdmlnYXRpb24oKS5leHRyYXMgfHwge30pKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUsIG5hdk9wdGlvbnMpO1xuICAgICAgICBjb25zdCBpc1JlcGxhY2UgPSBuYXZPcHRpb25zLnJlcGxhY2VVcmwgJiYgIW5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5O1xuICAgICAgICBjb25zdCBjdXJyZW50Um91dGUgPSB0aGlzLmFjdGl2YXRlZFJvdXRlO1xuICAgICAgICAvLyBDbGVhciByZWZDYWNoZSBpZiBuYXZpZ2F0aW9uIHdpdGggY2xlYXJIaXN0b3J5XG4gICAgICAgIGlmIChuYXZPcHRpb25zLmNsZWFySGlzdG9yeSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5Lm1hcmtDYWNoZUZvckNsZWFyKGtleSkpO1xuICAgICAgICAgICAgY29uc3Qgd2lwZUNhY2hlID0gY2FsbGFibGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3N0TmF2RnVuY3Rpb24gPT09IHdpcGVDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLmFjdGl2YXRlZFJvdXRlID09PSBjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsIGFsdGVybmF0aXZlIGZpeCAob25seSBmaXggY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgb3V0bGV0KVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXN0cyA9IG91dGxldEtleS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyTWFya2VkQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IHdpcGVDYWNoZTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ2FsbGJhY2sgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aXBlQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFnZS5vbmNlKFBhZ2UubmF2aWdhdGVkVG9FdmVudCwgY2xlYXJDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmF2T3B0aW9ucy5yZXBsYWNlVXJsKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kubWFya0NhY2hlRm9yUG9wKGtleSkpO1xuICAgICAgICAgICAgY29uc3QgcG9wQ2FjaGUgPSBjYWxsYWJsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROYXZGdW5jdGlvbiA9PT0gcG9wQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRsZXQgJiYgdGhpcy5hY3RpdmF0ZWRSb3V0ZSA9PT0gY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvdGVudGlhbCBhbHRlcm5hdGl2ZSBmaXggKG9ubHkgZml4IGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IG91dGxldClcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbmVzdHMgPSBvdXRsZXRLZXkuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5maWx0ZXIoKGspID0+IGsuc3BsaXQoJy8nKS5sZW5ndGggPj0gbmVzdHMubGVuZ3RoKS5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LnBvcENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNYXJrZWRDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gcG9wQ2FjaGU7XG4gICAgICAgICAgICBjb25zdCBjbGVhckNhbGxiYWNrID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9wQ2FjaGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFnZS5vbmNlKFBhZ2UubmF2aWdhdGVkVG9FdmVudCwgY2xlYXJDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5hdmlnYXRpb25Db250ZXh0LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBuYXZPcHRpb25zLmNsZWFySGlzdG9yeSxcbiAgICAgICAgICAgIGFuaW1hdGVkOiBuYXZPcHRpb25zLmFuaW1hdGVkLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogbmF2T3B0aW9ucy50cmFuc2l0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNSZXBsYWNlICYmIHRoaXMuZnJhbWUuY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUucmVwbGFjZVBhZ2UobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGaW5kIGFuZCBtYXJrIHRoZSB0b3AgYWN0aXZhdGVkIHJvdXRlIGFzIGFuIGFjdGl2YXRlZCBvbmUuXG4gICAgLy8gSW4gbnMtbG9jYXRpb24tc3RyYXRlZ3kgd2UgYXJlIHJldXNpbmcgY29tcG9uZW50cyBvbmx5IGlmIHRoZWlyIGNvcnJlc3BvbmluZyByb3V0ZXNcbiAgICAvLyBhcmUgbWFya2VkIGFzIGFjdGl2YXRlZCBmcm9tIHRoaXMgbWV0aG9kLlxuICAgIG1hcmtBY3RpdmF0ZWRSb3V0ZShhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBxdWV1ZS5wdXNoKGFjdGl2YXRlZFJvdXRlLnNuYXBzaG90KTtcbiAgICAgICAgbGV0IGN1cnJlbnRSb3V0ZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZFJvdXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjaGlsZFJvdXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdG9wQWN0aXZhdGVkUm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGN1cnJlbnRSb3V0ZSk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQgJiYgb3V0bGV0LmZyYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0b3BBY3RpdmF0ZWRSb3V0ZVtwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQWN0aXZhdGVkIHJvdXRlIG1hcmtlZCBhcyBwYWdlOiAnICsgcm91dGVUb1N0cmluZyh0b3BBY3RpdmF0ZWRSb3V0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29tcG9uZW50VHlwZShhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICByZXR1cm4gYWN0aXZhdGVkUm91dGUucm91dGVDb25maWcuY29tcG9uZW50IHx8IGFjdGl2YXRlZFJvdXRlLmNvbXBvbmVudDtcbiAgICB9XG4gICAgZ2V0T3V0bGV0KGFjdGl2YXRlZFJvdXRlU25hcHNob3QpIHtcbiAgICAgICAgY29uc3QgdG9wQWN0aXZhdGVkUm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGFjdGl2YXRlZFJvdXRlU25hcHNob3QpO1xuICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgLy8gTmFtZWQgbGF6eSBsb2FkZWQgb3V0bGV0LlxuICAgICAgICBpZiAoIW91dGxldCAmJiB0aGlzLmlzRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudCk7XG4gICAgICAgICAgICBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChwYXJlbnRPdXRsZXRLZXksIHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudCk7XG4gICAgICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0Lm91dGxldEtleXMucHVzaChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxufVxuUGFnZVJvdXRlck91dGxldC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZXBzOiBbeyB0b2tlbjogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogJ25hbWUnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2FjdGlvbkJhclZpc2liaWxpdHknLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2lzRW1wdHlPdXRsZXQnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogUEFHRV9GQUNUT1JZIH0sIHsgdG9rZW46IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IFZpZXdVdGlsIH0sIHsgdG9rZW46IGkwLkVudmlyb25tZW50SW5qZWN0b3IgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuUGFnZVJvdXRlck91dGxldC7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBzZWxlY3RvcjogXCJwYWdlLXJvdXRlci1vdXRsZXRcIiwgb3V0cHV0czogeyBhY3RpdmF0ZUV2ZW50czogXCJhY3RpdmF0ZVwiLCBkZWFjdGl2YXRlRXZlbnRzOiBcImRlYWN0aXZhdGVcIiB9LCBuZ0ltcG9ydDogaTAgfSk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtBY3RpdmF0ZWRSb3V0ZSwgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIFBhZ2VSb3V0ZXJPdXRsZXQucHJvdG90eXBlLCBcImFjdGl2YXRlV2l0aFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1BhZ2UsIENvbXBvbmVudFJlZiwgT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIFBhZ2VSb3V0ZXJPdXRsZXQucHJvdG90eXBlLCBcImxvYWRDb21wb25lbnRJblBhZ2VcIiwgbnVsbCk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVJvdXRlck91dGxldCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAncGFnZS1yb3V0ZXItb3V0bGV0JyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6IGkxJDMuQ2hpbGRyZW5PdXRsZXRDb250ZXh0cyB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ25hbWUnXVxuICAgICAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aW9uQmFyVmlzaWJpbGl0eSddXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogWydpc0VtcHR5T3V0bGV0J11cbiAgICAgICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtQQUdFX0ZBQ1RPUlldXG4gICAgICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSwgeyB0eXBlOiBpMC5OZ1pvbmUgfSwgeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBWaWV3VXRpbCB9LCB7IHR5cGU6IGkwLkVudmlyb25tZW50SW5qZWN0b3IgfV07XG4gICAgfSwgcHJvcERlY29yYXRvcnM6IHsgYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aXZhdGUnXVxuICAgICAgICAgICAgfV0sIGRlYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnZGVhY3RpdmF0ZSddXG4gICAgICAgICAgICB9XSwgYWN0aXZhdGVXaXRoOiBbXSwgbG9hZENvbXBvbmVudEluUGFnZTogW10gfSB9KTtcblxuY2xhc3MgTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiBleHRlbmRzIFBsYXRmb3JtTG9jYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uY29uc3RydWN0b3IoKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXRCYXNlSHJlZkZyb21ET00oKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIG9uUG9wU3RhdGUoZm4pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Lm9uUG9wU3RhdGUoZm4pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25IYXNoQ2hhbmdlKF9mbikge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHNlYXJjaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgcGF0aG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucGF0aCgpO1xuICAgIH1cbiAgICBzZXQgcGF0aG5hbWUoX25ld1BhdGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIHNldCBwYXRobmFtZSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBwdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgbnVsbCk7XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBudWxsKTtcbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgIH1cbn1cbk5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiwgZGVwczogW3sgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pO1xuTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbi7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4yLjJcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XTsgfSB9KTtcblxuY2xhc3MgTlNFbXB0eU91dGxldENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VSb3V0ZXJPdXRsZXQgJiYgdGhpcy5wYWdlLmZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZVJvdXRlck91dGxldC5zZXRBY3Rpb25CYXJWaXNpYmlsaXR5KHRoaXMucGFnZS5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbk5TRW1wdHlPdXRsZXRDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuTlNFbXB0eU91dGxldENvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjIuMlwiLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBzZWxlY3RvcjogXCJucy1lbXB0eS1vdXRsZXRcIiwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJwYWdlUm91dGVyT3V0bGV0XCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBQYWdlUm91dGVyT3V0bGV0IH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBcIjxwYWdlLXJvdXRlci1vdXRsZXQgaXNFbXB0eU91dGxldD0ndHJ1ZSc+PC9wYWdlLXJvdXRlci1vdXRsZXQ+XCIsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIHNlbGVjdG9yOiBcInBhZ2Utcm91dGVyLW91dGxldFwiLCBvdXRwdXRzOiBbXCJhY3RpdmF0ZVwiLCBcImRlYWN0aXZhdGVcIl0gfV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICducy1lbXB0eS1vdXRsZXQnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8cGFnZS1yb3V0ZXItb3V0bGV0IGlzRW1wdHlPdXRsZXQ9J3RydWUnPjwvcGFnZS1yb3V0ZXItb3V0bGV0PlwiLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgcGFnZVJvdXRlck91dGxldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogW1BhZ2VSb3V0ZXJPdXRsZXQsIHsgcmVhZDogUGFnZVJvdXRlck91dGxldCwgc3RhdGljOiBmYWxzZSB9XVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3kobG9jYXRpb25TdHJhdGVneSwgZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpIHtcbiAgICByZXR1cm4gbG9jYXRpb25TdHJhdGVneSA/IGxvY2F0aW9uU3RyYXRlZ3kgOiBuZXcgTlNMb2NhdGlvblN0cmF0ZWd5KGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKTtcbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSB7XG4gICAgc3RhdGljIGZvclJvb3Qocm91dGVzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsXG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAuLi5Sb3V0ZXJNb2R1bGUuZm9yUm9vdChyb3V0ZXMsIGNvbmZpZykucHJvdmlkZXJzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogTlNMb2NhdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBwcm92aWRlTG9jYXRpb25TdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1tOU0xvY2F0aW9uU3RyYXRlZ3ksIG5ldyBPcHRpb25hbCgpLCBuZXcgU2tpcFNlbGYoKV0sIEZyYW1lU2VydmljZSwgW25ldyBPcHRpb25hbCgpLCBTVEFSVF9QQVRIXV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IExvY2F0aW9uU3RyYXRlZ3ksIHVzZUV4aXN0aW5nOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgICAgICBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGxhdGZvcm1Mb2NhdGlvbiwgdXNlRXhpc3Rpbmc6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gfSxcbiAgICAgICAgICAgICAgICBSb3V0ZXJFeHRlbnNpb25zLFxuICAgICAgICAgICAgICAgIE5TUm91dGVSZXVzZVN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUm91dGVSZXVzZVN0cmF0ZWd5LCB1c2VFeGlzdGluZzogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmb3JDaGlsZChyb3V0ZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgbmdNb2R1bGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgcHJvdmlkZXJzOiBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQocm91dGVzKS5wcm92aWRlcnMgfTtcbiAgICB9XG59XG5OYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTtcbk5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSB9KTtcbk5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIFJvdXRlck1vZHVsZV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMi4yXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG5sZXQgY3VycmVudFJhZklkID0gMTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8qKlxuICogQW4gaW5qZWN0YWJsZSBzZXJ2aWNlIGZvciBleGVjdXRpbmcgd29yayBpbnNpZGUgb3Igb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICpcbiAqIFRoZSBtb3N0IGNvbW1vbiB1c2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIHdoZW4gc3RhcnRpbmcgYSB3b3JrIGNvbnNpc3Rpbmcgb2ZcbiAqIG9uZSBvciBtb3JlIGFzeW5jaHJvbm91cyB0YXNrcyB0aGF0IGRvbid0IHJlcXVpcmUgVUkgdXBkYXRlcyBvciBlcnJvciBoYW5kbGluZyB0byBiZSBoYW5kbGVkIGJ5XG4gKiBBbmd1bGFyLiBTdWNoIHRhc2tzIGNhbiBiZSBraWNrZWQgb2ZmIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbmQgaWYgbmVlZGVkLCB0aGVzZSB0YXNrc1xuICogY2FuIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSB2aWEge0BsaW5rICNydW59LlxuICpcbiAqIDwhLS0gVE9ETzogYWRkL2ZpeCBsaW5rcyB0bzpcbiAqICAgLSBkb2NzIGV4cGxhaW5pbmcgem9uZXMgYW5kIHRoZSB1c2Ugb2Ygem9uZXMgaW4gQW5ndWxhciBhbmQgY2hhbmdlLWRldGVjdGlvblxuICogICAtIGxpbmsgdG8gcnVuT3V0c2lkZUFuZ3VsYXIvcnVuICh0aHJvdWdob3V0IHRoaXMgZmlsZSEpXG4gKiAgIC0tPlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtDb21wb25lbnQsIE5nWm9uZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge05nSWZ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbmctem9uZS1kZW1vJyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aDI+RGVtbzogTmdab25lPC9oMj5cbiAqXG4gKiAgICAgPHA+UHJvZ3Jlc3M6IHt7cHJvZ3Jlc3N9fSU8L3A+XG4gKiAgICAgPHAgKm5nSWY9XCJwcm9ncmVzcyA+PSAxMDBcIj5Eb25lIHByb2Nlc3Npbmcge3tsYWJlbH19IG9mIEFuZ3VsYXIgem9uZSE8L3A+XG4gKlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyB3aXRoaW4gQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIG91dHNpZGUgb2YgQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgIGAsXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIE5nWm9uZURlbW8ge1xuICogICBwcm9ncmVzczogbnVtYmVyID0gMDtcbiAqICAgbGFiZWw6IHN0cmluZztcbiAqXG4gKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX25nWm9uZTogTmdab25lKSB7fVxuICpcbiAqICAgLy8gTG9vcCBpbnNpZGUgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdpbnNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4gY29uc29sZS5sb2coJ0luc2lkZSBEb25lIScpKTtcbiAqICAgfVxuICpcbiAqICAgLy8gTG9vcCBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgTk9UIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ291dHNpZGUnO1xuICogICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICogICAgIHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gKiAgICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IHtcbiAqICAgICAgICAgLy8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkaXNwbGF5IGRvbmVcbiAqICAgICAgICAgdGhpcy5fbmdab25lLnJ1bigoKSA9PiB7IGNvbnNvbGUubG9nKCdPdXRzaWRlIERvbmUhJyk7IH0pO1xuICogICAgICAgfSk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqXG4gKiAgIF9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICogICAgIHRoaXMucHJvZ3Jlc3MgKz0gMTtcbiAqICAgICBjb25zb2xlLmxvZyhgQ3VycmVudCBwcm9ncmVzczogJHt0aGlzLnByb2dyZXNzfSVgKTtcbiAqXG4gKiAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxMDApIHtcbiAqICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrKSwgMTApO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICBkb25lQ2FsbGJhY2soKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuY2xhc3MgTmF0aXZlU2NyaXB0Tmdab25lIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGVuYWJsZUxvbmdTdGFja1RyYWNlID0gaXNEZXZNb2RlKCksIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPSB0cnVlLCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWUgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgbWljcm90YXNrcyBvciBtYWNyb3Rhc2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIGNvZGUgZW50ZXJzIEFuZ3VsYXIgWm9uZS4gVGhpcyBnZXRzIGZpcmVkIGZpcnN0IG9uIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVW5zdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlcmUgaXMgbm8gbW9yZSBtaWNyb3Rhc2tzIGVucXVldWVkIGluIHRoZSBjdXJyZW50IFZNIFR1cm4uXG4gICAgICAgICAqIFRoaXMgaXMgYSBoaW50IGZvciBBbmd1bGFyIHRvIGRvIGNoYW5nZSBkZXRlY3Rpb24sIHdoaWNoIG1heSBlbnF1ZXVlIG1vcmUgbWljcm90YXNrcy5cbiAgICAgICAgICogRm9yIHRoaXMgcmVhc29uIHRoaXMgZXZlbnQgY2FuIGZpcmUgbXVsdGlwbGUgdGltZXMgcGVyIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlIGxhc3QgYG9uTWljcm90YXNrRW1wdHlgIGhhcyBydW4gYW5kIHRoZXJlIGFyZSBubyBtb3JlIG1pY3JvdGFza3MsIHdoaWNoXG4gICAgICAgICAqIGltcGxpZXMgd2UgYXJlIGFib3V0IHRvIHJlbGlucXVpc2ggVk0gdHVybi5cbiAgICAgICAgICogVGhpcyBldmVudCBnZXRzIGNhbGxlZCBqdXN0IG9uY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGFuIGVycm9yIGhhcyBiZWVuIGRlbGl2ZXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICBpZiAodHlwZW9mIFpvbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW4gdGhpcyBjb25maWd1cmF0aW9uIEFuZ3VsYXIgcmVxdWlyZXMgWm9uZS5qc2ApO1xuICAgICAgICB9XG4gICAgICAgIFpvbmUuYXNzZXJ0Wm9uZVBhdGNoZWQoKTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNlbGYuX25lc3RpbmcgPSAwO1xuICAgICAgICBzZWxmLl9vdXRlciA9IHNlbGYuX2lubmVyID0gWm9uZS5jdXJyZW50O1xuICAgICAgICBpZiAoWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKG5ldyBab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVMb25nU3RhY2tUcmFjZSAmJiBab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhab25lWydsb25nU3RhY2tUcmFjZVpvbmVTcGVjJ10pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUsIGFsbCB0YXNrcyBpbmNsdWRpbmcgZXZlbnQgdGFza3Mgd2lsbCBiZVxuICAgICAgICAvLyBjb2FsZXNjZWQsIHNvIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gb3B0aW9uIGlzIG5vdCBuZWNlc3NhcnkgYW5kIGNhbiBiZSBza2lwcGVkLlxuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gPSAhc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gJiYgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICBzZWxmLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQgPSBVdGlsc1tab25lLl9fc3ltYm9sX18oJ2Rpc3BhdGNoVG9NYWluVGhyZWFkJyldIHx8IFV0aWxzLmRpc3BhdGNoVG9NYWluVGhyZWFkO1xuICAgICAgICAgICAgbmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQoY2IpO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRSYWZJZCsrO1xuICAgICAgICB9O1xuICAgICAgICBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcihzZWxmKTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmICghTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKE5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZSBhcyBhIHRhc2sgYW5kIHJldHVybnMgdmFsdWVcbiAgICAgKiByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuVGFzayhmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIG5hbWUpIHtcbiAgICAgICAgY29uc3Qgem9uZSA9IHRoaXMuX2lubmVyO1xuICAgICAgICBjb25zdCB0YXNrID0gem9uZS5zY2hlZHVsZUV2ZW50VGFzaygnTmdab25lRXZlbnQ6ICcgKyBuYW1lLCBmbiwgRU1QVFlfUEFZTE9BRCwgbm9vcCwgbm9vcCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZS5ydW5UYXNrKHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuY2FuY2VsVGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIGBydW5gLCBleGNlcHQgdGhhdCBzeW5jaHJvbm91cyBlcnJvcnMgYXJlIGNhdWdodCBhbmQgZm9yd2FyZGVkIHZpYSBgb25FcnJvcmAgYW5kIG5vdFxuICAgICAqIHJldGhyb3duLlxuICAgICAqL1xuICAgIHJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgaW4gQW5ndWxhcidzIHBhcmVudCB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFsbG93cyB5b3UgdG8gZXNjYXBlIEFuZ3VsYXIncyB6b25lIGFuZCBkb1xuICAgICAqIHdvcmsgdGhhdFxuICAgICAqIGRvZXNuJ3QgdHJpZ2dlciBBbmd1bGFyIGNoYW5nZS1kZXRlY3Rpb24gb3IgaXMgc3ViamVjdCB0byBBbmd1bGFyJ3MgZXJyb3IgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgI3J1bn0gdG8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkbyB3b3JrIHRoYXQgdXBkYXRlcyB0aGUgYXBwbGljYXRpb24gbW9kZWwuXG4gICAgICovXG4gICAgcnVuT3V0c2lkZUFuZ3VsYXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyLnJ1bihmbik7XG4gICAgfVxufVxuY29uc3QgRU1QVFlfUEFZTE9BRCA9IHt9O1xuZnVuY3Rpb24gY2hlY2tTdGFibGUoem9uZSkge1xuICAgIC8vIFRPRE86IEBKaWFMaVBhc3Npb24sIHNob3VsZCBjaGVjayB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHRvIHByZXZlbnRcbiAgICAvLyByZS1lbnRyeS4gVGhlIGNhc2UgaXM6XG4gICAgLy9cbiAgICAvLyBAQ29tcG9uZW50KHsuLi59KVxuICAgIC8vIGV4cG9ydCBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgIC8vIGNvbnN0cnVjdG9yKHByaXZhdGUgbmdab25lOiBOZ1pvbmUpIHtcbiAgICAvLyAgIHRoaXMubmdab25lLm9uU3RhYmxlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiBjb25zb2xlLmxvZygnc3RhYmxlJyk7KTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIFRoZSBvblN0YWJsZSBzdWJzY3JpYmVyIHJ1biBhbm90aGVyIGZ1bmN0aW9uIGluc2lkZSBuZ1pvbmVcbiAgICAvLyB3aGljaCBjYXVzZXMgYGNoZWNrU3RhYmxlKClgIHJlLWVudHJ5LlxuICAgIC8vIEJ1dCB0aGlzIGZpeCBjYXVzZXMgc29tZSBpc3N1ZXMgaW4gZzMsIHNvIHRoaXMgZml4IHdpbGwgYmVcbiAgICAvLyBsYXVuY2hlZCBpbiBhbm90aGVyIFBSLlxuICAgIGlmICh6b25lLl9uZXN0aW5nID09IDAgJiYgIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgJiYgIXpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICAgICAgICAgIHpvbmUub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZy0tO1xuICAgICAgICAgICAgaWYgKCF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uU3RhYmxlLmVtaXQobnVsbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSkge1xuICAgIC8qKlxuICAgICAqIFdlIGFsc28gbmVlZCB0byBjaGVjayBfbmVzdGluZyBoZXJlXG4gICAgICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlIHdpdGggc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSB0cnVlXG4gICAgICpcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKiBuZ1pvbmUucnVuKCgpID0+IHt9KTtcbiAgICAgKlxuICAgICAqIFdlIHdhbnQgdGhlIHR3byBgbmdab25lLnJ1bigpYCBvbmx5IHRyaWdnZXIgb25lIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgKiB3aGVuIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIGlzIHRydWUuXG4gICAgICogQW5kIGJlY2F1c2UgaW4gdGhpcyBjYXNlLCBjaGFuZ2UgZGV0ZWN0aW9uIHJ1biBpbiBhc3luYyB3YXkocmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcbiAgICAgKiBzbyB3ZSBhbHNvIG5lZWQgdG8gY2hlY2sgdGhlIF9uZXN0aW5nIGhlcmUgdG8gcHJldmVudCBtdWx0aXBsZVxuICAgICAqIGNoYW5nZSBkZXRlY3Rpb25zLlxuICAgICAqL1xuICAgIGlmICh6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nIHx8IHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gem9uZS5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUuY2FsbChnbG9iYWwsICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zNjgzOS5cbiAgICAgICAgLy8gVGhlIGNvcmUgaXNzdWUgaXMgdGhhdCB3aGVuIGV2ZW50IGNvYWxlc2NpbmcgaXMgZW5hYmxlZCBpdCBpcyBwb3NzaWJsZSBmb3IgbWljcm90YXNrc1xuICAgICAgICAvLyB0byBnZXQgZmx1c2hlZCB0b28gZWFybHkgKEFzIGlzIHRoZSBjYXNlIHdpdGggYFByb21pc2UudGhlbmApIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVG8gd29ya2Fyb3VuZCB0aGlzIHdlIHNjaGVkdWxlIGEgXCJmYWtlXCIgZXZlbnRUYXNrIGJlZm9yZSB3ZSBwcm9jZXNzIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuIFRoZSBiZW5lZml0IG9mIHRoaXMgaXMgdGhhdCB0aGUgXCJmYWtlXCIgY29udGFpbmVyIGV2ZW50VGFza1xuICAgICAgICAvLyAgd2lsbCBwcmV2ZW50IHRoZSBtaWNyb3Rhc2tzIHF1ZXVlIGZyb20gZ2V0dGluZyBkcmFpbmVkIGluIGJldHdlZW4gdGhlIGNvYWxlc2NpbmdcbiAgICAgICAgLy8gZXZlbnRUYXNrIGV4ZWN1dGlvbi5cbiAgICAgICAgaWYgKCF6b25lLmZha2VUb3BFdmVudFRhc2spIHtcbiAgICAgICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzayA9IFpvbmUucm9vdC5zY2hlZHVsZUV2ZW50VGFzaygnZmFrZVRvcEV2ZW50VGFzaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IC0xO1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB6b25lLmlzQ2hlY2tTdGFibGVSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LCB1bmRlZmluZWQsICgpID0+IHsgfSwgKCkgPT4geyB9KTtcbiAgICAgICAgfVxuICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2suaW52b2tlKCk7XG4gICAgfSk7XG4gICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xufVxuZnVuY3Rpb24gZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioem9uZSkge1xuICAgIGNvbnN0IGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUgPSAoKSA9PiB7XG4gICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpO1xuICAgIH07XG4gICAgem9uZS5faW5uZXIgPSB6b25lLl9pbm5lci5mb3JrKHtcbiAgICAgICAgbmFtZTogJ2FuZ3VsYXInLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGlzQW5ndWxhclpvbmU6IHRydWUgfSxcbiAgICAgICAgb25JbnZva2VUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlVGFzayh0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICgoem9uZS5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uICYmIHRhc2sudHlwZSA9PT0gJ2V2ZW50VGFzaycpIHx8IHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gfHwgIVV0aWxzLmlzTWFpblRocmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25JbnZva2U6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiB8fCAhVXRpbHMuaXNNYWluVGhyZWFkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhc1Rhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBoYXNUYXNrU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAvLyAoQSBjaGlsZCBoYXNUYXNrIGV2ZW50IGlzIG5vdCBpbnRlcmVzdGluZyB0byB1cylcbiAgICAgICAgICAgICAgICBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWljcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5taWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21hY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhbmRsZUVycm9yOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhbmRsZUVycm9yKHRhcmdldCwgZXJyb3IpO1xuICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB6b25lLm9uRXJyb3IuZW1pdChlcnJvcikpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpIHtcbiAgICBpZiAoem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uRW50ZXIoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICBpZiAoem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB6b25lLmlzU3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHpvbmUub25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgeyBBUFBfUk9PVF9WSUVXLCBBY3Rpb25CYXJDb21wb25lbnQsIEFjdGlvbkJhclNjb3BlLCBBY3Rpb25JdGVtRGlyZWN0aXZlLCBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBBcHBIb3N0QXN5bmNWaWV3LCBBcHBIb3N0VmlldywgQmFzZVBvcnRhbE91dGxldCwgQmFzZVZhbHVlQWNjZXNzb3IsIENPTU1PTl9QUk9WSURFUlMsIENka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0LCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgQ29tbWVudE5vZGUsIENvbXBvbmVudFBvcnRhbCwgREVWSUNFLCBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgRGF0ZVZhbHVlQWNjZXNzb3IsIERldGFjaGVkTG9hZGVyLCBEb21Qb3J0YWwsIEVOQUJMRV9SRVVTQUJFX1ZJRVdTLCBFbXVsYXRlZFJlbmRlcmVyLCBGcmFtZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50LCBGcmFtZVBhZ2VNb2R1bGUsIEZyYW1lU2VydmljZSwgSU9TRmlsdGVyQ29tcG9uZW50LCBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lLCBJbnZpc2libGVOb2RlLCBJdGVtQ29udGV4dCwgTGlzdFZpZXdDb21wb25lbnQsIE1vZGFsRGlhbG9nUGFyYW1zLCBNb2RhbERpYWxvZ1NlcnZpY2UsIE5BTUVTUEFDRV9GSUxURVJTLCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUywgTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIE5BVElWRV9ESUFMT0dfREFUQSwgTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMsIE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIE5TRmlsZVN5c3RlbSwgTlNMb2NhdGlvblN0cmF0ZWd5LCBOU1JvdXRlUmV1c2VTdHJhdGVneSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIE5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlLCBOYXRpdmVEaWFsb2dDb25maWcsIE5hdGl2ZURpYWxvZ01vZHVsZSwgTmF0aXZlRGlhbG9nUmVmLCBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBOYXRpdmVNb2RhbFJlZiwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLCBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgTmF0aXZlU2NyaXB0RG9jdW1lbnQsIE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCwgTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUsIE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBOYXRpdmVTY3JpcHRNb2R1bGUsIE5hdGl2ZVNjcmlwdE5nU2FmZUV2ZW50LCBOYXRpdmVTY3JpcHROZ1pvbmUsIE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIsIE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIE5nVmlld1JlZiwgTnNIdHRwQmFja0VuZCwgTnNUZW1wbGF0ZWRJdGVtLCBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBPdXRsZXQsIFBBR0VfRkFDVE9SWSwgUGFnZURpcmVjdGl2ZSwgUGFnZVJvdXRlLCBQYWdlUm91dGVyT3V0bGV0LCBQYWdlU2VydmljZSwgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIsIFBvcnRhbCwgUG9ydGFsTW9kdWxlLCBSb290Q29tcG9zaXRlTW9kdWxlLCBSb290Vmlld1Byb3h5LCBSb3V0ZXJFeHRlbnNpb25zLCBTVEFSVF9QQVRILCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUZW1wbGF0ZVBvcnRhbCwgVGV4dE5vZGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgX05hdGl2ZURpYWxvZ0Jhc2UsIGJvb3RzdHJhcEFwcGxpY2F0aW9uLCBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbiwgY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LCBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksIGN1c3RvbVBhZ2VGYWN0b3J5LCBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSwgZGFzaENhc2VUb0NhbWVsQ2FzZSwgZGVmYXVsdE5hdk9wdGlvbnMsIGRlZmF1bHRQYWdlRmFjdG9yeSwgZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIsIGRldGFjaFZpZXdGcm9tUGFyZW50LCBkaXNhYmxlUm9vdFZpZXdIYW5kaW5nLCBlcnJvckhhbmRsZXIsIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlLCBmcmFtZU1ldGEsIGdlbmVyYXRlRGV0YWNoZWRMb2FkZXIsIGdlbmVyYXRlRmFsbGJhY2tSb290VmlldywgZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3LCBnZW5lcmF0ZVJhbmRvbUlkLCBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSwgZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldywgZ2V0SXRlbVZpZXdSb290LCBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlLCBnZXRWaWV3Q2xhc3MsIGdldFZpZXdNZXRhLCBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIsIGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LCBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlciwgaXNCbGFuaywgaXNDb250ZW50VmlldywgaXNEZXRhY2hlZEVsZW1lbnQsIGlzSW52aXNpYmxlTm9kZSwgaXNKc09iamVjdCwgaXNLbm93blZpZXcsIGlzTGF5b3V0LCBpc0xpc3RMaWtlSXRlcmFibGUsIGlzUHJlc2VudCwgaXNWaWV3LCBvbkFmdGVyTGl2ZXN5bmMsIG9uQmVmb3JlTGl2ZXN5bmMsIG9uY2UsIHBsYXRmb3JtTmF0aXZlU2NyaXB0LCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMsIHBvc3RBbmd1bGFyQm9vdHN0cmFwJCwgcHJlQW5ndWxhckRpc3Bvc2FsJCwgcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3ksIHJlZ2lzdGVyRWxlbWVudCwgcmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cywgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCwgdGhyb3dJZkFscmVhZHlMb2FkZWQsIHRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yLCB0aHJvd051bGxQb3J0YWxFcnJvciwgdGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IsIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IsIHRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IsIHRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvciwgQ09NUE9ORU5UX1ZBUklBQkxFIGFzIMm1Q09NUE9ORU5UX1ZBUklBQkxFLCBDT05URU5UX0FUVFIgYXMgybVDT05URU5UX0FUVFIsIEhPU1RfQVRUUiBhcyDJtUhPU1RfQVRUUiwgTmF0aXZlU2NyaXB0RGVidWcgYXMgybVOYXRpdmVTY3JpcHRBbmd1bGFyRGVidWcsIHZpZXdVdGlsIGFzIMm1Vmlld1V0aWwsIGFjdGlvbkJhck1ldGEgYXMgybVhY3Rpb25CYXJNZXRhLCBlbGVtZW50TWFwIGFzIMm1ZWxlbWVudE1hcCwgaXNBY3Rpb25JdGVtIGFzIMm1aXNBY3Rpb25JdGVtLCBpc05hdmlnYXRpb25CdXR0b24gYXMgybVpc05hdmlnYXRpb25CdXR0b24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZXNjcmlwdC1hbmd1bGFyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJpMSIsIlZpZXciLCJMYXlvdXRCYXNlIiwiQ29udGVudFZpZXciLCJQcm94eVZpZXdDb250YWluZXIiLCJQYWdlIiwicGxhdGZvcm1OYW1lcyIsIkdyaWRMYXlvdXQiLCJBcHBsaWNhdGlvbiIsIlRyYWNlIiwiRm9ybWF0dGVkU3RyaW5nIiwiU3BhbiIsIkFic29sdXRlTGF5b3V0IiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJCdXR0b24iLCJEYXRlUGlja2VyIiwiRG9ja0xheW91dCIsIkZyYW1lIiwiSHRtbFZpZXciLCJJbWFnZSIsIkxhYmVsIiwiTGlzdFBpY2tlciIsIkxpc3RWaWV3IiwiUGxhY2Vob2xkZXIiLCJQcm9ncmVzcyIsIlJlcGVhdGVyIiwiUm9vdExheW91dCIsIlNjcm9sbFZpZXciLCJTZWFyY2hCYXIiLCJTZWdtZW50ZWRCYXIiLCJTZWdtZW50ZWRCYXJJdGVtIiwiU2xpZGVyIiwiU3RhY2tMYXlvdXQiLCJGbGV4Ym94TGF5b3V0IiwiU3dpdGNoIiwiVGFiVmlldyIsIlRleHRGaWVsZCIsIlRleHRWaWV3IiwiVGltZVBpY2tlciIsIldlYlZpZXciLCJXcmFwTGF5b3V0IiwidW5zZXRWYWx1ZSIsInByb2ZpbGUiLCJhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTIiwiZ2V0Vmlld0J5SWQiLCJPYnNlcnZhYmxlIiwiQWN0aW9uSXRlbSIsIk5hdmlnYXRpb25CdXR0b24iLCJBY3Rpb25CYXIiLCJPYnNlcnZhYmxlQXJyYXkiLCJUYWJWaWV3SXRlbSIsIkNvbG9yIiwiRGV2aWNlIiwiVXRpbHMiLCJyZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTIiwia25vd25Gb2xkZXJzIiwiRmlsZSIsIktleWZyYW1lQW5pbWF0aW9uIiwiYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIiLCJwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zIiwiQ1NTSGVscGVyIiwiZWFjaERlc2NlbmRhbnQiLCJDc3NBbmltYXRpb25Qcm9wZXJ0eSIsInBhdGgiLCJpMCIsIkluamVjdGlvblRva2VuIiwiSW5qZWN0IiwiQ29tcG9uZW50UmVmIiwiSW5qZWN0YWJsZSIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiT3B0aW9uYWwiLCJFbGVtZW50UmVmIiwiRGlyZWN0aXZlIiwiRXZlbnRFbWl0dGVyIiwiT3V0cHV0IiwiTmdNb2R1bGUiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJBcHBsaWNhdGlvblJlZiIsIkluamVjdG9yIiwiVmlld0NvbnRhaW5lclJlZiIsIkNvbXBvbmVudCIsIlZpZXdDaGlsZCIsIklucHV0IiwiaW5qZWN0IiwiSXRlcmFibGVEaWZmZXJzIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJmb3J3YXJkUmVmIiwiVGVtcGxhdGVSZWYiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNvbnRlbnRDaGlsZCIsIkhvc3RMaXN0ZW5lciIsIkhvc3QiLCJOT19FUlJPUlNfU0NIRU1BIiwiRXJyb3JIYW5kbGVyIiwiU2tpcFNlbGYiLCLJtUlOSkVDVE9SX1NDT1BFIiwiUmVuZGVyZXJGYWN0b3J5MiIsIkFwcGxpY2F0aW9uTW9kdWxlIiwiUGxhdGZvcm1SZWYiLCJOZ01vZHVsZVJlZiIsIsm1aW50ZXJuYWxDcmVhdGVBcHBsaWNhdGlvbiIsIk5nWm9uZSIsIlNhbml0aXplciIsImNyZWF0ZVBsYXRmb3JtRmFjdG9yeSIsInBsYXRmb3JtQ29yZSIsIkNvbnRlbnRDaGlsZHJlbiIsIkluamVjdEZsYWdzIiwiQXR0cmlidXRlIiwiaXNEZXZNb2RlIiwiX19kZWNvcmF0ZSIsIl9fcGFyYW0iLCJfX21ldGFkYXRhIiwiX19hd2FpdGVyIiwiaTEkMSIsIlhockZhY3RvcnkiLCJMb2NhdGlvblN0cmF0ZWd5IiwiQ29tbW9uTW9kdWxlIiwiVmlld3BvcnRTY3JvbGxlciIsIsm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIiLCJET0NVTUVOVCIsIlBsYXRmb3JtTG9jYXRpb24iLCJmaWx0ZXIiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsIm1hcCIsInRha2UiLCJzdGFydFdpdGgiLCJCZWhhdmlvclN1YmplY3QiLCJTdWJqZWN0IiwiZnJvbUV2ZW50IiwiZGVmZXIiLCJPYnNlcnZhYmxlJDEiLCJpMSQzIiwiRGVmYXVsdFVybFNlcmlhbGl6ZXIiLCJQUklNQVJZX09VVExFVCIsIk5hdmlnYXRpb25FbmQiLCJBY3RpdmF0ZWRSb3V0ZSIsIkNoaWxkcmVuT3V0bGV0Q29udGV4dHMiLCJSb3V0ZXJNb2R1bGUiLCJSb3V0ZVJldXNlU3RyYXRlZ3kiLCJOR19WQUxVRV9BQ0NFU1NPUiIsIkZvcm1zTW9kdWxlIiwiQW5pbWF0aW9uQnVpbGRlciIsImkxJDIiLCLJtUFuaW1hdGlvbkVuZ2luZSIsIsm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciIsIkFuaW1hdGlvbkRyaXZlciIsIsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIiwiybVBbmltYXRpb25SZW5kZXJlckZhY3RvcnkiLCLJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIiwiSHR0cFhockJhY2tlbmQiLCJIdHRwUmVzcG9uc2UiLCJIdHRwRXJyb3JSZXNwb25zZSIsIkh0dHBDbGllbnRNb2R1bGUiLCJIdHRwQmFja2VuZCIsImdldENsYXNzTmFtZSIsImluc3RhbmNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiSW52aXNpYmxlTm9kZSIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJ0b1N0cmluZyIsImlkIiwiQ29tbWVudE5vZGUiLCJ2YWx1ZSIsIm1ldGEiLCJza2lwQWRkVG9Eb20iLCJUZXh0Tm9kZSIsInRleHQiLCJfdGV4dCIsInQiLCJub3RpZnkiLCJldmVudE5hbWUiLCJ0ZXh0Q2hhbmdlRXZlbnQiLCJvYmplY3QiLCJjYWxsYmFja01hcCIsIk1hcCIsInJlZ2lzdGVyVGV4dENoYW5nZSIsImNhbGxiYWNrIiwiY2IiLCJldnQiLCJjYkFyciIsImdldCIsInB1c2giLCJzZXQiLCJvbiIsInVucmVnaXN0ZXJUZXh0Q2hhbmdlIiwiZm9yRWFjaCIsIm9mZiIsImRlbGV0ZSIsImlzRGV0YWNoZWRFbGVtZW50IiwiZWxlbWVudCIsImlzVmlldyIsInZpZXciLCJpc0ludmlzaWJsZU5vZGUiLCJpc0xheW91dCIsImlzQ29udGVudFZpZXciLCJnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3IiwiZXh0cmFjdEZyb21OU1BhcmVudCIsImdldENoaWxkcmVuQ291bnQiLCJnZXRDaGlsZEF0Iiwibm9kZSIsInBhcmVudE5vZGUiLCJkZXRhY2hWaWV3RnJvbVBhcmVudCIsInBhcmVudCIsInJlbW92ZUNoaWxkIiwiY29udGVudCIsIl9yZW1vdmVWaWV3IiwiQVBQX1JPT1RfVklFVyIsIk5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCIsIlNUQVJUX1BBVEgiLCJFTkFCTEVfUkVVU0FCRV9WSUVXUyIsIkRJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HIiwiREVWSUNFIiwiUEFHRV9GQUNUT1JZIiwiZGVmYXVsdFBhZ2VGYWN0b3J5IiwiX29wdHMiLCJQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciIsImRldmljZSIsInJ1bnNJbiIsIm5hbWVzcGFjZSIsIm5leHQiLCJvcyIsImFuZHJvaWQiLCJpb3MiLCJPYmplY3QiLCJOQU1FU1BBQ0VfRklMVEVSUyIsIk5nVmlld1JlZiIsInJlZiIsImxvY2F0aW9uIiwibmF0aXZlRWxlbWVudCIsInJvb3ROb2RlcyIsImZpbmQiLCJ2IiwiZmlyc3ROYXRpdmVMaWtlVmlldyIsImRldGFjaE5hdGl2ZUxpa2VWaWV3IiwiQXBwSG9zdFZpZXciLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aW1lb3V0IiwibmdBcHBSb290IiwiX25nQXBwUm9vdCIsIl9jb250ZW50IiwidW5kZWZpbmVkIiwiZ3JpZCIsImFkZENoaWxkIiwic2NoZWR1bGVSb290Q2hhbmdlIiwic2V0VGltZW91dCIsInJlc2V0Um9vdFZpZXciLCJjcmVhdGUiLCJBcHBIb3N0QXN5bmNWaWV3IiwiTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UiLCJtYWluTW9kdWxlUmVhZHkkIiwicmVhZHlUb0Rlc3Ryb3kkIiwib25NYWluTW9kdWxlUmVhZHkkIiwicGlwZSIsInJlYWR5Iiwid2FpdFVudGlsTm90aWZpZWQiLCJub3RpZnlSZWFkeVRvRGVzdHJveSIsImlzTWFpbk1vZHVsZVJlYWR5IiwibmdPbkRlc3Ryb3kiLCJjb21wbGV0ZSIsIl9ub3RpZnlNYWluTW9kdWxlUmVhZHkiLCLJtWZhYyIsIsm1cHJvdiIsInR5cGUiLCJhcmdzIiwicHJvdmlkZWRJbiIsIk5hdGl2ZVNjcmlwdERlYnVnIiwiaXNMb2dFbmFibGVkIiwiaXNFbmFibGVkIiwiYW5pbWF0aW9uc0xvZyIsIm1lc3NhZ2UiLCJ3cml0ZSIsImFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5IiwicmVuZGVyZXJMb2ciLCJtc2ciLCJyZW5kZXJlclRyYWNlQ2F0ZWdvcnkiLCJyZW5kZXJlckVycm9yIiwibWVzc2FnZVR5cGUiLCJlcnJvciIsInZpZXdVdGlsTG9nIiwidmlld1V0aWxDYXRlZ29yeSIsInJvdXRlckxvZyIsInJvdXRlclRyYWNlQ2F0ZWdvcnkiLCJyb3V0ZXJFcnJvciIsInJvdXRlUmV1c2VTdHJhdGVneUxvZyIsInJvdXRlUmV1c2VTdHJhdGVneVRyYWNlQ2F0ZWdvcnkiLCJzdHlsZUVycm9yIiwiY2F0ZWdvcmllcyIsIlN0eWxlIiwibGlzdFZpZXdMb2ciLCJsaXN0Vmlld1RyYWNlQ2F0ZWdvcnkiLCJsaXN0Vmlld0Vycm9yIiwiYm9vdHN0cmFwTG9nIiwiYm9vdHN0cmFwQ2F0ZWdvcnkiLCJib290c3RyYXBMb2dFcnJvciIsImVuYWJsZWQiLCJOYXRpdmVzY3JpcHRYaHJGYWN0b3J5IiwiYnVpbGQiLCJYTUxIdHRwUmVxdWVzdCIsImZyYW1lTWV0YSIsImluc2VydENoaWxkIiwiY2hpbGQiLCJuYXZpZ2F0ZSIsIkVycm9yIiwiZm9ybWF0dGVkU3RyaW5nTWV0YSIsImluZGV4Iiwic3BhbnMiLCJpbmRleE9mIiwic3BsaWNlIiwidGV4dEJhc2VNZXRhIiwiX2EiLCJmb3JtYXR0ZWRUZXh0IiwiZWxlbWVudE1hcCIsImNhbWVsQ2FzZVNwbGl0IiwiZGVmYXVsdFZpZXdNZXRhIiwicmVnaXN0ZXJFbGVtZW50IiwiZWxlbWVudE5hbWUiLCJyZXNvbHZlciIsImVudHJ5IiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZ2V0Vmlld0NsYXNzIiwiVHlwZUVycm9yIiwiZSIsImdldFZpZXdNZXRhIiwiaXNLbm93blZpZXciLCJoYXMiLCJleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZSIsIm5vZGVzIiwibmVzdExldmVsIiwiYWN0dWFsTm9kZXMiLCJsZW5ndGgiLCJyb290TGF5b3V0IiwiY2hpbGRyZW4iLCJwYXJlbnRMYXlvdXQiLCJnZXRTaW5nbGVWaWV3UmVjdXJzaXZlIiwicmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cyIsImdsb2JhbCIsIl9fbmdSZWdpc3RlcmVkVmlld3MiLCJpc0Nzc1ZhcmlhYmxlIiwicHJvcGVydHkiLCJ0ZXN0IiwiRUxFTUVOVF9OT0RFX1RZUEUiLCJYTUxfQVRUUklCVVRFUyIsImZyZWV6ZSIsIndoaXRlU3BhY2VTcGxpdHRlciIsInByaW50TmdUcmVlIiwiZmlyc3RDaGlsZCIsInByaW50Q2hpbGRyZW5SZWN1cnNlIiwiZ2V0Q2hpbGRyZW5TaWJsaW5ncyIsIm5leHRTaWJsaW5ncyIsImNvbnNvbGUiLCJsb2ciLCJsYXN0Q2hpbGQiLCJjIiwicHJldmlvdXNTaWJsaW5ncyIsInNpYmxpbmciLCJuZXh0U2libGluZyIsInByZXZpb3VzU2libGluZyIsInByaW50U2libGluZ3NUcmVlIiwicHJvcGVydHlNYXBzIiwiVmlld1V0aWwiLCJuYW1lc3BhY2VGaWx0ZXJzIiwicmV1c2VWaWV3cyIsInByZXZpb3VzIiwiZXh0ZW5kZWRQYXJlbnQiLCJlbnN1cmVOZ1ZpZXdFeHRlbnNpb25zIiwiZXh0ZW5kZWRDaGlsZCIsImluc2VydEluTGlzdCIsIm5leHRWaXN1YWwiLCJmaW5kTmV4dFZpc3VhbCIsImFkZFRvVmlzdWFsVHJlZSIsImFkZEludmlzaWJsZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJyZWZDaGlsZCIsImV4dGVuZGVkUmVmIiwiaW5zZXJ0QWZ0ZXIiLCJhcHBlbmRDaGlsZCIsImluc2VydFRvTGF5b3V0IiwiX2FkZENoaWxkRnJvbUJ1aWxkZXIiLCJpbnNlcnRJbnZpc2libGVOb2RlIiwicmVtb3ZlTGF5b3V0Q2hpbGQiLCJnZXRDaGlsZEluZGV4IiwicmVtb3ZlRnJvbUxpc3QiLCJyZW1vdmVGcm9tVmlzdWFsVHJlZSIsInJlbW92ZUludmlzaWJsZU5vZGUiLCJmaW5kUHJldmlvdXNFbGVtZW50IiwicHJldmlvdXNWaXN1YWwiLCJnZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQiLCJlbGVtZW50SW5kZXgiLCJjcmVhdGVDb21tZW50IiwiY3JlYXRlVGV4dCIsImNyZWF0ZVZpZXciLCJvcmlnaW5hbE5hbWUiLCJ2aWV3Q2xhc3MiLCJuZ1ZpZXciLCJzZXROZ1ZpZXdFeHRlbnNpb25zIiwicmV1c2FibGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjc3NUeXBlIiwidHlwZU5hbWUiLCJzZXRQcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJwcm9wZXJ0aWVzIiwic3BsaXQiLCJwcm9wTWFwIiwiZ2V0UHJvcGVydGllcyIsImkiLCJwcm9wIiwic2V0UHJvcGVydHlJbnRlcm5hbCIsInBsYXRmb3JtIiwicnVucyIsImxhc3QiLCJjaGFpbiIsInAiLCJjdXJyZW50Q2hhaW4iLCJzZXRDbGFzc2VzIiwicHJvcGVydHlOYW1lIiwiQXJyYXkiLCJpc0FycmF5IiwicmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyIsIml0ZW1zIiwiaXRlbSIsInByb3BOYW1lIiwiY3NzQ2xhc3NlcyIsIm5nQ3NzQ2xhc3NlcyIsImFkZENsYXNzIiwiY2xhc3NOYW1lIiwiZXh0ZW5kZWRWaWV3Iiwic3luY0NsYXNzZXMiLCJyZW1vdmVDbGFzcyIsImNsYXNzZXNWYWx1ZSIsImNsYXNzZXMiLCJjbGVhciIsImNsYXNzVmFsdWUiLCJmcm9tIiwia2V5cyIsImpvaW4iLCJzZXRTdHlsZSIsInN0eWxlTmFtZSIsInN0eWxlIiwic2V0VW5zY29wZWRDc3NWYXJpYWJsZSIsIl9vbkNzc1N0YXRlQ2hhbmdlIiwicmVtb3ZlU3R5bGUiLCJ1bnNjb3BlZENzc1ZhcmlhYmxlcyIsInZpZXdVdGlsIiwiX19wcm90b19fIiwiYWRkU3R5bGVUb0NzcyIsInRhZyIsImFkZENzcyIsInJ1bkluUm9vdFpvbmUiLCJmbiIsIlpvbmUiLCJyb290IiwicnVuIiwiaW5Sb290Wm9uZSIsInRhcmdldCIsImtleSIsImRlc2NyaXB0b3IiLCJjaGlsZEZ1bmN0aW9uIiwiYmluZCIsIk5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSIsInJvb3RWaWV3Iiwicm9vdE1vZHVsZUlEIiwiY29tcG9uZW50UmVuZGVyZXJzIiwiZGVmYXVsdFJlbmRlcmVyIiwiTmF0aXZlU2NyaXB0UmVuZGVyZXIiLCJjcmVhdGVSZW5kZXJlciIsImhvc3RFbGVtZW50IiwiZW5jYXBzdWxhdGlvbiIsInJlbmRlcmVyIiwiRW11bGF0ZWRSZW5kZXJlciIsImFwcGx5VG9Ib3N0IiwiTm9uZSIsInN0eWxlcyIsInMiLCJ3aGVuUmVuZGVyaW5nRG9uZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW50ZXJ2YWwiLCJzY2hlZHVsZVJlc29sdmUiLCJmaXJlV2hlbkxvYWRlZCIsInJvb3RGYWN0b3J5IiwiaXNMb2FkZWQiLCJvbmNlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZGVzdHJveU5vZGUiLCJkYXRhIiwiZGVzdHJveSIsImNyZWF0ZUVsZW1lbnQiLCJvbGROYW1lIiwiY3VzdG9tQ1NTTmFtZSIsIm5ld0NoaWxkIiwib2xkQ2hpbGQiLCJpc0hvc3RFbGVtZW50Iiwic2VsZWN0Um9vdEVsZW1lbnQiLCJzZWxlY3Rvck9yTm9kZSIsInByZXNlcnZlQ29udGVudCIsInJlc3VsdCIsInNsaWNlIiwic2V0QXR0cmlidXRlIiwiZWwiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmbGFncyIsInNldFZhbHVlIiwibGlzdGVuIiwibG9hZGVkRXZlbnQiLCJvYnMiLCJGdW5jdGlvbiIsIlN0cmluZyIsInByb3RvdHlwZSIsIkJvb2xlYW4iLCJOdW1iZXIiLCJDT01QT05FTlRfUkVHRVgiLCJBVFRSX1NBTklUSVpFUiIsIkNPTVBPTkVOVF9WQVJJQUJMRSIsIkhPU1RfQVRUUiIsIkNPTlRFTlRfQVRUUiIsInJlcGxhY2VOZ0F0dHJpYnV0ZSIsImlucHV0IiwiY29tcG9uZW50SWQiLCJhZGRTY29wZWRTdHlsZVRvQ3NzIiwiY29tcG9uZW50Iiwicm9vdE1vZHVsZUlkIiwiY29udGVudEF0dHIiLCJob3N0QXR0ciIsImFkZFN0eWxlcyIsInRocm93TnVsbFBvcnRhbEVycm9yIiwidGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvciIsInRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IiLCJ0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IiLCJ0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvciIsInRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yIiwiUG9ydGFsIiwiYXR0YWNoIiwiaG9zdCIsIm5nRGV2TW9kZSIsImhhc0F0dGFjaGVkIiwiX2F0dGFjaGVkSG9zdCIsImRldGFjaCIsImlzQXR0YWNoZWQiLCJzZXRBdHRhY2hlZEhvc3QiLCJDb21wb25lbnRQb3J0YWwiLCJ2aWV3Q29udGFpbmVyUmVmIiwiaW5qZWN0b3IiLCJjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJUZW1wbGF0ZVBvcnRhbCIsInRlbXBsYXRlIiwiY29udGV4dCIsInRlbXBsYXRlUmVmIiwib3JpZ2luIiwiZWxlbWVudFJlZiIsIkRvbVBvcnRhbCIsIkJhc2VQb3J0YWxPdXRsZXQiLCJfaXNEaXNwb3NlZCIsImF0dGFjaERvbVBvcnRhbCIsIl9hdHRhY2hlZFBvcnRhbCIsInBvcnRhbCIsImF0dGFjaENvbXBvbmVudFBvcnRhbCIsImF0dGFjaFRlbXBsYXRlUG9ydGFsIiwiX2ludm9rZURpc3Bvc2VGbiIsImRpc3Bvc2UiLCJzZXREaXNwb3NlRm4iLCJfZGlzcG9zZUZuIiwiQ2RrUG9ydGFsIiwiybVkaXIiLCJzZWxlY3RvciIsImV4cG9ydEFzIiwiQ2RrUG9ydGFsT3V0bGV0IiwiX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl92aWV3Q29udGFpbmVyUmVmIiwiX2lzSW5pdGlhbGl6ZWQiLCJhdHRhY2hlZCIsImFuY2hvck5vZGUiLCJfZ2V0Um9vdE5vZGUiLCJhdHRhY2hlZFJlZiIsIl9hdHRhY2hlZFJlZiIsIm5nT25Jbml0IiwiY29tcG9uZW50RmFjdG9yeSIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5IiwiY3JlYXRlQ29tcG9uZW50IiwiaG9zdFZpZXciLCJlbWl0Iiwidmlld1JlZiIsImNyZWF0ZUVtYmVkZGVkVmlldyIsIlJlbmRlcmVyMiIsImlucHV0cyIsIlBvcnRhbE1vZHVsZSIsIsm1bW9kIiwiybVpbmoiLCJleHBvcnRzIiwiZGVjbGFyYXRpb25zIiwiTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0Iiwib3V0bGV0RWxlbWVudCIsIl9hcHBSZWYiLCJfZGVmYXVsdEluamVjdG9yIiwiX3ZpZXdVdGlsIiwiY29tcG9uZW50UmVmIiwiYXR0YWNoVmlldyIsImRldGFjaFZpZXciLCJyb290Tm9kZSIsIl9nZXRDb21wb25lbnRSb290Tm9kZSIsInZpZXdDb250YWluZXIiLCJkZXRlY3RDaGFuZ2VzIiwicmVtb3ZlIiwiRGV0YWNoZWRMb2FkZXIiLCJjaGFuZ2VEZXRlY3RvciIsImNvbnRhaW5lclJlZiIsImFwcFJlZiIsImRpc3Bvc2VGdW5jdGlvbnMiLCJjcmVhdGVDb21wb25lbnRQb3J0YWwiLCJjb21wb25lbnRUeXBlIiwiY3VzdG9tSW5qZWN0b3IiLCJ2YyIsImNyZWF0ZVRlbXBsYXRlUG9ydGFsIiwibG9hZEluQXBwUmVmIiwiZmFjdG9yeSIsImxvYWRJbkxvY2F0aW9uIiwibWFya0ZvckNoZWNrIiwibG9hZENvbXBvbmVudCIsImxvYWRDb21wb25lbnRTeW5jIiwibG9hZENvbXBvbmVudEluTG9jYXRpb24iLCJsb2FkV2l0aEZhY3RvcnkiLCJsb2FkV2l0aEZhY3RvcnlJbkxvY2F0aW9uIiwiybVjbXAiLCJyZWFkIiwic3RhdGljIiwiUGFnZVNlcnZpY2UiLCJpblBhZ2UiLCJfaW5QYWdlJCIsImluUGFnZSQiLCJwYWdlRXZlbnRzJCIsIl9wYWdlRXZlbnRzJCIsImFzT2JzZXJ2YWJsZSIsInBhZ2UiLCJlbFJlZiIsInBhZ2VFdmVudCIsIlZpZXdCYXNlIiwiZGVjb3JhdG9ycyIsImN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSIsImN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lIiwiRnJhbWVQYWdlQ29tcG9uZW50IiwiYWN0aW9uQmFySGlkZGVuIiwibmdPbkNoYW5nZXMiLCJjaGFuZ2VzIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIm5nQWZ0ZXJWaWV3SW5pdCIsInByb3ZpZGUiLCJ1c2VGYWN0b3J5IiwiZGVwcyIsInByb3ZpZGVycyIsImN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSIsIkZyYW1lRGlyZWN0aXZlIiwiY3VzdG9tUGFnZUZhY3RvcnkiLCJQYWdlRGlyZWN0aXZlIiwiRnJhbWVQYWdlTW9kdWxlIiwiaXNQcmVzZW50Iiwib2JqIiwiaXNCbGFuayIsImlzQWN0aW9uSXRlbSIsImlzTmF2aWdhdGlvbkJ1dHRvbiIsImFjdGlvbkJhck1ldGEiLCJuYXZpZ2F0aW9uQnV0dG9uIiwiYWRkQWN0aW9uSXRlbSIsInRpdGxlVmlldyIsImFjdGlvbkl0ZW1zIiwicmVtb3ZlSXRlbSIsImJhciIsImluc2VydEFjdGlvbkl0ZW1CZWZvcmUiLCJhcHBlbmRBY3Rpb25JdGVtIiwiYWN0aW9uSXRlbXNDb2xsZWN0aW9uIiwiZ2V0SXRlbXMiLCJpbmRleFRvSW5zZXJ0Iiwic2V0SXRlbXMiLCJhZGRJdGVtIiwiQWN0aW9uQmFyQ29tcG9uZW50IiwiYWN0aW9uQmFyIiwidXBkYXRlIiwiQWN0aW9uQmFyU2NvcGUiLCJvbk5hdkJ1dHRvbkluaXQiLCJuYXZCdG4iLCJvbk5hdkJ1dHRvbkRlc3Ryb3kiLCJuYXYiLCJvbkFjdGlvbkluaXQiLCJvbkFjdGlvbkRlc3Ryb3kiLCJBY3Rpb25JdGVtRGlyZWN0aXZlIiwib3duZXJTY29wZSIsIk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUiLCJ0aHJvd0lmQWxyZWFkeUxvYWRlZCIsInBhcmVudE1vZHVsZSIsIm1vZHVsZU5hbWUiLCJ3YXNDYWxsZWQiLCJ3cmFwcGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc0xpc3RMaWtlSXRlcmFibGUiLCJpc0pzT2JqZWN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvIiwiTkdfVklFVyIsIlRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQiLCJJdGVtQ29udGV4dCIsIiRpbXBsaWNpdCIsImV2ZW4iLCJvZGQiLCJOc1RlbXBsYXRlZEl0ZW0iLCJvbkNyZWF0ZSIsInNldHVwSXRlbUNvbnRleHQiLCJyZXN1bHRWaWV3IiwiZ2V0SXRlbVZpZXdSb290IiwiZ2V0RW1iZWRkZWRWaWV3UmVmIiwicmVhdHRhY2giLCJpc1ZhbGlkIiwib2xkVmlldyIsIkxpc3RWaWV3Q29tcG9uZW50IiwidGVtcGxhdGVkSXRlbXNWaWV3IiwiX2l0ZW1zIiwibmVlZERpZmZlciIsIl9kaWZmZXIiLCJfaXRlcmFibGVEaWZmZXJzIiwiX2luZGV4IiwiX2VsZW1lbnRSZWYiLCJfY2hhbmdlRGV0ZWN0b3JSZWYiLCJfdmlld1RvVGVtcGxhdGUiLCJXZWFrTWFwIiwic2V0dXBJdGVtVmlldyIsIm5nQWZ0ZXJDb250ZW50SW5pdCIsInNldEl0ZW1UZW1wbGF0ZXMiLCJfdGVtcGxhdGVNYXAiLCJmYWxsYmFja0l0ZW1UZW1wbGF0ZSIsIml0ZW1UZW1wbGF0ZVF1ZXJ5IiwicmVnaXN0ZXJUZW1wbGF0ZSIsImxvYWRlciIsInRlbXBsYXRlcyIsIml0ZW1UZW1wbGF0ZXMiLCJvbkl0ZW1Mb2FkaW5nIiwibHZpZXciLCJjdXJyZW50SXRlbSIsImdldEl0ZW0iLCJ0ZW1wbGF0ZUtleSIsIml0ZW1UZW1wbGF0ZVNlbGVjdG9yIiwic2V0dXBWaWV3UmVmIiwibmdEb0NoZWNrIiwiZGlmZiIsInJlZnJlc2giLCJ1c2VFeGlzdGluZyIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsInJvb3RMb2NhdG9yIiwiVGVtcGxhdGVLZXlEaXJlY3RpdmUiLCJjb21wIiwibnNUZW1wbGF0ZUtleSIsIm5zVGVtcGxhdGVLZXlzIiwidmFsdWVzIiwiT3V0bGV0IiwiaXNQYWdlTmF2aWdhdGlvbkJhY2siLCJfbmF2aWdhdGluZ0JhY2tPdXRsZXRzIiwic2l6ZSIsImlzQmFjayIsIm91dGxldEtleXMiLCJhZGQiLCJvdXRsZXRLZXkiLCJwYXRoQnlPdXRsZXRzIiwibW9kYWxOYXZpZ2F0aW9uRGVwdGgiLCJTZXQiLCJmcmFtZXMiLCJzdGF0ZXMiLCJzaG91bGREZXRhY2giLCJzaG93aW5nTW9kYWwiLCJzZXRPdXRsZXRLZXlOYXZpZ2F0aW5nQmFjayIsIm5lc3RzIiwiayIsImNvbnRhaW5zRnJhbWUiLCJmcmFtZSIsInBlZWtTdGF0ZSIsImNvbnRhaW5zVG9wU3RhdGUiLCJzdGF0ZVVybCIsImxhc3RTdGF0ZSIsInNlZ21lbnRHcm91cCIsImdldEZyYW1lVG9CYWNrIiwiaXNOU0VtcHR5T3V0bGV0IiwiY3VycmVudEZyYW1lIiwiY2FuR29CYWNrIiwiZGVmYXVsdE5hdk9wdGlvbnMiLCJjbGVhckhpc3RvcnkiLCJhbmltYXRlZCIsIkZyYW1lU2VydmljZSIsImdldEZyYW1lIiwidG9wbW9zdCIsIk5TTG9jYXRpb25TdHJhdGVneSIsImZyYW1lU2VydmljZSIsInN0YXJ0UGF0aCIsIm91dGxldHMiLCJwb3BTdGF0ZUNhbGxiYWNrcyIsIl9tb2RhbE5hdmlnYXRpb25EZXB0aCIsImdldFN0YXRlIiwiY3VycmVudE91dGxldCIsImN1cnJlbnRVcmxUcmVlIiwic3RhdGUiLCJ0cmVlIiwiY2hhbmdlZE91dGxldCIsImdldFNlZ21lbnRHcm91cEJ5T3V0bGV0IiwiaXNSb290U2VnbWVudEdyb3VwIiwidXBkYXRlU2VnbWVudEdyb3VwIiwidXJsU2VyaWFsaXplciIsInF1ZXJ5UGFyYW1zIiwidXJsIiwic2VyaWFsaXplIiwicHJlcGFyZUV4dGVybmFsVXJsIiwiaW50ZXJuYWwiLCJwdXNoU3RhdGUiLCJ0aXRsZSIsInB1c2hTdGF0ZUludGVybmFsIiwicGFyc2UiLCJ1cmxUcmVlUm9vdCIsImdldE91dGxldEtleSIsImdldFNlZ21lbnRHcm91cEZ1bGxQYXRoIiwib3V0bGV0IiwiZmluZE91dGxldCIsInVwZGF0ZVN0YXRlcyIsInJvb3RPdXRsZXQiLCJjcmVhdGVPdXRsZXQiLCJxdWV1ZSIsImN1cnJlbnRUcmVlIiwib3V0bGV0TmFtZSIsImN1cnJlbnRTZWdtZW50R3JvdXAiLCJvdXRsZXRQYXRoIiwicGFyZW50T3V0bGV0TmFtZSIsInBhcmVudE91dGxldFBhdGgiLCJwYXJlbnRPdXRsZXRLZXkiLCJwYXJlbnRPdXRsZXQiLCJjb250YWluc0xhc3RTdGF0ZSIsInVwc2VydE1vZGFsT3V0bGV0Iiwic2hpZnQiLCJyZXBsYWNlU3RhdGUiLCJmb3J3YXJkIiwiYmFjayIsInBvcCIsImNvdW50IiwiaXNQYWdlTmF2aWdhdGlvbiIsImNhbGxQb3BTdGF0ZSIsInRvcG1vc3RGcmFtZSIsImdldE91dGxldEJ5RnJhbWUiLCJmcmFtZVRvQmFjayIsImdvQmFjayIsIm9uUG9wU3RhdGUiLCJnZXRCYXNlSHJlZiIsImNoYW5nZSIsIm91dGxldFN0YXRlcyIsIm91dGxldExvZyIsInJldmVyc2UiLCJjb25jYXQiLCJfYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24iLCJfZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uIiwiX2JlZ2luTW9kYWxOYXZpZ2F0aW9uIiwiX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uIiwiaXNTaG93aW5nTW9kYWwiLCJ0b3Btb3N0T3V0bGV0IiwiZmluZE91dGxldEJ5TW9kYWwiLCJfYmVnaW5QYWdlTmF2aWdhdGlvbiIsIm9wdGlvbnMiLCJuYXZPcHRpb25zIiwiX2dldE91dGxldHMiLCJ1cGRhdGVPdXRsZXRGcmFtZSIsImlzRW1wdHlPdXRsZXRGcmFtZSIsImNsZWFyT3V0bGV0IiwiaXNFcXVhbFRvQ3VycmVudCIsImZ1bGxQYXRoIiwiZ2V0Um91dGVGdWxsUGF0aCIsImN1cnJlbnRSb3V0ZSIsInVybHMiLCJnZXRQYXRoQnlPdXRsZXRzIiwidXJsU2VnbWVudEdyb3VwIiwicGF0aFRvT3V0bGV0IiwibGFzdFBhdGgiLCJhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IiwiZXF1YWxNb2RhbERlcHRoIiwibW9kYWxOYXZpZ2F0aW9uIiwiaXNOZXdQYWdlIiwiZXF1YWxTdGF0ZVVybHMiLCJsb2NhdGlvblN0YXRlIiwiYXNzaWduIiwidXBkYXRlUGFyZW50c1N0YXRlcyIsIm5ld1NlZ21lbnRHcm91cCIsIm5ld091dGxldCIsInBhdGhMaXN0IiwiY3VycmVudFBhdGgiLCJjaGlsZHJlbkNvdW50Iiwib2xkU2VnbWVudEdyb3VwIiwic2VnbWVudGVkR3JvdXAiLCJjdXJyZW50TW9kYWxPdXRsZXQiLCJNb2RhbERpYWxvZ1BhcmFtcyIsImNsb3NlQ2FsbGJhY2siLCJNb2RhbERpYWxvZ1NlcnZpY2UiLCJ6b25lIiwiZGVmYXVsdEluamVjdG9yIiwiY2xvc2VkJCIsIl9jbG9zZWQkIiwic2hvd01vZGFsIiwiX2IiLCJfYyIsIl9kIiwicGFyZW50VmlldyIsImdldFJvb3RWaWV3IiwiX25nRGlhbG9nUm9vdCIsImNvbXBvbmVudEluamVjdG9yIiwibW9kdWxlUmVmIiwicmVqZWN0IiwiX3Nob3dEaWFsb2ciLCJkb25lQ2FsbGJhY2siLCJlcnIiLCJjb21wb25lbnRWaWV3UmVmIiwiZGV0YWNoZWRMb2FkZXJSZWYiLCJwb3J0YWxPdXRsZXQiLCJjbG9zZU1vZGFsIiwicGFyYW1zIiwib3BlbmVkTW9kYWxQYXJhbXMiLCJtb2RhbFBhcmFtcyIsImNoaWxkSW5qZWN0b3IiLCJ1c2VWYWx1ZSIsInRhcmdldFZpZXciLCJjaGFuZ2VEZXRlY3RvclJlZiIsInVzZUNvbnRleHRBc0NvbXBvbmVudFByb3BzIiwiTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQiLCJydW5BZnRlckV2ZW50IiwiZXZlbnQiLCJwcm9wZXJ0eUtleSIsImdldE5nU2FmZSIsImRlZmF1bHROZ1NhZmUiLCJldmVudHMiLCJydW5CZWZvcmUiLCJkb25lIiwiYnVmZmVyIiwib3JpZ2luYWxEZWxlZ2F0ZSIsImFsd2F5c1J1bkJlZm9yZSIsIm9sZEZuIiwic2hvdWxkUHVzaCIsIm9ubHlGaXJzdCIsIm9ubHlMYXN0IiwiVGFiVmlld0RpcmVjdGl2ZSIsInNlbGVjdGVkSW5kZXgiLCJfc2VsZWN0ZWRJbmRleCIsInZpZXdJbml0aWFsaXplZCIsInRhYlZpZXciLCJUYWJWaWV3SXRlbURpcmVjdGl2ZSIsIm93bmVyIiwiY29uZmlnIiwiX2NvbmZpZyIsImljb25Tb3VyY2UiLCJ0ZXh0VHJhbnNmb3JtIiwiYXBwbHlDb25maWciLCJlbnN1cmVJdGVtIiwicmVhbFZpZXdzIiwibmV3SXRlbXMiLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50Iiwic2hvdyIsIk5nSWYiLCJJT1NGaWx0ZXJDb21wb25lbnQiLCJDREtfQ09NUE9ORU5UUyIsIk5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSIsImltcG9ydHMiLCJzY2hlbWFzIiwiZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3IiwicGFyZW50Um9vdFZpZXciLCJlcnJvckhhbmRsZXIiLCJnZW5lcmF0ZVJhbmRvbUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHIiLCJOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMiLCJ1c2VDbGFzcyIsIm11bHRpIiwiTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMiLCJOYXRpdmVTY3JpcHRNb2R1bGUiLCJkaXNhYmxlUm9vdFZpZXdIYW5kaW5nIiwiX19kaXNhYmxlX3Jvb3Rfdmlld19oYW5kbGluZyIsInByZUFuZ3VsYXJEaXNwb3NhbCQiLCJwb3N0QW5ndWxhckJvb3RzdHJhcCQiLCJvbkJlZm9yZUxpdmVzeW5jIiwibW9kdWxlVHlwZSIsInJlYXNvbiIsInJlZmVyZW5jZSIsIm9uQWZ0ZXJMaXZlc3luYyIsImltcG9ydCIsImRlY2xpbmUiLCJfX29uTGl2ZVN5bmNDb3JlIiwiZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50IiwiZGVzdHJveVJlZiIsInJ1blpvbmVTeW5jVGFzayIsImN1cnJlbnQiLCJ0YXNrIiwic2NoZWR1bGVFdmVudFRhc2siLCJpbnZva2UiLCJjYW5jZWxUYXNrIiwiWm9uZUNhbldvcmtTeW5jIiwiY2FuUnVuU3luYyIsInRoZW4iLCJuYXRpdmVRdWV1ZUNhbkJlRHJhaW5lZCIsIm1ha2VUZXN0RHJhaW4iLCJfX2RyYWluTWljcm90YXNrUXVldWUiLCJydW5TeW5jaHJvbm91c2x5IiwicXVldWVNYWNyb3Rhc2siLCJjcmVhdGVQcm92aWRlcnNDb25maWciLCJhcHBQcm92aWRlcnMiLCJib290c3RyYXBBcHBsaWNhdGlvbiIsInJvb3RDb21wb25lbnQiLCJydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIiwibWFpbk1vZHVsZVJlZiIsImxvYWRpbmdNb2R1bGVSZWYiLCJwbGF0Zm9ybVJlZiIsImJvb3RzdHJhcElkIiwidXBkYXRlUGxhdGZvcm1SZWYiLCJuZXdQbGF0Zm9ybVJlZiIsIm9uRGVzdHJveSIsImxhdW5jaEV2ZW50RG9uZSIsInRhcmdldFJvb3RWaWV3Iiwic2V0Um9vdFZpZXciLCJfY2xvc2VBbGxNb2RhbFZpZXdzSW50ZXJuYWwiLCJlbWJlZGRlZCIsIm5ld1Jvb3QiLCJzaG93RXJyb3JVSSIsInN0YWNrIiwiZXJyb3JUZXh0Qm94IiwiY29sb3IiLCJib290c3RyYXBSb290IiwiY3VycmVudEJvb3RzdHJhcElkIiwiYm9vdHN0cmFwcGVkIiwib25NYWluQm9vdHN0cmFwIiwiYXBwTW9kdWxlQm9vdHN0cmFwIiwiY29tcG9uZW50cyIsInN0eWxlVGFnIiwibG9hZGluZ01vZHVsZSIsImxvYWRpbmdSZWYiLCJsb2FkaW5nU2VydmljZSIsInN1YnNjcmliZSIsImxhdW5jaFZpZXciLCJzdGFydEFuaW1hdGlvbiIsImNsZWFudXAiLCJjYXRjaCIsIndhcm4iLCJkaXNwb3NlUGxhdGZvcm0iLCJkaXNwb3NlTGFzdE1vZHVsZXMiLCJsYXVuY2hDYWxsYmFjayIsImV4aXRDYWxsYmFjayIsIm9sZEFkZEV2ZW50TGlzdGVuZXIiLCJOYXRpdmVTY3JpcHRHbG9iYWxzIiwiX19zeW1ib2xfXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYXVuY2hFdmVudCIsImV4aXRFdmVudCIsInNob3VsZERpc3Bvc2VQbGF0Zm9ybSIsImhhc0xhdW5jaGVkIiwiTmF0aXZlU2NyaXB0UGxhdGZvcm1SZWZQcm94eSIsImJvb3RzdHJhcE1vZHVsZUZhY3RvcnkiLCJtb2R1bGVGYWN0b3J5IiwiYm9vdHN0cmFwTW9kdWxlIiwiY29tcGlsZXJPcHRpb25zIiwiZGVzdHJveWVkIiwiZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIiLCJOYXRpdmVTY3JpcHRTYW5pdGl6ZXIiLCJzYW5pdGl6ZSIsIl9jb250ZXh0IiwiTmF0aXZlU2NyaXB0RG9jdW1lbnQiLCJib2R5IiwiaXNPdmVycmlkZSIsIkNPTU1PTl9QUk9WSURFUlMiLCJwbGF0Zm9ybU5hdGl2ZVNjcmlwdCIsInBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyIsImV4dHJhUHJvdmlkZXJzIiwibmdSb290VmlldyIsImFzeW5jIiwiUm9vdFZpZXdQcm94eSIsInBhcmVudFJvb3RMYXlvdXQiLCJfYWRkVmlldyIsImF0SW5kZXgiLCJnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSIsInZpZXdQcm94eSIsIlJvb3RDb21wb3NpdGVNb2R1bGUiLCJOYXRpdmVEaWFsb2dDb25maWciLCJoYXNCYWNrZHJvcCIsImRpc2FibGVDbG9zZSIsImNsb3NlT25OYXZpZ2F0aW9uIiwibmF0aXZlT3B0aW9ucyIsInVuaXF1ZUlkIiwiTmF0aXZlRGlhbG9nUmVmIiwiX25hdGl2ZU1vZGFsUmVmIiwiX2FmdGVyT3BlbmVkIiwiX2FmdGVyQ2xvc2VkIiwiX2JlZm9yZUNsb3NlZCIsIl9zdGF0ZSIsIl9pZCIsInN0YXRlQ2hhbmdlZCIsImNsZWFyVGltZW91dCIsIl9jbG9zZUZhbGxiYWNrVGltZW91dCIsIl9maW5pc2hEaWFsb2dDbG9zZSIsIl9yZXN1bHQiLCJvbkRpc21pc3MiLCJjb21wb25lbnRJbnN0YW5jZSIsImNsb3NlIiwiZGlhbG9nUmVzdWx0IiwiX3N0YXJ0RXhpdEFuaW1hdGlvbiIsImFmdGVyT3BlbmVkIiwiYWZ0ZXJDbG9zZWQiLCJiZWZvcmVDbG9zZWQiLCJiYWNrZHJvcENsaWNrIiwiYWRkUGFuZWxDbGFzcyIsInJlbW92ZVBhbmVsQ2xhc3MiLCJOYXRpdmVNb2RhbFJlZiIsIl9pbmplY3RvciIsIl9pc0Rpc21pc3NlZCIsIl9tb2RhbCIsIl9jbG9zZUNhbGxiYWNrIiwibW9kYWxWaWV3UmVmIiwiX2dlbmVyYXRlRGV0YWNoZWRDb250YWluZXIiLCJ2Y1JlZiIsImRldGFjaGVkRmFjdG9yeSIsInN0YXJ0TW9kYWxOYXZpZ2F0aW9uIiwidXNlck9wdGlvbnMiLCJjYW5jZWxhYmxlIiwiTkFUSVZFX0RJQUxPR19EQVRBIiwiTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMiLCJfTmF0aXZlRGlhbG9nQmFzZSIsIm9wZW5EaWFsb2dzIiwiX3BhcmVudERpYWxvZyIsIl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsIiwiX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwiLCJfZ2V0QWZ0ZXJBbGxDbG9zZWQiLCJfYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbCIsIl9kZWZhdWx0T3B0aW9ucyIsIl9kaWFsb2dSZWZDb25zdHJ1Y3RvciIsIl9uYXRpdmVNb2RhbFR5cGUiLCJfZGlhbG9nRGF0YVRva2VuIiwibG9jYXRpb25TdHJhdGVneSIsImFmdGVyQWxsQ2xvc2VkIiwib3BlbiIsImNvbXBvbmVudE9yVGVtcGxhdGVSZWYiLCJfYXBwbHlDb25maWdEZWZhdWx0cyIsImdldERpYWxvZ0J5SWQiLCJkaWFsb2dSZWYiLCJfYXR0YWNoRGlhbG9nQ29udGVudCIsIl9yZW1vdmVPcGVuRGlhbG9nIiwiY2xvc2VBbGwiLCJfY2xvc2VEaWFsb2dzIiwiZGlhbG9nIiwibmF0aXZlTW9kYWxSZWYiLCJfY3JlYXRlSW5qZWN0b3IiLCJjb250ZW50UmVmIiwidXNlckluamVjdG9yIiwiZGlhbG9ncyIsIlR5cGUiLCJOYXRpdmVEaWFsb2dTZXJ2aWNlIiwiZGVmYXVsdE9wdGlvbnMiLCJwYXJlbnREaWFsb2ciLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSIsIl9kaWFsb2ciLCJnZXRDbG9zZXN0RGlhbG9nIiwicHJveGllZENoYW5nZSIsIl9vbkJ1dHRvbkNsaWNrIiwiX21hdERpYWxvZ0Nsb3NlIiwiTmF0aXZlRGlhbG9nTW9kdWxlIiwiTlNGaWxlU3lzdGVtIiwiY3VycmVudEFwcCIsImZpbGVGcm9tUGF0aCIsImZyb21QYXRoIiwiZmlsZUV4aXN0cyIsImV4aXN0cyIsImdlbmVyYXRlRGV0YWNoZWRMb2FkZXIiLCJnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXciLCJ0eXBlT3JUZW1wbGF0ZSIsInJldXNpbmdEZXRhY2hlZExvYWRlciIsImtlZXBOYXRpdmVWaWV3QXR0YWNoZWQiLCJCYXNlVmFsdWVBY2Nlc3NvciIsInBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24iLCJvbkNoYW5nZSIsIm9uVG91Y2hlZCIsInJlZ2lzdGVyT25DaGFuZ2UiLCJhcmciLCJyZWdpc3Rlck9uVG91Y2hlZCIsInNldERpc2FibGVkU3RhdGUiLCJpc0Rpc2FibGVkIiwid3JpdGVWYWx1ZSIsIl8iLCJub3JtYWxpemVWYWx1ZSIsIlRFWFRfVkFMVUVfQUNDRVNTT1IiLCJUZXh0VmFsdWVBY2Nlc3NvciIsIm5vcm1hbGl6ZWQiLCJDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3IiLCJjaGVja2VkIiwiREFURV9WQUxVRV9BQ0NFU1NPUiIsIkRhdGVWYWx1ZUFjY2Vzc29yIiwiZGF0ZSIsIlRJTUVfVkFMVUVfQUNDRVNTT1IiLCJUaW1lVmFsdWVBY2Nlc3NvciIsInRpbWUiLCJOVU1CRVJfVkFMVUVfQUNDRVNTT1IiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yIiwiU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1IiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciIsIk5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlIiwiREFTSF9DQVNFX1JFR0VYUCIsImRhc2hDYXNlVG9DYW1lbENhc2UiLCJtIiwidG9VcHBlckNhc2UiLCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZGVsYXkiLCJlYXNpbmciLCJpbmZvIiwiY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvIiwia2V5ZnJhbWVBbmltYXRpb25Gcm9tSW5mbyIsImlzRm9yd2FyZHMiLCJjdXJ2ZSIsImdldEN1cnZlIiwia2V5ZnJhbWVzIiwicGFyc2VBbmltYXRpb25LZXlmcmFtZSIsImdldEtleWZyYW1lRHVyYXRpb24iLCJnZXREZWNsYXJhdGlvbnMiLCJvZmZzZXQiLCJ1bnBhcnNlZERlY2xhcmF0aW9ucyIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciIsInBhcmVudFBsYXllciIsIl9zdGFydFN1YnNjcmlwdGlvbnMiLCJfZG9uZVN1YnNjcmlwdGlvbnMiLCJfZmluaXNoZWQiLCJfc3RhcnRlZCIsImluaXRLZXlmcmFtZUFuaW1hdGlvbiIsInRvdGFsVGltZSIsImluaXQiLCJoYXNTdGFydGVkIiwib25TdGFydCIsIm9uRG9uZSIsInBsYXkiLCJhbmltYXRpb24iLCJwbGF5QW5pbWF0aW9uIiwib25UYXJnZXRMb2FkZWQiLCJvbkZpbmlzaCIsIl9lIiwicGF1c2UiLCJmaW5pc2giLCJyZXNldCIsImlzUGxheWluZyIsImNhbmNlbCIsInJlc3RhcnQiLCJzZXRQb3NpdGlvbiIsIl9wIiwiZ2V0UG9zaXRpb24iLCJTZWxlY3RvciIsInJhd1NlbGVjdG9yIiwibWF0Y2giLCJuc1NlbGVjdG9yTWF0Y2giLCJjbGFzc1NlbGVjdG9yc01hdGNoIiwic2VsZWN0b3JzIiwidHJpbSIsIm5zU2VsZWN0b3JzIiwiY3JlYXRlU2VsZWN0b3IiLCJjbGFzc1NlbGVjdG9ycyIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJzb21lIiwiaGFzQ2xhc3MiLCJjbHMiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIiLCJnZXRQYXJlbnRFbGVtZW50IiwidmFsaWRhdGVTdHlsZVByb3BlcnR5IiwidmFsaWRQcm9wZXJ0aWVzIiwibWF0Y2hlc0VsZW1lbnQiLCJtYWtlU2VsZWN0b3IiLCJjb250YWluc0VsZW1lbnQiLCJlbG0xIiwiZWxtMiIsIm9yaWdpbmFsVmlldyIsInZpc2l0RGVzY2VuZGFudHMiLCJ2aWV3TWF0Y2hlcyIsImZvdW5kIiwicXVlcnkiLCJxdWVyeURlc2NlbmRhbnRzIiwibWF0Y2hlcyIsImNvbXB1dGVTdHlsZSIsImNhbWVsQ2FzZVByb3AiLCJhbmltYXRlIiwiY2JQYXJhbXMiLCJfZ2V0UHJvcGVydHlOYW1lcyIsImVhY2hDaGlsZCIsIkluamVjdGFibGVBbmltYXRpb25FbmdpbmUiLCJkb2MiLCJkcml2ZXIiLCJub3JtYWxpemVyIiwiaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIiLCJpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSIsImVuZ2luZSIsImluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUiLCJpc0xvY2FsUmVxdWVzdCIsImdldEFic29sdXRlUGF0aCIsIm5zRmlsZVN5c3RlbSIsInByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0Iiwic3VjY2Vzc1Jlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsIm9ic2VydmVyIiwibG9jYWxGaWxlIiwicmVhZFRleHQiLCJqc29uIiwiSlNPTiIsImVycm9yUmVzdWx0IiwiTnNIdHRwQmFja0VuZCIsInhockZhY3RvcnkiLCJoYW5kbGUiLCJyZXEiLCJoYW5kbGVMb2NhbEZpbGVSZXF1ZXN0IiwiY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlIiwiZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCIsImFjdGl2YXRlZFJvdXRlIiwicGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbCIsImxvYWRlclJlZlN5bWJvbCIsImRlc3Ryb3lDb21wb25lbnRSZWYiLCJsb2FkZXJSZWYiLCJnZXRTbmFwc2hvdEtleSIsInNuYXBzaG90IiwicGF0aEZyb21Sb290IiwiRGV0YWNoZWRTdGF0ZUNhY2hlIiwiY2FjaGUiLCJjYWNoZUl0ZW0iLCJwZWVrIiwibWFya0N1cnJlbnRGb3JDbGVhciIsIm1hcmtlZEZvckRlbGV0aW9uIiwiY2xlYXJNYXJrZWQiLCJjbGVhck1vZGFsQ2FjaGUiLCJyZW1vdmVkSXRlbXNDb3VudCIsImhhc01vZGFsUGFnZXMiLCJpc01vZGFsIiwibW9kYWxDYWNoZUNsZWFyZWQiLCJOU1JvdXRlUmV1c2VTdHJhdGVneSIsImNhY2hlQnlPdXRsZXQiLCJyb3V0ZSIsImZpbmRWYWxpZE91dGxldEFuZEtleSIsImlzUGFnZUFjdGl2YXRlZCIsInRtcCIsInRhcmdldFJvdXRlIiwicm91dGVPdXRsZXRLZXkiLCJpbmNsdWRlcyIsInNob3VsZEF0dGFjaCIsInN0b3JlIiwidG9wSXRlbSIsInJldHJpZXZlIiwiY2FjaGVkSXRlbSIsInNob3VsZFJldXNlUm91dGUiLCJmdXR1cmUiLCJjdXJyIiwic2hvdWxkUmV1c2UiLCJyb3V0ZUNvbmZpZyIsImNsZWFyQ2FjaGUiLCJtYXJrQ2FjaGVGb3JDbGVhciIsInBvcENhY2hlIiwibWFya0NhY2hlRm9yUG9wIiwiY2xlYXJNYXJrZWRDYWNoZSIsIlJvdXRlckV4dGVuc2lvbnMiLCJyb3V0ZXIiLCJjb21tYW5kcyIsImV4dHJhcyIsIm5hdmlnYXRlQnlVcmwiLCJiYWNrTmF2aWdhdGlvbk9wdGlvbnMiLCJiYWNrT3V0bGV0cyIsIm91dGxldHNUb0JhY2siLCJmaW5kT3V0bGV0c1RvQmFjayIsIm91dGxldFRvQmFjayIsImJhY2tUb1ByZXZpb3VzUGFnZSIsImNhbkdvQmFja1RvUHJldmlvdXNQYWdlIiwicm9vdFJvdXRlIiwicm91dGVyU3RhdGUiLCJyZWxhdGl2ZVJvdXRlIiwicmVsYXRpdmVUbyIsInJlbGF0aXZlUm91dGVPdXRsZXQiLCJmaW5kT3V0bGV0QnlSb3V0ZSIsImZpbmRPdXRsZXRzUmVjdXJzaXZlIiwiY3VycmVudFJvdXRlU25hcHNob3AiLCJSb3V0ZXIiLCJOU1JvdXRlckxpbmsiLCJuZ1pvbmUiLCJuYXZpZ2F0b3IiLCJwYWdlVHJhbnNpdGlvbiIsIm9uVGFwIiwic3RyaW5naWZ5IiwicGFnZVRyYW5zaXRpb25EdXJhdGlvbiIsImdldEV4dHJhcyIsImZyYWdtZW50IiwicXVlcnlQYXJhbXNIYW5kbGluZyIsInByZXNlcnZlRnJhZ21lbnQiLCJhdHRyQm9vbFZhbHVlIiwidHJhbnNpdGlvbiIsImdldFRyYW5zaXRpb24iLCJza2lwTG9jYXRpb25DaGFuZ2UiLCJyZXBsYWNlVXJsIiwiY29udmVydENsZWFySGlzdG9yeSIsInVybFRyZWUiLCJjcmVhdGVVcmxUcmVlIiwiaXNOYU4iLCJwcmVzZXJ2ZVF1ZXJ5UGFyYW1zIiwiY29udGFpbnNUcmVlIiwiY29udGFpbmVyIiwiY29udGFpbmVlIiwiZXhhY3QiLCJlcXVhbFNlZ21lbnRHcm91cHMiLCJjb250YWluc1NlZ21lbnRHcm91cCIsImVxdWFsUGF0aCIsInNlZ21lbnRzIiwibnVtYmVyT2ZDaGlsZHJlbiIsImNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyIiwiY29udGFpbmVlUGF0aHMiLCJoYXNDaGlsZHJlbiIsImEiLCJiIiwiTlNSb3V0ZXJMaW5rQWN0aXZlIiwiYWN0aXZlIiwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucyIsInN1YnNjcmlwdGlvbiIsImlzQWN0aXZlIiwibGlua3MiLCJuc1JvdXRlckxpbmtBY3RpdmUiLCJ1bnN1YnNjcmliZSIsImhhc0FjdGl2ZUxpbmtzIiwicGFyc2VVcmwiLCJpc0FjdGl2ZUxpbmtzIiwicmVkdWNlTGlzdCIsInEiLCJyZWR1Y2UiLCJyZXMiLCJsaW5rIiwiaXNMaW5rQWN0aXZlIiwiUGFnZVJvdXRlIiwic3RhcnRSb3V0ZSIsImlzQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiY2FsbGFibGVPbmNlIiwiY2FsbGVkIiwiRGVzdHJ1Y3RpYmxlSW5qZWN0b3IiLCJkZXN0cnVjdGlibGVQcm92aWRlcnMiLCJyZWZzIiwidG9rZW4iLCJub3RGb3VuZFZhbHVlIiwic2tpcFNlbGYiLCJyb3V0ZVRvU3RyaW5nIiwiUGFnZVJvdXRlck91dGxldCIsImxvY2F0aW9uSW5qZWN0b3IiLCJsb2NhdGlvbkZhY3RvcnlSZXNvbHZlciIsImlzQWN0aXZhdGVkIiwiYWN0aXZhdGVkIiwiX2FjdGl2YXRlZFJvdXRlIiwiYWN0aXZhdGVkUm91dGVEYXRhIiwicGFyZW50Q29udGV4dHMiLCJhY3Rpb25CYXJWaXNpYmlsaXR5IiwiaXNFbXB0eU91dGxldCIsInBhZ2VGYWN0b3J5Iiwicm91dGVSZXVzZVN0cmF0ZWd5IiwiZW52aXJvbm1lbnRJbmplY3RvciIsImF0dGFjaEV2ZW50cyIsImRldGFjaEV2ZW50cyIsImFjdGl2YXRlRXZlbnRzIiwiZGVhY3RpdmF0ZUV2ZW50cyIsInNldEFjdGlvbkJhclZpc2liaWxpdHkiLCJvbkNoaWxkT3V0bGV0Q3JlYXRlZCIsImRldGFjaGVkTG9hZGVyRmFjdG9yeSIsImdldENvbnRleHQiLCJvbkNoaWxkT3V0bGV0RGVzdHJveWVkIiwiZGVhY3RpdmF0ZSIsInBvc3ROYXZGdW5jdGlvbiIsIm1hcmtBY3RpdmF0ZWRSb3V0ZSIsImlzRmluYWxQYWdlUm91dGVyT3V0bGV0IiwiY2hpbGRDb250ZXh0IiwiYWN0aXZhdGVXaXRoIiwiZ2V0T3V0bGV0IiwiYWN0aXZhdGVPbkdvRm9yd2FyZCIsInJlc29sdmVyT3JJbmplY3RvciIsImdldENvbXBvbmVudFR5cGUiLCJpc05hdmlnYXRpb24iLCJkZXN0cnVjdGlibGVzIiwicGFyZW50SW5qZWN0b3IiLCJnZXRPckNyZWF0ZUNvbnRleHQiLCJsb2FkQ29tcG9uZW50SW5QYWdlIiwibmF2aWdhdGlvbkNvbnRleHQiLCJjb21wb25lbnRWaWV3IiwidG9wQWN0aXZhdGVkUm91dGUiLCJ0aGlzUm91dGVLZXkiLCJuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2siLCJ3cmFwIiwiaXNCYWNrTmF2aWdhdGlvbiIsIm5hdmlnYXRlZEZyb21FdmVudCIsImdldEN1cnJlbnROYXZpZ2F0aW9uIiwiaXNSZXBsYWNlIiwid2lwZUNhY2hlIiwiY2xlYXJDYWxsYmFjayIsIm5hdmlnYXRlZFRvRXZlbnQiLCJuYXZpZ2F0aW9uRW50cnkiLCJjdXJyZW50UGFnZSIsInJlcGxhY2VQYWdlIiwiY2hpbGRSb3V0ZSIsIkVudmlyb25tZW50SW5qZWN0b3IiLCJOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIiwiZ2V0QmFzZUhyZWZGcm9tRE9NIiwib25IYXNoQ2hhbmdlIiwiX2ZuIiwic2VhcmNoIiwiaGFzaCIsInBhdGhuYW1lIiwiX25ld1BhdGgiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50IiwicGFnZVJvdXRlck91dGxldCIsInByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5IiwiTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlIiwiZm9yUm9vdCIsInJvdXRlcyIsIm5nTW9kdWxlIiwiZm9yQ2hpbGQiLCJjdXJyZW50UmFmSWQiLCJub29wIiwiTmF0aXZlU2NyaXB0Tmdab25lIiwiZW5hYmxlTG9uZ1N0YWNrVHJhY2UiLCJzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIiwic2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24iLCJoYXNQZW5kaW5nTWFjcm90YXNrcyIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaXNTdGFibGUiLCJvblVuc3RhYmxlIiwib25NaWNyb3Rhc2tFbXB0eSIsIm9uU3RhYmxlIiwib25FcnJvciIsImFzc2VydFpvbmVQYXRjaGVkIiwic2VsZiIsIl9uZXN0aW5nIiwiX291dGVyIiwiX2lubmVyIiwiZm9yayIsImxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCIsIm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkIiwiZGlzcGF0Y2hUb01haW5UaHJlYWQiLCJmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvciIsImlzSW5Bbmd1bGFyWm9uZSIsImFzc2VydEluQW5ndWxhclpvbmUiLCJhc3NlcnROb3RJbkFuZ3VsYXJab25lIiwiYXBwbHlUaGlzIiwiYXBwbHlBcmdzIiwicnVuVGFzayIsIkVNUFRZX1BBWUxPQUQiLCJydW5HdWFyZGVkIiwicnVuT3V0c2lkZUFuZ3VsYXIiLCJjaGVja1N0YWJsZSIsImRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzIiwiaXNDaGVja1N0YWJsZVJ1bm5pbmciLCJmYWtlVG9wRXZlbnRUYXNrIiwidXBkYXRlTWljcm9UYXNrU3RhdHVzIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSIsImlzQW5ndWxhclpvbmUiLCJvbkludm9rZVRhc2siLCJkZWxlZ2F0ZSIsIm9uRW50ZXIiLCJpbnZva2VUYXNrIiwiaXNNYWluVGhyZWFkIiwib25MZWF2ZSIsIm9uSW52b2tlIiwic291cmNlIiwib25IYXNUYXNrIiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsIl9oYXNQZW5kaW5nTWljcm90YXNrcyIsIm1pY3JvVGFzayIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJoYW5kbGVFcnJvciIsIsm1Q09NUE9ORU5UX1ZBUklBQkxFIiwiybVDT05URU5UX0FUVFIiLCLJtUhPU1RfQVRUUiIsIsm1TmF0aXZlU2NyaXB0QW5ndWxhckRlYnVnIiwiybVWaWV3VXRpbCIsIsm1YWN0aW9uQmFyTWV0YSIsIsm1ZWxlbWVudE1hcCIsIsm1aXNBY3Rpb25JdGVtIiwiybVpc05hdmlnYXRpb25CdXR0b24iXSwic291cmNlUm9vdCI6IiJ9